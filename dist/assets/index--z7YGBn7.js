(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function mc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ov(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var r=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var a=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return n[s]}})}),r}var Qd={exports:{}},Vl={};var q1;function BS(){if(q1)return Vl;q1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Vl.Fragment=e,Vl.jsx=r,Vl.jsxs=r,Vl}var $1;function CS(){return $1||($1=1,Qd.exports=BS()),Qd.exports}var w=CS(),e0={exports:{}};function OS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jv={exports:{}},vn=jv.exports={},ui,fi;function V0(){throw new Error("setTimeout has not been defined")}function K0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ui=setTimeout:ui=V0}catch{ui=V0}try{typeof clearTimeout=="function"?fi=clearTimeout:fi=K0}catch{fi=K0}})();function Mv(n){if(ui===setTimeout)return setTimeout(n,0);if((ui===V0||!ui)&&setTimeout)return ui=setTimeout,setTimeout(n,0);try{return ui(n,0)}catch{try{return ui.call(null,n,0)}catch{return ui.call(this,n,0)}}}function jS(n){if(fi===clearTimeout)return clearTimeout(n);if((fi===K0||!fi)&&clearTimeout)return fi=clearTimeout,clearTimeout(n);try{return fi(n)}catch{try{return fi.call(null,n)}catch{return fi.call(this,n)}}}var Zi=[],Io=!1,ya,rf=-1;function MS(){!Io||!ya||(Io=!1,ya.length?Zi=ya.concat(Zi):rf=-1,Zi.length&&Uv())}function Uv(){if(!Io){var n=Mv(MS);Io=!0;for(var e=Zi.length;e;){for(ya=Zi,Zi=[];++rf<e;)ya&&ya[rf].run();rf=-1,e=Zi.length}ya=null,Io=!1,jS(n)}}vn.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Zi.push(new Lv(n,e)),Zi.length===1&&!Io&&Mv(Uv)};function Lv(n,e){this.fun=n,this.array=e}Lv.prototype.run=function(){this.fun.apply(null,this.array)};vn.title="browser";vn.browser=!0;vn.env={};vn.argv=[];vn.version="";vn.versions={};function ts(){}vn.on=ts;vn.addListener=ts;vn.once=ts;vn.off=ts;vn.removeListener=ts;vn.removeAllListeners=ts;vn.emit=ts;vn.prependListener=ts;vn.prependOnceListener=ts;vn.listeners=function(n){return[]};vn.binding=function(n){throw new Error("process.binding is not supported")};vn.cwd=function(){return"/"};vn.chdir=function(n){throw new Error("process.chdir is not supported")};vn.umask=function(){return 0};var US=jv.exports;const Do=OS(US);var st={},H1;function LS(){if(H1)return st;H1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),k=Symbol.iterator;function j(T){return T===null||typeof T!="object"?null:(T=k&&T[k]||T["@@iterator"],typeof T=="function"?T:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,H={};function X(T,b,x){this.props=T,this.context=b,this.refs=H,this.updater=x||z}X.prototype.isReactComponent={},X.prototype.setState=function(T,b){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,b,"setState")},X.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function P(){}P.prototype=X.prototype;function F(T,b,x){this.props=T,this.context=b,this.refs=H,this.updater=x||z}var ne=F.prototype=new P;ne.constructor=F,$(ne,X.prototype),ne.isPureReactComponent=!0;var he=Array.isArray;function fe(){}var le={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function M(T,b,x){var L=x.ref;return{$$typeof:n,type:T,key:b,ref:L!==void 0?L:null,props:x}}function q(T,b){return M(T.type,b,T.props)}function W(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function I(T){var b={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(x){return b[x]})}var E=/\/+/g;function p(T,b){return typeof T=="object"&&T!==null&&T.key!=null?I(""+T.key):b.toString(36)}function v(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(fe,fe):(T.status="pending",T.then(function(b){T.status==="pending"&&(T.status="fulfilled",T.value=b)},function(b){T.status==="pending"&&(T.status="rejected",T.reason=b)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function _(T,b,x,L,V){var te=typeof T;(te==="undefined"||te==="boolean")&&(T=null);var ae=!1;if(T===null)ae=!0;else switch(te){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(T.$$typeof){case n:case e:ae=!0;break;case g:return ae=T._init,_(ae(T._payload),b,x,L,V)}}if(ae)return V=V(T),ae=L===""?"."+p(T,0):L,he(V)?(x="",ae!=null&&(x=ae.replace(E,"$&/")+"/"),_(V,b,x,"",function(Je){return Je})):V!=null&&(W(V)&&(V=q(V,x+(V.key==null||T&&T.key===V.key?"":(""+V.key).replace(E,"$&/")+"/")+ae)),b.push(V)),1;ae=0;var Te=L===""?".":L+":";if(he(T))for(var ke=0;ke<T.length;ke++)L=T[ke],te=Te+p(L,ke),ae+=_(L,b,x,te,V);else if(ke=j(T),typeof ke=="function")for(T=ke.call(T),ke=0;!(L=T.next()).done;)L=L.value,te=Te+p(L,ke++),ae+=_(L,b,x,te,V);else if(te==="object"){if(typeof T.then=="function")return _(v(T),b,x,L,V);throw b=String(T),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.")}return ae}function N(T,b,x){if(T==null)return T;var L=[],V=0;return _(T,L,"","",function(te){return b.call(x,te,V++)}),L}function B(T){if(T._status===-1){var b=T._result;b=b(),b.then(function(x){(T._status===0||T._status===-1)&&(T._status=1,T._result=x)},function(x){(T._status===0||T._status===-1)&&(T._status=2,T._result=x)}),T._status===-1&&(T._status=0,T._result=b)}if(T._status===1)return T._result.default;throw T._result}var G=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(b))return}else if(typeof Do=="object"&&typeof Do.emit=="function"){Do.emit("uncaughtException",T);return}console.error(T)},J={map:N,forEach:function(T,b,x){N(T,function(){b.apply(this,arguments)},x)},count:function(T){var b=0;return N(T,function(){b++}),b},toArray:function(T){return N(T,function(b){return b})||[]},only:function(T){if(!W(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return st.Activity=S,st.Children=J,st.Component=X,st.Fragment=r,st.Profiler=a,st.PureComponent=F,st.StrictMode=s,st.Suspense=f,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,st.__COMPILER_RUNTIME={__proto__:null,c:function(T){return le.H.useMemoCache(T)}},st.cache=function(T){return function(){return T.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(T,b,x){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var L=$({},T.props),V=T.key;if(b!=null)for(te in b.key!==void 0&&(V=""+b.key),b)!D.call(b,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&b.ref===void 0||(L[te]=b[te]);var te=arguments.length-2;if(te===1)L.children=x;else if(1<te){for(var ae=Array(te),Te=0;Te<te;Te++)ae[Te]=arguments[Te+2];L.children=ae}return M(T.type,V,L)},st.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},st.createElement=function(T,b,x){var L,V={},te=null;if(b!=null)for(L in b.key!==void 0&&(te=""+b.key),b)D.call(b,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(V[L]=b[L]);var ae=arguments.length-2;if(ae===1)V.children=x;else if(1<ae){for(var Te=Array(ae),ke=0;ke<ae;ke++)Te[ke]=arguments[ke+2];V.children=Te}if(T&&T.defaultProps)for(L in ae=T.defaultProps,ae)V[L]===void 0&&(V[L]=ae[L]);return M(T,te,V)},st.createRef=function(){return{current:null}},st.forwardRef=function(T){return{$$typeof:h,render:T}},st.isValidElement=W,st.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:B}},st.memo=function(T,b){return{$$typeof:m,type:T,compare:b===void 0?null:b}},st.startTransition=function(T){var b=le.T,x={};le.T=x;try{var L=T(),V=le.S;V!==null&&V(x,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(fe,G)}catch(te){G(te)}finally{b!==null&&x.types!==null&&(b.types=x.types),le.T=b}},st.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},st.use=function(T){return le.H.use(T)},st.useActionState=function(T,b,x){return le.H.useActionState(T,b,x)},st.useCallback=function(T,b){return le.H.useCallback(T,b)},st.useContext=function(T){return le.H.useContext(T)},st.useDebugValue=function(){},st.useDeferredValue=function(T,b){return le.H.useDeferredValue(T,b)},st.useEffect=function(T,b){return le.H.useEffect(T,b)},st.useEffectEvent=function(T){return le.H.useEffectEvent(T)},st.useId=function(){return le.H.useId()},st.useImperativeHandle=function(T,b,x){return le.H.useImperativeHandle(T,b,x)},st.useInsertionEffect=function(T,b){return le.H.useInsertionEffect(T,b)},st.useLayoutEffect=function(T,b){return le.H.useLayoutEffect(T,b)},st.useMemo=function(T,b){return le.H.useMemo(T,b)},st.useOptimistic=function(T,b){return le.H.useOptimistic(T,b)},st.useReducer=function(T,b,x){return le.H.useReducer(T,b,x)},st.useRef=function(T){return le.H.useRef(T)},st.useState=function(T){return le.H.useState(T)},st.useSyncExternalStore=function(T,b,x){return le.H.useSyncExternalStore(T,b,x)},st.useTransition=function(){return le.H.useTransition()},st.version="19.2.4",st}var P1;function km(){return P1||(P1=1,e0.exports=LS()),e0.exports}var ue=km();const Cn=mc(ue);var t0={exports:{}},Kl={},n0={exports:{}},r0={};var F1;function IS(){return F1||(F1=1,(function(n){function e(_,N){var B=_.length;_.push(N);e:for(;0<B;){var G=B-1>>>1,J=_[G];if(0<a(J,N))_[G]=N,_[B]=J,B=G;else break e}}function r(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var N=_[0],B=_.pop();if(B!==N){_[0]=B;e:for(var G=0,J=_.length,T=J>>>1;G<T;){var b=2*(G+1)-1,x=_[b],L=b+1,V=_[L];if(0>a(x,B))L<J&&0>a(V,x)?(_[G]=V,_[L]=B,G=L):(_[G]=x,_[b]=B,G=b);else if(L<J&&0>a(V,B))_[G]=V,_[L]=B,G=L;else break e}}return N}function a(_,N){var B=_.sortIndex-N.sortIndex;return B!==0?B:_.id-N.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],g=1,S=null,k=3,j=!1,z=!1,$=!1,H=!1,X=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ne(_){for(var N=r(m);N!==null;){if(N.callback===null)s(m);else if(N.startTime<=_)s(m),N.sortIndex=N.expirationTime,e(f,N);else break;N=r(m)}}function he(_){if($=!1,ne(_),!z)if(r(f)!==null)z=!0,fe||(fe=!0,I());else{var N=r(m);N!==null&&v(he,N.startTime-_)}}var fe=!1,le=-1,D=5,M=-1;function q(){return H?!0:!(n.unstable_now()-M<D)}function W(){if(H=!1,fe){var _=n.unstable_now();M=_;var N=!0;try{e:{z=!1,$&&($=!1,P(le),le=-1),j=!0;var B=k;try{t:{for(ne(_),S=r(f);S!==null&&!(S.expirationTime>_&&q());){var G=S.callback;if(typeof G=="function"){S.callback=null,k=S.priorityLevel;var J=G(S.expirationTime<=_);if(_=n.unstable_now(),typeof J=="function"){S.callback=J,ne(_),N=!0;break t}S===r(f)&&s(f),ne(_)}else s(f);S=r(f)}if(S!==null)N=!0;else{var T=r(m);T!==null&&v(he,T.startTime-_),N=!1}}break e}finally{S=null,k=B,j=!1}N=void 0}}finally{N?I():fe=!1}}}var I;if(typeof F=="function")I=function(){F(W)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,p=E.port2;E.port1.onmessage=W,I=function(){p.postMessage(null)}}else I=function(){X(W,0)};function v(_,N){le=X(function(){_(n.unstable_now())},N)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_){_.callback=null},n.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<_?Math.floor(1e3/_):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_next=function(_){switch(k){case 1:case 2:case 3:var N=3;break;default:N=k}var B=k;k=N;try{return _()}finally{k=B}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(_,N){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var B=k;k=_;try{return N()}finally{k=B}},n.unstable_scheduleCallback=function(_,N,B){var G=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,_){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=B+J,_={id:g++,callback:N,priorityLevel:_,startTime:B,expirationTime:J,sortIndex:-1},B>G?(_.sortIndex=B,e(m,_),r(f)===null&&_===r(m)&&($?(P(le),le=-1):$=!0,v(he,B-G))):(_.sortIndex=J,e(f,_),z||j||(z=!0,fe||(fe=!0,I()))),_},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(_){var N=k;return function(){var B=k;k=N;try{return _.apply(this,arguments)}finally{k=B}}}})(r0)),r0}var G1;function DS(){return G1||(G1=1,n0.exports=IS()),n0.exports}var i0={exports:{}},Wn={};var V1;function zS(){if(V1)return Wn;V1=1;var n=km();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:f,containerInfo:m,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wn.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,g)},Wn.flushSync=function(f){var m=u.T,g=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=m,s.p=g,s.d.f()}},Wn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},Wn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Wn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,S=h(g,m.crossOrigin),k=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:k,fetchPriority:j}):g==="script"&&s.d.X(f,{crossOrigin:S,integrity:k,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Wn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},Wn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,S=h(g,m.crossOrigin);s.d.L(f,g,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Wn.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=h(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},Wn.requestFormReset=function(f){s.d.r(f)},Wn.unstable_batchedUpdates=function(f,m){return f(m)},Wn.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},Wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Wn.version="19.2.4",Wn}var K1;function Iv(){if(K1)return i0.exports;K1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),i0.exports=zS(),i0.exports}var Y1;function qS(){if(Y1)return Kl;Y1=1;var n=DS(),e=km(),r=Iv();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function f(t){if(l(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=l(t),i===null)throw Error(s(188));return i!==t?null:t}for(var o=t,c=i;;){var d=o.return;if(d===null)break;var y=d.alternate;if(y===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===o)return f(d),t;if(y===c)return f(d),i;y=y.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=y;else{for(var U=!1,Z=d.child;Z;){if(Z===o){U=!0,o=d,c=y;break}if(Z===c){U=!0,c=d,o=y;break}Z=Z.sibling}if(!U){for(Z=y.child;Z;){if(Z===o){U=!0,o=y,c=d;break}if(Z===c){U=!0,c=y,o=d;break}Z=Z.sibling}if(!U)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,k=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var E=Symbol.for("react.client.reference");function p(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===E?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case X:return"Profiler";case H:return"StrictMode";case he:return"Suspense";case fe:return"SuspenseList";case M:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case F:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case ne:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case le:return i=t.displayName||null,i!==null?i:p(t.type)||"Memo";case D:i=t._payload,t=t._init;try{return p(t(i))}catch{}}return null}var v=Array.isArray,_=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},G=[],J=-1;function T(t){return{current:t}}function b(t){0>J||(t.current=G[J],G[J]=null,J--)}function x(t,i){J++,G[J]=t.current,t.current=i}var L=T(null),V=T(null),te=T(null),ae=T(null);function Te(t,i){switch(x(te,i),x(V,t),x(L,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?c1(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=c1(i),t=u1(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}b(L),x(L,t)}function ke(){b(L),b(V),b(te)}function Je(t){t.memoizedState!==null&&x(ae,t);var i=L.current,o=u1(i,t.type);i!==o&&(x(V,t),x(L,o))}function $e(t){V.current===t&&(b(L),b(V)),ae.current===t&&(b(ae),Hl._currentValue=B)}var nt,Kt;function Qe(t){if(nt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);nt=i&&i[1]||"",Kt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+t+Kt}var Ge=!1;function Yn(t,i){if(!t||Ge)return"";Ge=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(_e){var ve=_e}Reflect.construct(t,[],Re)}else{try{Re.call()}catch(_e){ve=_e}t.call(Re.prototype)}}else{try{throw Error()}catch(_e){ve=_e}(Re=t())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(_e){if(_e&&ve&&typeof _e.stack=="string")return[_e.stack,ve.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),U=y[0],Z=y[1];if(U&&Z){var re=U.split(`
`),be=Z.split(`
`);for(d=c=0;c<re.length&&!re[c].includes("DetermineComponentFrameRoot");)c++;for(;d<be.length&&!be[d].includes("DetermineComponentFrameRoot");)d++;if(c===re.length||d===be.length)for(c=re.length-1,d=be.length-1;1<=c&&0<=d&&re[c]!==be[d];)d--;for(;1<=c&&0<=d;c--,d--)if(re[c]!==be[d]){if(c!==1||d!==1)do if(c--,d--,0>d||re[c]!==be[d]){var Ee=`
`+re[c].replace(" at new "," at ");return t.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",t.displayName)),Ee}while(1<=c&&0<=d);break}}}finally{Ge=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Qe(o):""}function Bt(t,i){switch(t.tag){case 26:case 27:case 5:return Qe(t.type);case 16:return Qe("Lazy");case 13:return t.child!==i&&i!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return Yn(t.type,!1);case 11:return Yn(t.type.render,!1);case 1:return Yn(t.type,!0);case 31:return Qe("Activity");default:return""}}function Gt(t){try{var i="",o=null;do i+=Bt(t,o),o=t,t=t.return;while(t);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ei=Object.prototype.hasOwnProperty,Ct=n.unstable_scheduleCallback,zt=n.unstable_cancelCallback,Zt=n.unstable_shouldYield,ut=n.unstable_requestPaint,ot=n.unstable_now,On=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,qt=n.unstable_UserBlockingPriority,kn=n.unstable_NormalPriority,Tt=n.unstable_LowPriority,K=n.unstable_IdlePriority,R=n.log,C=n.unstable_setDisableYieldValue,Q=null,se=null;function de(t){if(typeof R=="function"&&C(t),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(Q,t)}catch{}}var xe=Math.clz32?Math.clz32:Ze,rt=Math.log,We=Math.LN2;function Ze(t){return t>>>=0,t===0?32:31-(rt(t)/We|0)|0}var At=256,He=262144,jt=4194304;function pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ut(t,i,o){var c=t.pendingLanes;if(c===0)return 0;var d=0,y=t.suspendedLanes,U=t.pingedLanes;t=t.warmLanes;var Z=c&134217727;return Z!==0?(c=Z&~y,c!==0?d=pn(c):(U&=Z,U!==0?d=pn(U):o||(o=Z&~t,o!==0&&(d=pn(o))))):(Z=c&~y,Z!==0?d=pn(Z):U!==0?d=pn(U):o||(o=c&~t,o!==0&&(d=pn(o)))),d===0?0:i!==0&&i!==d&&(i&y)===0&&(y=d&-d,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:d}function $t(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xt(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function Y(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function A(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function O(t,i,o,c,d,y){var U=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var Z=t.entanglements,re=t.expirationTimes,be=t.hiddenUpdates;for(o=U&~o;0<o;){var Ee=31-xe(o),Re=1<<Ee;Z[Ee]=0,re[Ee]=-1;var ve=be[Ee];if(ve!==null)for(be[Ee]=null,Ee=0;Ee<ve.length;Ee++){var _e=ve[Ee];_e!==null&&(_e.lane&=-536870913)}o&=~Re}c!==0&&ee(t,c,0),y!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=y&~(U&~i))}function ee(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-xe(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|o&261930}function ce(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var c=31-xe(o),d=1<<c;d&i|t[c]&i&&(t[c]|=i),o&=~d}}function pe(t,i){var o=i&-i;return o=(o&42)!==0?1:Se(o),(o&(t.suspendedLanes|i))!==0?0:o}function Se(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function it(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tt(){var t=N.p;return t!==0?t:(t=window.event,t===void 0?32:j1(t.type))}function et(t,i){var o=N.p;try{return N.p=t,i()}finally{N.p=o}}var Et=Math.random().toString(36).slice(2),Me="__reactFiber$"+Et,_t="__reactProps$"+Et,wi="__reactContainer$"+Et,en="__reactEvents$"+Et,on="__reactListeners$"+Et,nl="__reactHandles$"+Et,Ca="__reactResources$"+Et,xi="__reactMarker$"+Et;function Ks(t){delete t[Me],delete t[_t],delete t[en],delete t[on],delete t[nl]}function ti(t){var i=t[Me];if(i)return i;for(var o=t.parentNode;o;){if(i=o[wi]||o[Me]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=y1(t);t!==null;){if(o=t[Me])return o;t=y1(t)}return i}t=o,o=t.parentNode}return null}function ni(t){if(t=t[Me]||t[wi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _i(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ri(t){var i=t[Ca];return i||(i=t[Ca]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ln(t){t[xi]=!0}var Oa=new Set,ja={};function Hr(t,i){ii(t,i),ii(t+"Capture",i)}function ii(t,i){for(ja[t]=i,t=0;t<i.length;t++)Oa.add(i[t])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ma={},Ua={};function il(t){return ei.call(Ua,t)?!0:ei.call(Ma,t)?!1:rl.test(t)?Ua[t]=!0:(Ma[t]=!0,!1)}function is(t,i,o){if(il(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function ss(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function Si(t,i,o,c){if(c===null)t.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+c)}}function _r(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tp(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function S2(t,i,o){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,y=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(U){o=""+U,y.call(this,U)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(U){o=""+U},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Vf(t){if(!t._valueTracker){var i=tp(t)?"checked":"value";t._valueTracker=S2(t,i,""+t[i])}}function np(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return t&&(c=tp(t)?t.checked?"true":"false":t.value),t=c,t!==o?(i.setValue(t),!0):!1}function kc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var E2=/[\n"\\]/g;function Sr(t){return t.replace(E2,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Kf(t,i,o,c,d,y,U,Z){t.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?t.type=U:t.removeAttribute("type"),i!=null?U==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+_r(i)):t.value!==""+_r(i)&&(t.value=""+_r(i)):U!=="submit"&&U!=="reset"||t.removeAttribute("value"),i!=null?Yf(t,U,_r(i)):o!=null?Yf(t,U,_r(o)):c!=null&&t.removeAttribute("value"),d==null&&y!=null&&(t.defaultChecked=!!y),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?t.name=""+_r(Z):t.removeAttribute("name")}function rp(t,i,o,c,d,y,U,Z){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){Vf(t);return}o=o!=null?""+_r(o):"",i=i!=null?""+_r(i):o,Z||i===t.value||(t.value=i),t.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=Z?t.checked:!!c,t.defaultChecked=!!c,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(t.name=U),Vf(t)}function Yf(t,i,o){i==="number"&&kc(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function La(t,i,o,c){if(t=t.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=i.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&c&&(t[o].defaultSelected=!0)}else{for(o=""+_r(o),i=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function ip(t,i,o){if(i!=null&&(i=""+_r(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+_r(o):""}function sp(t,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(v(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=_r(i),t.defaultValue=o,c=t.textContent,c===o&&c!==""&&c!==null&&(t.value=c),Vf(t)}function Ia(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var A2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ap(t,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,o):typeof o!="number"||o===0||A2.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function op(t,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&o[d]!==c&&ap(t,d,c)}else for(var y in i)i.hasOwnProperty(y)&&ap(t,y,i[y])}function Wf(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tc(t){return k2.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ei(){}var Zf=null;function Xf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Da=null,za=null;function lp(t){var i=ni(t);if(i&&(t=i.stateNode)){var o=t[_t]||null;e:switch(t=i.stateNode,i.type){case"input":if(Kf(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sr(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==t&&c.form===t.form){var d=c[_t]||null;if(!d)throw Error(s(90));Kf(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===t.form&&np(c)}break e;case"textarea":ip(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&La(t,!!o.multiple,i,!1)}}}var Jf=!1;function cp(t,i,o){if(Jf)return t(i,o);Jf=!0;try{var c=t(i);return c}finally{if(Jf=!1,(Da!==null||za!==null)&&(pu(),Da&&(i=Da,t=za,za=Da=null,lp(i),t)))for(i=0;i<t.length;i++)lp(t[i])}}function sl(t,i){var o=t.stateNode;if(o===null)return null;var c=o[_t]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qf=!1;if(Ai)try{var al={};Object.defineProperty(al,"passive",{get:function(){Qf=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Qf=!1}var as=null,eh=null,Nc=null;function up(){if(Nc)return Nc;var t,i=eh,o=i.length,c,d="value"in as?as.value:as.textContent,y=d.length;for(t=0;t<o&&i[t]===d[t];t++);var U=o-t;for(c=1;c<=U&&i[o-c]===d[y-c];c++);return Nc=d.slice(t,1<c?1-c:void 0)}function Bc(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Cc(){return!0}function fp(){return!1}function rr(t){function i(o,c,d,y,U){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=y,this.target=U,this.currentTarget=null;for(var Z in t)t.hasOwnProperty(Z)&&(o=t[Z],this[Z]=o?o(y):y[Z]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Cc:fp,this.isPropagationStopped=fp,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){},isPersistent:Cc}),i}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=rr(Ys),ol=S({},Ys,{view:0,detail:0}),T2=rr(ol),th,nh,ll,jc=S({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ih,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ll&&(ll&&t.type==="mousemove"?(th=t.screenX-ll.screenX,nh=t.screenY-ll.screenY):nh=th=0,ll=t),th)},movementY:function(t){return"movementY"in t?t.movementY:nh}}),hp=rr(jc),N2=S({},jc,{dataTransfer:0}),B2=rr(N2),C2=S({},ol,{relatedTarget:0}),rh=rr(C2),O2=S({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),j2=rr(O2),M2=S({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U2=rr(M2),L2=S({},Ys,{data:0}),dp=rr(L2),I2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q2(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=z2[t])?!!i[t]:!1}function ih(){return q2}var $2=S({},ol,{key:function(t){if(t.key){var i=I2[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ih,charCode:function(t){return t.type==="keypress"?Bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H2=rr($2),P2=S({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=rr(P2),F2=S({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ih}),G2=rr(F2),V2=S({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),K2=rr(V2),Y2=S({},jc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W2=rr(Y2),Z2=S({},Ys,{newState:0,oldState:0}),X2=rr(Z2),J2=[9,13,27,32],sh=Ai&&"CompositionEvent"in window,cl=null;Ai&&"documentMode"in document&&(cl=document.documentMode);var Q2=Ai&&"TextEvent"in window&&!cl,pp=Ai&&(!sh||cl&&8<cl&&11>=cl),gp=" ",yp=!1;function bp(t,i){switch(t){case"keyup":return J2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function e_(t,i){switch(t){case"compositionend":return vp(i);case"keypress":return i.which!==32?null:(yp=!0,gp);case"textInput":return t=i.data,t===gp&&yp?null:t;default:return null}}function t_(t,i){if(qa)return t==="compositionend"||!sh&&bp(t,i)?(t=up(),Nc=eh=as=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pp&&i.locale!=="ko"?null:i.data;default:return null}}var n_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!n_[t.type]:i==="textarea"}function xp(t,i,o,c){Da?za?za.push(c):za=[c]:Da=c,i=_u(i,"onChange"),0<i.length&&(o=new Oc("onChange","change",null,o,c),t.push({event:o,listeners:i}))}var ul=null,fl=null;function r_(t){r1(t,0)}function Mc(t){var i=_i(t);if(np(i))return t}function _p(t,i){if(t==="change")return i}var Sp=!1;if(Ai){var ah;if(Ai){var oh="oninput"in document;if(!oh){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),oh=typeof Ep.oninput=="function"}ah=oh}else ah=!1;Sp=ah&&(!document.documentMode||9<document.documentMode)}function Ap(){ul&&(ul.detachEvent("onpropertychange",Rp),fl=ul=null)}function Rp(t){if(t.propertyName==="value"&&Mc(fl)){var i=[];xp(i,fl,t,Xf(t)),cp(r_,i)}}function i_(t,i,o){t==="focusin"?(Ap(),ul=i,fl=o,ul.attachEvent("onpropertychange",Rp)):t==="focusout"&&Ap()}function s_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mc(fl)}function a_(t,i){if(t==="click")return Mc(i)}function o_(t,i){if(t==="input"||t==="change")return Mc(i)}function l_(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hr=typeof Object.is=="function"?Object.is:l_;function hl(t,i){if(hr(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!ei.call(i,d)||!hr(t[d],i[d]))return!1}return!0}function kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tp(t,i){var o=kp(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=i&&c>=i)return{node:o,offset:i-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kp(o)}}function Np(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Np(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=kc(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=kc(t.document)}return i}function lh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var c_=Ai&&"documentMode"in document&&11>=document.documentMode,$a=null,ch=null,dl=null,uh=!1;function Cp(t,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;uh||$a==null||$a!==kc(c)||(c=$a,"selectionStart"in c&&lh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),dl&&hl(dl,c)||(dl=c,c=_u(ch,"onSelect"),0<c.length&&(i=new Oc("onSelect","select",null,i,o),t.push({event:i,listeners:c}),i.target=$a)))}function Ws(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Ha={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},fh={},Op={};Ai&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Zs(t){if(fh[t])return fh[t];if(!Ha[t])return t;var i=Ha[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Op)return fh[t]=i[o];return t}var jp=Zs("animationend"),Mp=Zs("animationiteration"),Up=Zs("animationstart"),u_=Zs("transitionrun"),f_=Zs("transitionstart"),h_=Zs("transitioncancel"),Lp=Zs("transitionend"),Ip=new Map,hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hh.push("scrollEnd");function Pr(t,i){Ip.set(t,i),Hr(i,[t])}var Uc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof Do=="object"&&typeof Do.emit=="function"){Do.emit("uncaughtException",t);return}console.error(t)},Er=[],Pa=0,dh=0;function Lc(){for(var t=Pa,i=dh=Pa=0;i<t;){var o=Er[i];Er[i++]=null;var c=Er[i];Er[i++]=null;var d=Er[i];Er[i++]=null;var y=Er[i];if(Er[i++]=null,c!==null&&d!==null){var U=c.pending;U===null?d.next=d:(d.next=U.next,U.next=d),c.pending=d}y!==0&&Dp(o,d,y)}}function Ic(t,i,o,c){Er[Pa++]=t,Er[Pa++]=i,Er[Pa++]=o,Er[Pa++]=c,dh|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function mh(t,i,o,c){return Ic(t,i,o,c),Dc(t)}function Xs(t,i){return Ic(t,null,null,i),Dc(t)}function Dp(t,i,o){t.lanes|=o;var c=t.alternate;c!==null&&(c.lanes|=o);for(var d=!1,y=t.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(d=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,d&&i!==null&&(d=31-xe(o),t=y.hiddenUpdates,c=t[d],c===null?t[d]=[i]:c.push(i),i.lane=o|536870912),y):null}function Dc(t){if(50<Ul)throw Ul=0,Sd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Fa={};function d_(t,i,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(t,i,o,c){return new d_(t,i,o,c)}function ph(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,i){var o=t.alternate;return o===null?(o=dr(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function zp(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function zc(t,i,o,c,d,y){var U=0;if(c=t,typeof t=="function")ph(t)&&(U=1);else if(typeof t=="string")U=bS(t,o,L.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case M:return t=dr(31,o,i,d),t.elementType=M,t.lanes=y,t;case $:return Js(o.children,d,y,i);case H:U=8,d|=24;break;case X:return t=dr(12,o,i,d|2),t.elementType=X,t.lanes=y,t;case he:return t=dr(13,o,i,d),t.elementType=he,t.lanes=y,t;case fe:return t=dr(19,o,i,d),t.elementType=fe,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:U=10;break e;case P:U=9;break e;case ne:U=11;break e;case le:U=14;break e;case D:U=16,c=null;break e}U=29,o=Error(s(130,t===null?"null":typeof t,"")),c=null}return i=dr(U,o,i,d),i.elementType=t,i.type=c,i.lanes=y,i}function Js(t,i,o,c){return t=dr(7,t,c,i),t.lanes=o,t}function gh(t,i,o){return t=dr(6,t,null,i),t.lanes=o,t}function qp(t){var i=dr(18,null,null,0);return i.stateNode=t,i}function yh(t,i,o){return i=dr(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $p=new WeakMap;function Ar(t,i){if(typeof t=="object"&&t!==null){var o=$p.get(t);return o!==void 0?o:(i={value:t,source:i,stack:Gt(i)},$p.set(t,i),i)}return{value:t,source:i,stack:Gt(i)}}var Ga=[],Va=0,qc=null,ml=0,Rr=[],kr=0,os=null,si=1,ai="";function ki(t,i){Ga[Va++]=ml,Ga[Va++]=qc,qc=t,ml=i}function Hp(t,i,o){Rr[kr++]=si,Rr[kr++]=ai,Rr[kr++]=os,os=t;var c=si;t=ai;var d=32-xe(c)-1;c&=~(1<<d),o+=1;var y=32-xe(i)+d;if(30<y){var U=d-d%5;y=(c&(1<<U)-1).toString(32),c>>=U,d-=U,si=1<<32-xe(i)+d|o<<d|c,ai=y+t}else si=1<<y|o<<d|c,ai=t}function bh(t){t.return!==null&&(ki(t,1),Hp(t,1,0))}function vh(t){for(;t===qc;)qc=Ga[--Va],Ga[Va]=null,ml=Ga[--Va],Ga[Va]=null;for(;t===os;)os=Rr[--kr],Rr[kr]=null,ai=Rr[--kr],Rr[kr]=null,si=Rr[--kr],Rr[kr]=null}function Pp(t,i){Rr[kr++]=si,Rr[kr++]=ai,Rr[kr++]=os,si=i.id,ai=i.overflow,os=t}var Ln=null,Jt=null,St=!1,ls=null,Tr=!1,wh=Error(s(519));function cs(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Ar(i,t)),wh}function Fp(t){var i=t.stateNode,o=t.type,c=t.memoizedProps;switch(i[Me]=t,i[_t]=c,o){case"dialog":yt("cancel",i),yt("close",i);break;case"iframe":case"object":case"embed":yt("load",i);break;case"video":case"audio":for(o=0;o<Il.length;o++)yt(Il[o],i);break;case"source":yt("error",i);break;case"img":case"image":case"link":yt("error",i),yt("load",i);break;case"details":yt("toggle",i);break;case"input":yt("invalid",i),rp(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":yt("invalid",i);break;case"textarea":yt("invalid",i),sp(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||o1(i.textContent,o)?(c.popover!=null&&(yt("beforetoggle",i),yt("toggle",i)),c.onScroll!=null&&yt("scroll",i),c.onScrollEnd!=null&&yt("scrollend",i),c.onClick!=null&&(i.onclick=Ei),i=!0):i=!1,i||cs(t,!0)}function Gp(t){for(Ln=t.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:Ln=Ln.return}}function Ka(t){if(t!==Ln)return!1;if(!St)return Gp(t),St=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Dd(t.type,t.memoizedProps)),o=!o),o&&Jt&&cs(t),Gp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Jt=g1(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Jt=g1(t)}else i===27?(i=Jt,Ss(t.type)?(t=Pd,Pd=null,Jt=t):Jt=i):Jt=Ln?Br(t.stateNode.nextSibling):null;return!0}function Qs(){Jt=Ln=null,St=!1}function xh(){var t=ls;return t!==null&&(or===null?or=t:or.push.apply(or,t),ls=null),t}function pl(t){ls===null?ls=[t]:ls.push(t)}var _h=T(null),ea=null,Ti=null;function us(t,i,o){x(_h,i._currentValue),i._currentValue=o}function Ni(t){t._currentValue=_h.current,b(_h)}function Sh(t,i,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===o)break;t=t.return}}function Eh(t,i,o,c){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var y=d.dependencies;if(y!==null){var U=d.child;y=y.firstContext;e:for(;y!==null;){var Z=y;y=d;for(var re=0;re<i.length;re++)if(Z.context===i[re]){y.lanes|=o,Z=y.alternate,Z!==null&&(Z.lanes|=o),Sh(y.return,o,t),c||(U=null);break e}y=Z.next}}else if(d.tag===18){if(U=d.return,U===null)throw Error(s(341));U.lanes|=o,y=U.alternate,y!==null&&(y.lanes|=o),Sh(U,o,t),U=null}else U=d.child;if(U!==null)U.return=d;else for(U=d;U!==null;){if(U===t){U=null;break}if(d=U.sibling,d!==null){d.return=U.return,U=d;break}U=U.return}d=U}}function Ya(t,i,o,c){t=null;for(var d=i,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var U=d.alternate;if(U===null)throw Error(s(387));if(U=U.memoizedProps,U!==null){var Z=d.type;hr(d.pendingProps.value,U.value)||(t!==null?t.push(Z):t=[Z])}}else if(d===ae.current){if(U=d.alternate,U===null)throw Error(s(387));U.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}d=d.return}t!==null&&Eh(i,t,o,c),i.flags|=262144}function $c(t){for(t=t.firstContext;t!==null;){if(!hr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){ea=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function In(t){return Vp(ea,t)}function Hc(t,i){return ea===null&&ta(t),Vp(t,i)}function Vp(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ti===null){if(t===null)throw Error(s(308));Ti=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ti=Ti.next=i;return o}var m_=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},p_=n.unstable_scheduleCallback,g_=n.unstable_NormalPriority,wn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ah(){return{controller:new m_,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&p_(g_,function(){t.controller.abort()})}var yl=null,Rh=0,Wa=0,Za=null;function y_(t,i){if(yl===null){var o=yl=[];Rh=0,Wa=Nd(),Za={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Rh++,i.then(Kp,Kp),i}function Kp(){if(--Rh===0&&yl!==null){Za!==null&&(Za.status="fulfilled");var t=yl;yl=null,Wa=0,Za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function b_(t,i){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Yp=_.S;_.S=function(t,i){Cy=ot(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&y_(t,i),Yp!==null&&Yp(t,i)};var na=T(null);function kh(){var t=na.current;return t!==null?t:Vt.pooledCache}function Pc(t,i){i===null?x(na,na.current):x(na,i.pool)}function Wp(){var t=kh();return t===null?null:{parent:wn._currentValue,pool:t}}var Xa=Error(s(460)),Th=Error(s(474)),Fc=Error(s(542)),Gc={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xp(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(Ei,Ei),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qp(t),t;default:if(typeof i.status=="string")i.then(Ei,Ei);else{if(t=Vt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qp(t),t}throw ia=i,Xa}}function ra(t){try{var i=t._init;return i(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ia=o,Xa):o}}var ia=null;function Jp(){if(ia===null)throw Error(s(459));var t=ia;return ia=null,t}function Qp(t){if(t===Xa||t===Fc)throw Error(s(483))}var Ja=null,bl=0;function Vc(t){var i=bl;return bl+=1,Ja===null&&(Ja=[]),Xp(Ja,t,i)}function vl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Kc(t,i){throw i.$$typeof===k?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function eg(t){function i(me,oe){if(t){var ye=me.deletions;ye===null?(me.deletions=[oe],me.flags|=16):ye.push(oe)}}function o(me,oe){if(!t)return null;for(;oe!==null;)i(me,oe),oe=oe.sibling;return null}function c(me){for(var oe=new Map;me!==null;)me.key!==null?oe.set(me.key,me):oe.set(me.index,me),me=me.sibling;return oe}function d(me,oe){return me=Ri(me,oe),me.index=0,me.sibling=null,me}function y(me,oe,ye){return me.index=ye,t?(ye=me.alternate,ye!==null?(ye=ye.index,ye<oe?(me.flags|=67108866,oe):ye):(me.flags|=67108866,oe)):(me.flags|=1048576,oe)}function U(me){return t&&me.alternate===null&&(me.flags|=67108866),me}function Z(me,oe,ye,Ae){return oe===null||oe.tag!==6?(oe=gh(ye,me.mode,Ae),oe.return=me,oe):(oe=d(oe,ye),oe.return=me,oe)}function re(me,oe,ye,Ae){var Pe=ye.type;return Pe===$?Ee(me,oe,ye.props.children,Ae,ye.key):oe!==null&&(oe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===D&&ra(Pe)===oe.type)?(oe=d(oe,ye.props),vl(oe,ye),oe.return=me,oe):(oe=zc(ye.type,ye.key,ye.props,null,me.mode,Ae),vl(oe,ye),oe.return=me,oe)}function be(me,oe,ye,Ae){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ye.containerInfo||oe.stateNode.implementation!==ye.implementation?(oe=yh(ye,me.mode,Ae),oe.return=me,oe):(oe=d(oe,ye.children||[]),oe.return=me,oe)}function Ee(me,oe,ye,Ae,Pe){return oe===null||oe.tag!==7?(oe=Js(ye,me.mode,Ae,Pe),oe.return=me,oe):(oe=d(oe,ye),oe.return=me,oe)}function Re(me,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=gh(""+oe,me.mode,ye),oe.return=me,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:return ye=zc(oe.type,oe.key,oe.props,null,me.mode,ye),vl(ye,oe),ye.return=me,ye;case z:return oe=yh(oe,me.mode,ye),oe.return=me,oe;case D:return oe=ra(oe),Re(me,oe,ye)}if(v(oe)||I(oe))return oe=Js(oe,me.mode,ye,null),oe.return=me,oe;if(typeof oe.then=="function")return Re(me,Vc(oe),ye);if(oe.$$typeof===F)return Re(me,Hc(me,oe),ye);Kc(me,oe)}return null}function ve(me,oe,ye,Ae){var Pe=oe!==null?oe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Pe!==null?null:Z(me,oe,""+ye,Ae);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case j:return ye.key===Pe?re(me,oe,ye,Ae):null;case z:return ye.key===Pe?be(me,oe,ye,Ae):null;case D:return ye=ra(ye),ve(me,oe,ye,Ae)}if(v(ye)||I(ye))return Pe!==null?null:Ee(me,oe,ye,Ae,null);if(typeof ye.then=="function")return ve(me,oe,Vc(ye),Ae);if(ye.$$typeof===F)return ve(me,oe,Hc(me,ye),Ae);Kc(me,ye)}return null}function _e(me,oe,ye,Ae,Pe){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return me=me.get(ye)||null,Z(oe,me,""+Ae,Pe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case j:return me=me.get(Ae.key===null?ye:Ae.key)||null,re(oe,me,Ae,Pe);case z:return me=me.get(Ae.key===null?ye:Ae.key)||null,be(oe,me,Ae,Pe);case D:return Ae=ra(Ae),_e(me,oe,ye,Ae,Pe)}if(v(Ae)||I(Ae))return me=me.get(ye)||null,Ee(oe,me,Ae,Pe,null);if(typeof Ae.then=="function")return _e(me,oe,ye,Vc(Ae),Pe);if(Ae.$$typeof===F)return _e(me,oe,ye,Hc(oe,Ae),Pe);Kc(oe,Ae)}return null}function Ue(me,oe,ye,Ae){for(var Pe=null,Rt=null,De=oe,ct=oe=0,xt=null;De!==null&&ct<ye.length;ct++){De.index>ct?(xt=De,De=null):xt=De.sibling;var kt=ve(me,De,ye[ct],Ae);if(kt===null){De===null&&(De=xt);break}t&&De&&kt.alternate===null&&i(me,De),oe=y(kt,oe,ct),Rt===null?Pe=kt:Rt.sibling=kt,Rt=kt,De=xt}if(ct===ye.length)return o(me,De),St&&ki(me,ct),Pe;if(De===null){for(;ct<ye.length;ct++)De=Re(me,ye[ct],Ae),De!==null&&(oe=y(De,oe,ct),Rt===null?Pe=De:Rt.sibling=De,Rt=De);return St&&ki(me,ct),Pe}for(De=c(De);ct<ye.length;ct++)xt=_e(De,me,ct,ye[ct],Ae),xt!==null&&(t&&xt.alternate!==null&&De.delete(xt.key===null?ct:xt.key),oe=y(xt,oe,ct),Rt===null?Pe=xt:Rt.sibling=xt,Rt=xt);return t&&De.forEach(function(Ts){return i(me,Ts)}),St&&ki(me,ct),Pe}function Ke(me,oe,ye,Ae){if(ye==null)throw Error(s(151));for(var Pe=null,Rt=null,De=oe,ct=oe=0,xt=null,kt=ye.next();De!==null&&!kt.done;ct++,kt=ye.next()){De.index>ct?(xt=De,De=null):xt=De.sibling;var Ts=ve(me,De,kt.value,Ae);if(Ts===null){De===null&&(De=xt);break}t&&De&&Ts.alternate===null&&i(me,De),oe=y(Ts,oe,ct),Rt===null?Pe=Ts:Rt.sibling=Ts,Rt=Ts,De=xt}if(kt.done)return o(me,De),St&&ki(me,ct),Pe;if(De===null){for(;!kt.done;ct++,kt=ye.next())kt=Re(me,kt.value,Ae),kt!==null&&(oe=y(kt,oe,ct),Rt===null?Pe=kt:Rt.sibling=kt,Rt=kt);return St&&ki(me,ct),Pe}for(De=c(De);!kt.done;ct++,kt=ye.next())kt=_e(De,me,ct,kt.value,Ae),kt!==null&&(t&&kt.alternate!==null&&De.delete(kt.key===null?ct:kt.key),oe=y(kt,oe,ct),Rt===null?Pe=kt:Rt.sibling=kt,Rt=kt);return t&&De.forEach(function(NS){return i(me,NS)}),St&&ki(me,ct),Pe}function Ft(me,oe,ye,Ae){if(typeof ye=="object"&&ye!==null&&ye.type===$&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case j:e:{for(var Pe=ye.key;oe!==null;){if(oe.key===Pe){if(Pe=ye.type,Pe===$){if(oe.tag===7){o(me,oe.sibling),Ae=d(oe,ye.props.children),Ae.return=me,me=Ae;break e}}else if(oe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===D&&ra(Pe)===oe.type){o(me,oe.sibling),Ae=d(oe,ye.props),vl(Ae,ye),Ae.return=me,me=Ae;break e}o(me,oe);break}else i(me,oe);oe=oe.sibling}ye.type===$?(Ae=Js(ye.props.children,me.mode,Ae,ye.key),Ae.return=me,me=Ae):(Ae=zc(ye.type,ye.key,ye.props,null,me.mode,Ae),vl(Ae,ye),Ae.return=me,me=Ae)}return U(me);case z:e:{for(Pe=ye.key;oe!==null;){if(oe.key===Pe)if(oe.tag===4&&oe.stateNode.containerInfo===ye.containerInfo&&oe.stateNode.implementation===ye.implementation){o(me,oe.sibling),Ae=d(oe,ye.children||[]),Ae.return=me,me=Ae;break e}else{o(me,oe);break}else i(me,oe);oe=oe.sibling}Ae=yh(ye,me.mode,Ae),Ae.return=me,me=Ae}return U(me);case D:return ye=ra(ye),Ft(me,oe,ye,Ae)}if(v(ye))return Ue(me,oe,ye,Ae);if(I(ye)){if(Pe=I(ye),typeof Pe!="function")throw Error(s(150));return ye=Pe.call(ye),Ke(me,oe,ye,Ae)}if(typeof ye.then=="function")return Ft(me,oe,Vc(ye),Ae);if(ye.$$typeof===F)return Ft(me,oe,Hc(me,ye),Ae);Kc(me,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,oe!==null&&oe.tag===6?(o(me,oe.sibling),Ae=d(oe,ye),Ae.return=me,me=Ae):(o(me,oe),Ae=gh(ye,me.mode,Ae),Ae.return=me,me=Ae),U(me)):o(me,oe)}return function(me,oe,ye,Ae){try{bl=0;var Pe=Ft(me,oe,ye,Ae);return Ja=null,Pe}catch(De){if(De===Xa||De===Fc)throw De;var Rt=dr(29,De,null,me.mode);return Rt.lanes=Ae,Rt.return=me,Rt}}}var sa=eg(!0),tg=eg(!1),fs=!1;function Nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ds(t,i,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Nt&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=Dc(t),Dp(t,null,o),i}return Ic(t,c,i,o),Dc(t)}function wl(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,o|=c,i.lanes=o,ce(t,o)}}function Ch(t,i){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var U={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?d=y=U:y=y.next=U,o=o.next}while(o!==null);y===null?d=y=i:y=y.next=i}else d=y=i;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Oh=!1;function xl(){if(Oh){var t=Za;if(t!==null)throw t}}function _l(t,i,o,c){Oh=!1;var d=t.updateQueue;fs=!1;var y=d.firstBaseUpdate,U=d.lastBaseUpdate,Z=d.shared.pending;if(Z!==null){d.shared.pending=null;var re=Z,be=re.next;re.next=null,U===null?y=be:U.next=be,U=re;var Ee=t.alternate;Ee!==null&&(Ee=Ee.updateQueue,Z=Ee.lastBaseUpdate,Z!==U&&(Z===null?Ee.firstBaseUpdate=be:Z.next=be,Ee.lastBaseUpdate=re))}if(y!==null){var Re=d.baseState;U=0,Ee=be=re=null,Z=y;do{var ve=Z.lane&-536870913,_e=ve!==Z.lane;if(_e?(wt&ve)===ve:(c&ve)===ve){ve!==0&&ve===Wa&&(Oh=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Ue=t,Ke=Z;ve=i;var Ft=o;switch(Ke.tag){case 1:if(Ue=Ke.payload,typeof Ue=="function"){Re=Ue.call(Ft,Re,ve);break e}Re=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ke.payload,ve=typeof Ue=="function"?Ue.call(Ft,Re,ve):Ue,ve==null)break e;Re=S({},Re,ve);break e;case 2:fs=!0}}ve=Z.callback,ve!==null&&(t.flags|=64,_e&&(t.flags|=8192),_e=d.callbacks,_e===null?d.callbacks=[ve]:_e.push(ve))}else _e={lane:ve,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ee===null?(be=Ee=_e,re=Re):Ee=Ee.next=_e,U|=ve;if(Z=Z.next,Z===null){if(Z=d.shared.pending,Z===null)break;_e=Z,Z=_e.next,_e.next=null,d.lastBaseUpdate=_e,d.shared.pending=null}}while(!0);Ee===null&&(re=Re),d.baseState=re,d.firstBaseUpdate=be,d.lastBaseUpdate=Ee,y===null&&(d.shared.lanes=0),bs|=U,t.lanes=U,t.memoizedState=Re}}function ng(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function rg(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)ng(o[t],i)}var Qa=T(null),Yc=T(0);function ig(t,i){t=Di,x(Yc,t),x(Qa,i),Di=t|i.baseLanes}function jh(){x(Yc,Di),x(Qa,Qa.current)}function Mh(){Di=Yc.current,b(Qa),b(Yc)}var mr=T(null),Nr=null;function ms(t){var i=t.alternate;x(gn,gn.current&1),x(mr,t),Nr===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Nr=t)}function Uh(t){x(gn,gn.current),x(mr,t),Nr===null&&(Nr=t)}function sg(t){t.tag===22?(x(gn,gn.current),x(mr,t),Nr===null&&(Nr=t)):ps()}function ps(){x(gn,gn.current),x(mr,mr.current)}function pr(t){b(mr),Nr===t&&(Nr=null),b(gn)}var gn=T(0);function Wc(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||$d(o)||Hd(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bi=0,lt=null,Ht=null,xn=null,Zc=!1,eo=!1,aa=!1,Xc=0,Sl=0,to=null,v_=0;function cn(){throw Error(s(321))}function Lh(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!hr(t[o],i[o]))return!1;return!0}function Ih(t,i,o,c,d,y){return Bi=y,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,_.H=t===null||t.memoizedState===null?Hg:Jh,aa=!1,y=o(c,d),aa=!1,eo&&(y=og(i,o,c,d)),ag(t),y}function ag(t){_.H=Rl;var i=Ht!==null&&Ht.next!==null;if(Bi=0,xn=Ht=lt=null,Zc=!1,Sl=0,to=null,i)throw Error(s(300));t===null||_n||(t=t.dependencies,t!==null&&$c(t)&&(_n=!0))}function og(t,i,o,c){lt=t;var d=0;do{if(eo&&(to=null),Sl=0,eo=!1,25<=d)throw Error(s(301));if(d+=1,xn=Ht=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}_.H=Pg,y=i(o,c)}while(eo);return y}function w_(){var t=_.H,i=t.useState()[0];return i=typeof i.then=="function"?El(i):i,t=t.useState()[0],(Ht!==null?Ht.memoizedState:null)!==t&&(lt.flags|=1024),i}function Dh(){var t=Xc!==0;return Xc=0,t}function zh(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function qh(t){if(Zc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Zc=!1}Bi=0,xn=Ht=lt=null,eo=!1,Sl=Xc=0,to=null}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?lt.memoizedState=xn=t:xn=xn.next=t,xn}function yn(){if(Ht===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var i=xn===null?lt.memoizedState:xn.next;if(i!==null)xn=i,Ht=t;else{if(t===null)throw lt.alternate===null?Error(s(467)):Error(s(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},xn===null?lt.memoizedState=xn=t:xn=xn.next=t}return xn}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var i=Sl;return Sl+=1,to===null&&(to=[]),t=Xp(to,t,i),i=lt,(xn===null?i.memoizedState:xn.next)===null&&(i=i.alternate,_.H=i===null||i.memoizedState===null?Hg:Jh),t}function Qc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===F)return In(t)}throw Error(s(438,String(t)))}function $h(t){var i=null,o=lt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=lt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Jc(),lt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),c=0;c<t;c++)o[c]=q;return i.index++,o}function Ci(t,i){return typeof i=="function"?i(t):i}function eu(t){var i=yn();return Hh(i,Ht,t)}function Hh(t,i,o){var c=t.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=t.baseQueue,y=c.pending;if(y!==null){if(d!==null){var U=d.next;d.next=y.next,y.next=U}i.baseQueue=d=y,c.pending=null}if(y=t.baseState,d===null)t.memoizedState=y;else{i=d.next;var Z=U=null,re=null,be=i,Ee=!1;do{var Re=be.lane&-536870913;if(Re!==be.lane?(wt&Re)===Re:(Bi&Re)===Re){var ve=be.revertLane;if(ve===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Re===Wa&&(Ee=!0);else if((Bi&ve)===ve){be=be.next,ve===Wa&&(Ee=!0);continue}else Re={lane:0,revertLane:be.revertLane,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},re===null?(Z=re=Re,U=y):re=re.next=Re,lt.lanes|=ve,bs|=ve;Re=be.action,aa&&o(y,Re),y=be.hasEagerState?be.eagerState:o(y,Re)}else ve={lane:Re,revertLane:be.revertLane,gesture:be.gesture,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},re===null?(Z=re=ve,U=y):re=re.next=ve,lt.lanes|=Re,bs|=Re;be=be.next}while(be!==null&&be!==i);if(re===null?U=y:re.next=Z,!hr(y,t.memoizedState)&&(_n=!0,Ee&&(o=Za,o!==null)))throw o;t.memoizedState=y,t.baseState=U,t.baseQueue=re,c.lastRenderedState=y}return d===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Ph(t){var i=yn(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=t;var c=o.dispatch,d=o.pending,y=i.memoizedState;if(d!==null){o.pending=null;var U=d=d.next;do y=t(y,U.action),U=U.next;while(U!==d);hr(y,i.memoizedState)||(_n=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,c]}function lg(t,i,o){var c=lt,d=yn(),y=St;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=i();var U=!hr((Ht||d).memoizedState,o);if(U&&(d.memoizedState=o,_n=!0),d=d.queue,Vh(fg.bind(null,c,d,t),[t]),d.getSnapshot!==i||U||xn!==null&&xn.memoizedState.tag&1){if(c.flags|=2048,no(9,{destroy:void 0},ug.bind(null,c,d,o,i),null),Vt===null)throw Error(s(349));y||(Bi&127)!==0||cg(c,i,o)}return o}function cg(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=lt.updateQueue,i===null?(i=Jc(),lt.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function ug(t,i,o,c){i.value=o,i.getSnapshot=c,hg(i)&&dg(t)}function fg(t,i,o){return o(function(){hg(i)&&dg(t)})}function hg(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!hr(t,o)}catch{return!0}}function dg(t){var i=Xs(t,2);i!==null&&lr(i,t,2)}function Fh(t){var i=tr();if(typeof t=="function"){var o=t;if(t=o(),aa){de(!0);try{o()}finally{de(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},i}function mg(t,i,o,c){return t.baseState=o,Hh(t,Ht,typeof c=="function"?c:Ci)}function x_(t,i,o,c,d){if(ru(t))throw Error(s(485));if(t=i.action,t!==null){var y={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){y.listeners.push(U)}};_.T!==null?o(!0):y.isTransition=!1,c(y),o=i.pending,o===null?(y.next=i.pending=y,pg(i,y)):(y.next=o.next,i.pending=o.next=y)}}function pg(t,i){var o=i.action,c=i.payload,d=t.state;if(i.isTransition){var y=_.T,U={};_.T=U;try{var Z=o(d,c),re=_.S;re!==null&&re(U,Z),gg(t,i,Z)}catch(be){Gh(t,i,be)}finally{y!==null&&U.types!==null&&(y.types=U.types),_.T=y}}else try{y=o(d,c),gg(t,i,y)}catch(be){Gh(t,i,be)}}function gg(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){yg(t,i,c)},function(c){return Gh(t,i,c)}):yg(t,i,o)}function yg(t,i,o){i.status="fulfilled",i.value=o,bg(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,pg(t,o)))}function Gh(t,i,o){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,bg(i),i=i.next;while(i!==c)}t.action=null}function bg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function vg(t,i){return i}function wg(t,i){if(St){var o=Vt.formState;if(o!==null){e:{var c=lt;if(St){if(Jt){t:{for(var d=Jt,y=Tr;d.nodeType!==8;){if(!y){d=null;break t}if(d=Br(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){Jt=Br(d.nextSibling),c=d.data==="F!";break e}}cs(c)}c=!1}c&&(i=o[0])}}return o=tr(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:i},o.queue=c,o=zg.bind(null,lt,c),c.dispatch=o,c=Fh(!1),y=Xh.bind(null,lt,!1,c.queue),c=tr(),d={state:i,dispatch:null,action:t,pending:null},c.queue=d,o=x_.bind(null,lt,d,y,o),d.dispatch=o,c.memoizedState=t,[i,o,!1]}function xg(t){var i=yn();return _g(i,Ht,t)}function _g(t,i,o){if(i=Hh(t,i,vg)[0],t=eu(Ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=El(i)}catch(U){throw U===Xa?Fc:U}else c=i;i=yn();var d=i.queue,y=d.dispatch;return o!==i.memoizedState&&(lt.flags|=2048,no(9,{destroy:void 0},__.bind(null,d,o),null)),[c,y,t]}function __(t,i){t.action=i}function Sg(t){var i=yn(),o=Ht;if(o!==null)return _g(i,o,t);yn(),i=i.memoizedState,o=yn();var c=o.queue.dispatch;return o.memoizedState=t,[i,c,!1]}function no(t,i,o,c){return t={tag:t,create:o,deps:c,inst:i,next:null},i=lt.updateQueue,i===null&&(i=Jc(),lt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,i.lastEffect=t),t}function Eg(){return yn().memoizedState}function tu(t,i,o,c){var d=tr();lt.flags|=t,d.memoizedState=no(1|i,{destroy:void 0},o,c===void 0?null:c)}function nu(t,i,o,c){var d=yn();c=c===void 0?null:c;var y=d.memoizedState.inst;Ht!==null&&c!==null&&Lh(c,Ht.memoizedState.deps)?d.memoizedState=no(i,y,o,c):(lt.flags|=t,d.memoizedState=no(1|i,y,o,c))}function Ag(t,i){tu(8390656,8,t,i)}function Vh(t,i){nu(2048,8,t,i)}function S_(t){lt.flags|=4;var i=lt.updateQueue;if(i===null)i=Jc(),lt.updateQueue=i,i.events=[t];else{var o=i.events;o===null?i.events=[t]:o.push(t)}}function Rg(t){var i=yn().memoizedState;return S_({ref:i,nextImpl:t}),function(){if((Nt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function kg(t,i){return nu(4,2,t,i)}function Tg(t,i){return nu(4,4,t,i)}function Ng(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Bg(t,i,o){o=o!=null?o.concat([t]):null,nu(4,4,Ng.bind(null,i,t),o)}function Kh(){}function Cg(t,i){var o=yn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Lh(i,c[1])?c[0]:(o.memoizedState=[t,i],t)}function Og(t,i){var o=yn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Lh(i,c[1]))return c[0];if(c=t(),aa){de(!0);try{t()}finally{de(!1)}}return o.memoizedState=[c,i],c}function Yh(t,i,o){return o===void 0||(Bi&1073741824)!==0&&(wt&261930)===0?t.memoizedState=i:(t.memoizedState=o,t=jy(),lt.lanes|=t,bs|=t,o)}function jg(t,i,o,c){return hr(o,i)?o:Qa.current!==null?(t=Yh(t,o,c),hr(t,i)||(_n=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(wt&261930)===0?(_n=!0,t.memoizedState=o):(t=jy(),lt.lanes|=t,bs|=t,i)}function Mg(t,i,o,c,d){var y=N.p;N.p=y!==0&&8>y?y:8;var U=_.T,Z={};_.T=Z,Xh(t,!1,i,o);try{var re=d(),be=_.S;if(be!==null&&be(Z,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var Ee=b_(re,c);Al(t,i,Ee,br(t))}else Al(t,i,c,br(t))}catch(Re){Al(t,i,{then:function(){},status:"rejected",reason:Re},br())}finally{N.p=y,U!==null&&Z.types!==null&&(U.types=Z.types),_.T=U}}function E_(){}function Wh(t,i,o,c){if(t.tag!==5)throw Error(s(476));var d=Ug(t).queue;Mg(t,d,i,B,o===null?E_:function(){return Lg(t),o(c)})}function Ug(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:B},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Lg(t){var i=Ug(t);i.next===null&&(i=t.alternate.memoizedState),Al(t,i.next.queue,{},br())}function Zh(){return In(Hl)}function Ig(){return yn().memoizedState}function Dg(){return yn().memoizedState}function A_(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=br();t=hs(o);var c=ds(i,t,o);c!==null&&(lr(c,i,o),wl(c,i,o)),i={cache:Ah()},t.payload=i;return}i=i.return}}function R_(t,i,o){var c=br();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ru(t)?qg(i,o):(o=mh(t,i,o,c),o!==null&&(lr(o,t,c),$g(o,i,c)))}function zg(t,i,o){var c=br();Al(t,i,o,c)}function Al(t,i,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ru(t))qg(i,d);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var U=i.lastRenderedState,Z=y(U,o);if(d.hasEagerState=!0,d.eagerState=Z,hr(Z,U))return Ic(t,i,d,0),Vt===null&&Lc(),!1}catch{}if(o=mh(t,i,d,c),o!==null)return lr(o,t,c),$g(o,i,c),!0}return!1}function Xh(t,i,o,c){if(c={lane:2,revertLane:Nd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(i)throw Error(s(479))}else i=mh(t,o,c,2),i!==null&&lr(i,t,2)}function ru(t){var i=t.alternate;return t===lt||i!==null&&i===lt}function qg(t,i){eo=Zc=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function $g(t,i,o){if((o&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,o|=c,i.lanes=o,ce(t,o)}}var Rl={readContext:In,use:Qc,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Rl.useEffectEvent=cn;var Hg={readContext:In,use:Qc,useCallback:function(t,i){return tr().memoizedState=[t,i===void 0?null:i],t},useContext:In,useEffect:Ag,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,tu(4194308,4,Ng.bind(null,i,t),o)},useLayoutEffect:function(t,i){return tu(4194308,4,t,i)},useInsertionEffect:function(t,i){tu(4,2,t,i)},useMemo:function(t,i){var o=tr();i=i===void 0?null:i;var c=t();if(aa){de(!0);try{t()}finally{de(!1)}}return o.memoizedState=[c,i],c},useReducer:function(t,i,o){var c=tr();if(o!==void 0){var d=o(i);if(aa){de(!0);try{o(i)}finally{de(!1)}}}else d=i;return c.memoizedState=c.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},c.queue=t,t=t.dispatch=R_.bind(null,lt,t),[c.memoizedState,t]},useRef:function(t){var i=tr();return t={current:t},i.memoizedState=t},useState:function(t){t=Fh(t);var i=t.queue,o=zg.bind(null,lt,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:Kh,useDeferredValue:function(t,i){var o=tr();return Yh(o,t,i)},useTransition:function(){var t=Fh(!1);return t=Mg.bind(null,lt,t.queue,!0,!1),tr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var c=lt,d=tr();if(St){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),Vt===null)throw Error(s(349));(wt&127)!==0||cg(c,i,o)}d.memoizedState=o;var y={value:o,getSnapshot:i};return d.queue=y,Ag(fg.bind(null,c,y,t),[t]),c.flags|=2048,no(9,{destroy:void 0},ug.bind(null,c,y,o,i),null),o},useId:function(){var t=tr(),i=Vt.identifierPrefix;if(St){var o=ai,c=si;o=(c&~(1<<32-xe(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Xc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=v_++,i="_"+i+"r_"+o.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Zh,useFormState:wg,useActionState:wg,useOptimistic:function(t){var i=tr();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Xh.bind(null,lt,!0,o),o.dispatch=i,[t,i]},useMemoCache:$h,useCacheRefresh:function(){return tr().memoizedState=A_.bind(null,lt)},useEffectEvent:function(t){var i=tr(),o={impl:t};return i.memoizedState=o,function(){if((Nt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Jh={readContext:In,use:Qc,useCallback:Cg,useContext:In,useEffect:Vh,useImperativeHandle:Bg,useInsertionEffect:kg,useLayoutEffect:Tg,useMemo:Og,useReducer:eu,useRef:Eg,useState:function(){return eu(Ci)},useDebugValue:Kh,useDeferredValue:function(t,i){var o=yn();return jg(o,Ht.memoizedState,t,i)},useTransition:function(){var t=eu(Ci)[0],i=yn().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:lg,useId:Ig,useHostTransitionStatus:Zh,useFormState:xg,useActionState:xg,useOptimistic:function(t,i){var o=yn();return mg(o,Ht,t,i)},useMemoCache:$h,useCacheRefresh:Dg};Jh.useEffectEvent=Rg;var Pg={readContext:In,use:Qc,useCallback:Cg,useContext:In,useEffect:Vh,useImperativeHandle:Bg,useInsertionEffect:kg,useLayoutEffect:Tg,useMemo:Og,useReducer:Ph,useRef:Eg,useState:function(){return Ph(Ci)},useDebugValue:Kh,useDeferredValue:function(t,i){var o=yn();return Ht===null?Yh(o,t,i):jg(o,Ht.memoizedState,t,i)},useTransition:function(){var t=Ph(Ci)[0],i=yn().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:lg,useId:Ig,useHostTransitionStatus:Zh,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,i){var o=yn();return Ht!==null?mg(o,Ht,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:$h,useCacheRefresh:Dg};Pg.useEffectEvent=Rg;function Qh(t,i,o,c){i=t.memoizedState,o=o(c,i),o=o==null?i:S({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ed={enqueueSetState:function(t,i,o){t=t._reactInternals;var c=br(),d=hs(c);d.payload=i,o!=null&&(d.callback=o),i=ds(t,d,c),i!==null&&(lr(i,t,c),wl(i,t,c))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var c=br(),d=hs(c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=ds(t,d,c),i!==null&&(lr(i,t,c),wl(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=br(),c=hs(o);c.tag=2,i!=null&&(c.callback=i),i=ds(t,c,o),i!==null&&(lr(i,t,o),wl(i,t,o))}};function Fg(t,i,o,c,d,y,U){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,y,U):i.prototype&&i.prototype.isPureReactComponent?!hl(o,c)||!hl(d,y):!0}function Gg(t,i,o,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==t&&ed.enqueueReplaceState(i,i.state,null)}function oa(t,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(t=t.defaultProps){o===i&&(o=S({},o));for(var d in t)o[d]===void 0&&(o[d]=t[d])}return o}function Vg(t){Uc(t)}function Kg(t){console.error(t)}function Yg(t){Uc(t)}function iu(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Wg(t,i,o){try{var c=t.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function td(t,i,o){return o=hs(o),o.tag=3,o.payload={element:null},o.callback=function(){iu(t,i)},o}function Zg(t){return t=hs(t),t.tag=3,t}function Xg(t,i,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var y=c.value;t.payload=function(){return d(y)},t.callback=function(){Wg(i,o,c)}}var U=o.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(t.callback=function(){Wg(i,o,c),typeof d!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var Z=c.stack;this.componentDidCatch(c.value,{componentStack:Z!==null?Z:""})})}function k_(t,i,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Ya(i,o,d,!0),o=mr.current,o!==null){switch(o.tag){case 31:case 13:return Nr===null?gu():o.alternate===null&&un===0&&(un=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Gc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Rd(t,c,d)),!1;case 22:return o.flags|=65536,c===Gc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Rd(t,c,d)),!1}throw Error(s(435,o.tag))}return Rd(t,c,d),gu(),!1}if(St)return i=mr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==wh&&(t=Error(s(422),{cause:c}),pl(Ar(t,o)))):(c!==wh&&(i=Error(s(423),{cause:c}),pl(Ar(i,o))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,c=Ar(c,o),d=td(t.stateNode,c,d),Ch(t,d),un!==4&&(un=2)),!1;var y=Error(s(520),{cause:c});if(y=Ar(y,o),Ml===null?Ml=[y]:Ml.push(y),un!==4&&(un=2),i===null)return!0;c=Ar(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=d&-d,o.lanes|=t,t=td(o.stateNode,c,t),Ch(o,t),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vs===null||!vs.has(y))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Zg(d),Xg(d,t,o,c),Ch(o,d),!1}o=o.return}while(o!==null);return!1}var nd=Error(s(461)),_n=!1;function Dn(t,i,o,c){i.child=t===null?tg(i,null,o,c):sa(i,t.child,o,c)}function Jg(t,i,o,c,d){o=o.render;var y=i.ref;if("ref"in c){var U={};for(var Z in c)Z!=="ref"&&(U[Z]=c[Z])}else U=c;return ta(i),c=Ih(t,i,o,U,y,d),Z=Dh(),t!==null&&!_n?(zh(t,i,d),Oi(t,i,d)):(St&&Z&&bh(i),i.flags|=1,Dn(t,i,c,d),i.child)}function Qg(t,i,o,c,d){if(t===null){var y=o.type;return typeof y=="function"&&!ph(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,ey(t,i,y,c,d)):(t=zc(o.type,null,c,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(y=t.child,!ud(t,d)){var U=y.memoizedProps;if(o=o.compare,o=o!==null?o:hl,o(U,c)&&t.ref===i.ref)return Oi(t,i,d)}return i.flags|=1,t=Ri(y,c),t.ref=i.ref,t.return=i,i.child=t}function ey(t,i,o,c,d){if(t!==null){var y=t.memoizedProps;if(hl(y,c)&&t.ref===i.ref)if(_n=!1,i.pendingProps=c=y,ud(t,d))(t.flags&131072)!==0&&(_n=!0);else return i.lanes=t.lanes,Oi(t,i,d)}return rd(t,i,o,c,d)}function ty(t,i,o,c){var d=c.children,y=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,t!==null){for(c=i.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~y}else c=0,i.child=null;return ny(t,i,y,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pc(i,y!==null?y.cachePool:null),y!==null?ig(i,y):jh(),sg(i);else return c=i.lanes=536870912,ny(t,i,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(Pc(i,y.cachePool),ig(i,y),ps(),i.memoizedState=null):(t!==null&&Pc(i,null),jh(),ps());return Dn(t,i,d,o),i.child}function kl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ny(t,i,o,c,d){var y=kh();return y=y===null?null:{parent:wn._currentValue,pool:y},i.memoizedState={baseLanes:o,cachePool:y},t!==null&&Pc(i,null),jh(),sg(i),t!==null&&Ya(t,i,c,!0),i.childLanes=d,null}function su(t,i){return i=ou({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function ry(t,i,o){return sa(i,t.child,null,o),t=su(i,i.pendingProps),t.flags|=2,pr(i),i.memoizedState=null,t}function T_(t,i,o){var c=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(St){if(c.mode==="hidden")return t=su(i,c),i.lanes=536870912,kl(null,t);if(Uh(i),(t=Jt)?(t=p1(t,Tr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:os!==null?{id:si,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=qp(t),o.return=i,i.child=o,Ln=i,Jt=null)):t=null,t===null)throw cs(i);return i.lanes=536870912,null}return su(i,c)}var y=t.memoizedState;if(y!==null){var U=y.dehydrated;if(Uh(i),d)if(i.flags&256)i.flags&=-257,i=ry(t,i,o);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(_n||Ya(t,i,o,!1),d=(o&t.childLanes)!==0,_n||d){if(c=Vt,c!==null&&(U=pe(c,o),U!==0&&U!==y.retryLane))throw y.retryLane=U,Xs(t,U),lr(c,t,U),nd;gu(),i=ry(t,i,o)}else t=y.treeContext,Jt=Br(U.nextSibling),Ln=i,St=!0,ls=null,Tr=!1,t!==null&&Pp(i,t),i=su(i,c),i.flags|=4096;return i}return t=Ri(t.child,{mode:c.mode,children:c.children}),t.ref=i.ref,i.child=t,t.return=i,t}function au(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function rd(t,i,o,c,d){return ta(i),o=Ih(t,i,o,c,void 0,d),c=Dh(),t!==null&&!_n?(zh(t,i,d),Oi(t,i,d)):(St&&c&&bh(i),i.flags|=1,Dn(t,i,o,d),i.child)}function iy(t,i,o,c,d,y){return ta(i),i.updateQueue=null,o=og(i,c,o,d),ag(t),c=Dh(),t!==null&&!_n?(zh(t,i,y),Oi(t,i,y)):(St&&c&&bh(i),i.flags|=1,Dn(t,i,o,y),i.child)}function sy(t,i,o,c,d){if(ta(i),i.stateNode===null){var y=Fa,U=o.contextType;typeof U=="object"&&U!==null&&(y=In(U)),y=new o(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ed,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},Nh(i),U=o.contextType,y.context=typeof U=="object"&&U!==null?In(U):Fa,y.state=i.memoizedState,U=o.getDerivedStateFromProps,typeof U=="function"&&(Qh(i,o,U,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(U=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),U!==y.state&&ed.enqueueReplaceState(y,y.state,null),_l(i,c,y,d),xl(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){y=i.stateNode;var Z=i.memoizedProps,re=oa(o,Z);y.props=re;var be=y.context,Ee=o.contextType;U=Fa,typeof Ee=="object"&&Ee!==null&&(U=In(Ee));var Re=o.getDerivedStateFromProps;Ee=typeof Re=="function"||typeof y.getSnapshotBeforeUpdate=="function",Z=i.pendingProps!==Z,Ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(Z||be!==U)&&Gg(i,y,c,U),fs=!1;var ve=i.memoizedState;y.state=ve,_l(i,c,y,d),xl(),be=i.memoizedState,Z||ve!==be||fs?(typeof Re=="function"&&(Qh(i,o,Re,c),be=i.memoizedState),(re=fs||Fg(i,o,re,c,ve,be,U))?(Ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=be),y.props=c,y.state=be,y.context=U,c=re):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,Bh(t,i),U=i.memoizedProps,Ee=oa(o,U),y.props=Ee,Re=i.pendingProps,ve=y.context,be=o.contextType,re=Fa,typeof be=="object"&&be!==null&&(re=In(be)),Z=o.getDerivedStateFromProps,(be=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(U!==Re||ve!==re)&&Gg(i,y,c,re),fs=!1,ve=i.memoizedState,y.state=ve,_l(i,c,y,d),xl();var _e=i.memoizedState;U!==Re||ve!==_e||fs||t!==null&&t.dependencies!==null&&$c(t.dependencies)?(typeof Z=="function"&&(Qh(i,o,Z,c),_e=i.memoizedState),(Ee=fs||Fg(i,o,Ee,c,ve,_e,re)||t!==null&&t.dependencies!==null&&$c(t.dependencies))?(be||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,_e,re),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,_e,re)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||U===t.memoizedProps&&ve===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||U===t.memoizedProps&&ve===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=_e),y.props=c,y.state=_e,y.context=re,c=Ee):(typeof y.componentDidUpdate!="function"||U===t.memoizedProps&&ve===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||U===t.memoizedProps&&ve===t.memoizedState||(i.flags|=1024),c=!1)}return y=c,au(t,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,t!==null&&c?(i.child=sa(i,t.child,null,d),i.child=sa(i,null,o,d)):Dn(t,i,o,d),i.memoizedState=y.state,t=i.child):t=Oi(t,i,d),t}function ay(t,i,o,c){return Qs(),i.flags|=256,Dn(t,i,o,c),i.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(t){return{baseLanes:t,cachePool:Wp()}}function ad(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=yr),t}function oy(t,i,o){var c=i.pendingProps,d=!1,y=(i.flags&128)!==0,U;if((U=y)||(U=t!==null&&t.memoizedState===null?!1:(gn.current&2)!==0),U&&(d=!0,i.flags&=-129),U=(i.flags&32)!==0,i.flags&=-33,t===null){if(St){if(d?ms(i):ps(),(t=Jt)?(t=p1(t,Tr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:os!==null?{id:si,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},o=qp(t),o.return=i,i.child=o,Ln=i,Jt=null)):t=null,t===null)throw cs(i);return Hd(t)?i.lanes=32:i.lanes=536870912,null}var Z=c.children;return c=c.fallback,d?(ps(),d=i.mode,Z=ou({mode:"hidden",children:Z},d),c=Js(c,d,o,null),Z.return=i,c.return=i,Z.sibling=c,i.child=Z,c=i.child,c.memoizedState=sd(o),c.childLanes=ad(t,U,o),i.memoizedState=id,kl(null,c)):(ms(i),od(i,Z))}var re=t.memoizedState;if(re!==null&&(Z=re.dehydrated,Z!==null)){if(y)i.flags&256?(ms(i),i.flags&=-257,i=ld(t,i,o)):i.memoizedState!==null?(ps(),i.child=t.child,i.flags|=128,i=null):(ps(),Z=c.fallback,d=i.mode,c=ou({mode:"visible",children:c.children},d),Z=Js(Z,d,o,null),Z.flags|=2,c.return=i,Z.return=i,c.sibling=Z,i.child=c,sa(i,t.child,null,o),c=i.child,c.memoizedState=sd(o),c.childLanes=ad(t,U,o),i.memoizedState=id,i=kl(null,c));else if(ms(i),Hd(Z)){if(U=Z.nextSibling&&Z.nextSibling.dataset,U)var be=U.dgst;U=be,c=Error(s(419)),c.stack="",c.digest=U,pl({value:c,source:null,stack:null}),i=ld(t,i,o)}else if(_n||Ya(t,i,o,!1),U=(o&t.childLanes)!==0,_n||U){if(U=Vt,U!==null&&(c=pe(U,o),c!==0&&c!==re.retryLane))throw re.retryLane=c,Xs(t,c),lr(U,t,c),nd;$d(Z)||gu(),i=ld(t,i,o)}else $d(Z)?(i.flags|=192,i.child=t.child,i=null):(t=re.treeContext,Jt=Br(Z.nextSibling),Ln=i,St=!0,ls=null,Tr=!1,t!==null&&Pp(i,t),i=od(i,c.children),i.flags|=4096);return i}return d?(ps(),Z=c.fallback,d=i.mode,re=t.child,be=re.sibling,c=Ri(re,{mode:"hidden",children:c.children}),c.subtreeFlags=re.subtreeFlags&65011712,be!==null?Z=Ri(be,Z):(Z=Js(Z,d,o,null),Z.flags|=2),Z.return=i,c.return=i,c.sibling=Z,i.child=c,kl(null,c),c=i.child,Z=t.child.memoizedState,Z===null?Z=sd(o):(d=Z.cachePool,d!==null?(re=wn._currentValue,d=d.parent!==re?{parent:re,pool:re}:d):d=Wp(),Z={baseLanes:Z.baseLanes|o,cachePool:d}),c.memoizedState=Z,c.childLanes=ad(t,U,o),i.memoizedState=id,kl(t.child,c)):(ms(i),o=t.child,t=o.sibling,o=Ri(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,t!==null&&(U=i.deletions,U===null?(i.deletions=[t],i.flags|=16):U.push(t)),i.child=o,i.memoizedState=null,o)}function od(t,i){return i=ou({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ou(t,i){return t=dr(22,t,null,i),t.lanes=0,t}function ld(t,i,o){return sa(i,t.child,null,o),t=od(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ly(t,i,o){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Sh(t.return,i,o)}function cd(t,i,o,c,d,y){var U=t.memoizedState;U===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:y}:(U.isBackwards=i,U.rendering=null,U.renderingStartTime=0,U.last=c,U.tail=o,U.tailMode=d,U.treeForkCount=y)}function cy(t,i,o){var c=i.pendingProps,d=c.revealOrder,y=c.tail;c=c.children;var U=gn.current,Z=(U&2)!==0;if(Z?(U=U&1|2,i.flags|=128):U&=1,x(gn,U),Dn(t,i,c,o),c=St?ml:0,!Z&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,o,i);else if(t.tag===19)ly(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(o=i.child,d=null;o!==null;)t=o.alternate,t!==null&&Wc(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),cd(i,!1,d,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Wc(t)===null){i.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}cd(i,!0,o,null,y,c);break;case"together":cd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Oi(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),bs|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(Ya(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,o=Ri(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Ri(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function ud(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&$c(t)))}function N_(t,i,o){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),us(i,wn,t.memoizedState.cache),Qs();break;case 27:case 5:Je(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:us(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Uh(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ms(i),i.flags|=128,null):(o&i.child.childLanes)!==0?oy(t,i,o):(ms(i),t=Oi(t,i,o),t!==null?t.sibling:null);ms(i);break;case 19:var d=(t.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Ya(t,i,o,!1),c=(o&i.childLanes)!==0),d){if(c)return cy(t,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),x(gn,gn.current),c)break;return null;case 22:return i.lanes=0,ty(t,i,o,i.pendingProps);case 24:us(i,wn,t.memoizedState.cache)}return Oi(t,i,o)}function uy(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)_n=!0;else{if(!ud(t,o)&&(i.flags&128)===0)return _n=!1,N_(t,i,o);_n=(t.flags&131072)!==0}else _n=!1,St&&(i.flags&1048576)!==0&&Hp(i,ml,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(t=ra(i.elementType),i.type=t,typeof t=="function")ph(t)?(c=oa(t,c),i.tag=1,i=sy(null,i,t,c,o)):(i.tag=0,i=rd(null,i,t,c,o));else{if(t!=null){var d=t.$$typeof;if(d===ne){i.tag=11,i=Jg(null,i,t,c,o);break e}else if(d===le){i.tag=14,i=Qg(null,i,t,c,o);break e}}throw i=p(t)||t,Error(s(306,i,""))}}return i;case 0:return rd(t,i,i.type,i.pendingProps,o);case 1:return c=i.type,d=oa(c,i.pendingProps),sy(t,i,c,d,o);case 3:e:{if(Te(i,i.stateNode.containerInfo),t===null)throw Error(s(387));c=i.pendingProps;var y=i.memoizedState;d=y.element,Bh(t,i),_l(i,c,null,o);var U=i.memoizedState;if(c=U.cache,us(i,wn,c),c!==y.cache&&Eh(i,[wn],o,!0),xl(),c=U.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:U.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=ay(t,i,c,o);break e}else if(c!==d){d=Ar(Error(s(424)),i),pl(d),i=ay(t,i,c,o);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Jt=Br(t.firstChild),Ln=i,St=!0,ls=null,Tr=!0,o=tg(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qs(),c===d){i=Oi(t,i,o);break e}Dn(t,i,c,o)}i=i.child}return i;case 26:return au(t,i),t===null?(o=x1(i.type,null,i.pendingProps,null))?i.memoizedState=o:St||(o=i.type,t=i.pendingProps,c=Su(te.current).createElement(o),c[Me]=i,c[_t]=t,zn(c,o,t),ln(c),i.stateNode=c):i.memoizedState=x1(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Je(i),t===null&&St&&(c=i.stateNode=b1(i.type,i.pendingProps,te.current),Ln=i,Tr=!0,d=Jt,Ss(i.type)?(Pd=d,Jt=Br(c.firstChild)):Jt=d),Dn(t,i,i.pendingProps.children,o),au(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&St&&((d=c=Jt)&&(c=sS(c,i.type,i.pendingProps,Tr),c!==null?(i.stateNode=c,Ln=i,Jt=Br(c.firstChild),Tr=!1,d=!0):d=!1),d||cs(i)),Je(i),d=i.type,y=i.pendingProps,U=t!==null?t.memoizedProps:null,c=y.children,Dd(d,y)?c=null:U!==null&&Dd(d,U)&&(i.flags|=32),i.memoizedState!==null&&(d=Ih(t,i,w_,null,null,o),Hl._currentValue=d),au(t,i),Dn(t,i,c,o),i.child;case 6:return t===null&&St&&((t=o=Jt)&&(o=aS(o,i.pendingProps,Tr),o!==null?(i.stateNode=o,Ln=i,Jt=null,t=!0):t=!1),t||cs(i)),null;case 13:return oy(t,i,o);case 4:return Te(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=sa(i,null,c,o):Dn(t,i,c,o),i.child;case 11:return Jg(t,i,i.type,i.pendingProps,o);case 7:return Dn(t,i,i.pendingProps,o),i.child;case 8:return Dn(t,i,i.pendingProps.children,o),i.child;case 12:return Dn(t,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,us(i,i.type,c.value),Dn(t,i,c.children,o),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,ta(i),d=In(d),c=c(d),i.flags|=1,Dn(t,i,c,o),i.child;case 14:return Qg(t,i,i.type,i.pendingProps,o);case 15:return ey(t,i,i.type,i.pendingProps,o);case 19:return cy(t,i,o);case 31:return T_(t,i,o);case 22:return ty(t,i,o,i.pendingProps);case 24:return ta(i),c=In(wn),t===null?(d=kh(),d===null&&(d=Vt,y=Ah(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=o),d=y),i.memoizedState={parent:c,cache:d},Nh(i),us(i,wn,d)):((t.lanes&o)!==0&&(Bh(t,i),_l(i,null,null,o),xl()),d=t.memoizedState,y=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),us(i,wn,c)):(c=y.cache,us(i,wn,c),c!==d.cache&&Eh(i,[wn],o,!0))),Dn(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ji(t){t.flags|=4}function fd(t,i,o,c,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Iy())t.flags|=8192;else throw ia=Gc,Th}else t.flags&=-16777217}function fy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R1(i))if(Iy())t.flags|=8192;else throw ia=Gc,Th}function lu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Xt():536870912,t.lanes|=i,ao|=i)}function Tl(t,i){if(!St)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Qt(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(i)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=o,i}function B_(t,i,o){var c=i.pendingProps;switch(vh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(i),null;case 1:return Qt(i),null;case 3:return o=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ni(wn),ke(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Ka(i)?ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xh())),Qt(i),null;case 26:var d=i.type,y=i.memoizedState;return t===null?(ji(i),y!==null?(Qt(i),fy(i,y)):(Qt(i),fd(i,d,null,c,o))):y?y!==t.memoizedState?(ji(i),Qt(i),fy(i,y)):(Qt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==c&&ji(i),Qt(i),fd(i,d,t,c,o)),null;case 27:if($e(i),o=te.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&ji(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Qt(i),null}t=L.current,Ka(i)?Fp(i):(t=b1(d,c,o),i.stateNode=t,ji(i))}return Qt(i),null;case 5:if($e(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&ji(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Qt(i),null}if(y=L.current,Ka(i))Fp(i);else{var U=Su(te.current);switch(y){case 1:y=U.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:y=U.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":y=U.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":y=U.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":y=U.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?U.createElement("select",{is:c.is}):U.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?U.createElement(d,{is:c.is}):U.createElement(d)}}y[Me]=i,y[_t]=c;e:for(U=i.child;U!==null;){if(U.tag===5||U.tag===6)y.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===i)break e;for(;U.sibling===null;){if(U.return===null||U.return===i)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}i.stateNode=y;e:switch(zn(y,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ji(i)}}return Qt(i),fd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,o),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&ji(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(t=te.current,Ka(i)){if(t=i.stateNode,o=i.memoizedProps,c=null,d=Ln,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}t[Me]=i,t=!!(t.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||o1(t.nodeValue,o)),t||cs(i,!0)}else t=Su(t).createTextNode(c),t[Me]=i,i.stateNode=t}return Qt(i),null;case 31:if(o=i.memoizedState,t===null||t.memoizedState!==null){if(c=Ka(i),o!==null){if(t===null){if(!c)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Me]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),t=!1}else o=xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return i.flags&256?(pr(i),i):(pr(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Qt(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ka(i),c!==null&&c.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Me]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),d=!1}else d=xh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(pr(i),i):(pr(i),null)}return pr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,t=t!==null&&t.memoizedState!==null,o&&(c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==d&&(c.flags|=2048)),o!==t&&o&&(i.child.flags|=8192),lu(i,i.updateQueue),Qt(i),null);case 4:return ke(),t===null&&jd(i.stateNode.containerInfo),Qt(i),null;case 10:return Ni(i.type),Qt(i),null;case 19:if(b(gn),c=i.memoizedState,c===null)return Qt(i),null;if(d=(i.flags&128)!==0,y=c.rendering,y===null)if(d)Tl(c,!1);else{if(un!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(y=Wc(t),y!==null){for(i.flags|=128,Tl(c,!1),t=y.updateQueue,i.updateQueue=t,lu(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)zp(o,t),o=o.sibling;return x(gn,gn.current&1|2),St&&ki(i,c.treeForkCount),i.child}t=t.sibling}c.tail!==null&&ot()>du&&(i.flags|=128,d=!0,Tl(c,!1),i.lanes=4194304)}else{if(!d)if(t=Wc(y),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,lu(i,t),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!St)return Qt(i),null}else 2*ot()-c.renderingStartTime>du&&o!==536870912&&(i.flags|=128,d=!0,Tl(c,!1),i.lanes=4194304);c.isBackwards?(y.sibling=i.child,i.child=y):(t=c.last,t!==null?t.sibling=y:i.child=y,c.last=y)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=ot(),t.sibling=null,o=gn.current,x(gn,d?o&1|2:o&1),St&&ki(i,c.treeForkCount),t):(Qt(i),null);case 22:case 23:return pr(i),Mh(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Qt(i),i.subtreeFlags&6&&(i.flags|=8192)):Qt(i),o=i.updateQueue,o!==null&&lu(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),t!==null&&b(na),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ni(wn),Qt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function C_(t,i){switch(vh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ni(wn),ke(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $e(i),null;case 31:if(i.memoizedState!==null){if(pr(i),i.alternate===null)throw Error(s(340));Qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(pr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return b(gn),null;case 4:return ke(),null;case 10:return Ni(i.type),null;case 22:case 23:return pr(i),Mh(),t!==null&&b(na),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ni(wn),null;case 25:return null;default:return null}}function hy(t,i){switch(vh(i),i.tag){case 3:Ni(wn),ke();break;case 26:case 27:case 5:$e(i);break;case 4:ke();break;case 31:i.memoizedState!==null&&pr(i);break;case 13:pr(i);break;case 19:b(gn);break;case 10:Ni(i.type);break;case 22:case 23:pr(i),Mh(),t!==null&&b(na);break;case 24:Ni(wn)}}function Nl(t,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&t)===t){c=void 0;var y=o.create,U=o.inst;c=y(),U.destroy=c}o=o.next}while(o!==d)}}catch(Z){It(i,i.return,Z)}}function gs(t,i,o){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&t)===t){var U=c.inst,Z=U.destroy;if(Z!==void 0){U.destroy=void 0,d=i;var re=o,be=Z;try{be()}catch(Ee){It(d,re,Ee)}}}c=c.next}while(c!==y)}}catch(Ee){It(i,i.return,Ee)}}function dy(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{rg(i,o)}catch(c){It(t,t.return,c)}}}function my(t,i,o){o.props=oa(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(c){It(t,i,c)}}function Bl(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof o=="function"?t.refCleanup=o(c):o.current=c}}catch(d){It(t,i,d)}}function oi(t,i){var o=t.ref,c=t.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){It(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){It(t,i,d)}else o.current=null}function py(t){var i=t.type,o=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){It(t,t.return,d)}}function hd(t,i,o){try{var c=t.stateNode;Q_(c,t.type,o,i),c[_t]=i}catch(d){It(t,t.return,d)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ss(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ss(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,i,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ei));else if(c!==4&&(c===27&&Ss(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(md(t,i,o),t=t.sibling;t!==null;)md(t,i,o),t=t.sibling}function cu(t,i,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(c!==4&&(c===27&&Ss(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(cu(t,i,o),t=t.sibling;t!==null;)cu(t,i,o),t=t.sibling}function yy(t){var i=t.stateNode,o=t.memoizedProps;try{for(var c=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);zn(i,c,o),i[Me]=t,i[_t]=o}catch(y){It(t,t.return,y)}}var Mi=!1,Sn=!1,pd=!1,by=typeof WeakSet=="function"?WeakSet:Set,jn=null;function O_(t,i){if(t=t.containerInfo,Ld=Bu,t=Bp(t),lh(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var U=0,Z=-1,re=-1,be=0,Ee=0,Re=t,ve=null;t:for(;;){for(var _e;Re!==o||d!==0&&Re.nodeType!==3||(Z=U+d),Re!==y||c!==0&&Re.nodeType!==3||(re=U+c),Re.nodeType===3&&(U+=Re.nodeValue.length),(_e=Re.firstChild)!==null;)ve=Re,Re=_e;for(;;){if(Re===t)break t;if(ve===o&&++be===d&&(Z=U),ve===y&&++Ee===c&&(re=U),(_e=Re.nextSibling)!==null)break;Re=ve,ve=Re.parentNode}Re=_e}o=Z===-1||re===-1?null:{start:Z,end:re}}else o=null}o=o||{start:0,end:0}}else o=null;for(Id={focusedElem:t,selectionRange:o},Bu=!1,jn=i;jn!==null;)if(i=jn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jn=t;else for(;jn!==null;){switch(i=jn,y=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)d=t[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,o=i,d=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var Ue=oa(o.type,d);t=c.getSnapshotBeforeUpdate(Ue,y),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ke){It(o,o.return,Ke)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)qd(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jn=t;break}jn=i.return}}function vy(t,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Li(t,o),c&4&&Nl(5,o);break;case 1:if(Li(t,o),c&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(U){It(o,o.return,U)}else{var d=oa(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(U){It(o,o.return,U)}}c&64&&dy(o),c&512&&Bl(o,o.return);break;case 3:if(Li(t,o),c&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{rg(t,i)}catch(U){It(o,o.return,U)}}break;case 27:i===null&&c&4&&yy(o);case 26:case 5:Li(t,o),i===null&&c&4&&py(o),c&512&&Bl(o,o.return);break;case 12:Li(t,o);break;case 31:Li(t,o),c&4&&_y(t,o);break;case 13:Li(t,o),c&4&&Sy(t,o),c&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=$_.bind(null,o),oS(t,o))));break;case 22:if(c=o.memoizedState!==null||Mi,!c){i=i!==null&&i.memoizedState!==null||Sn,d=Mi;var y=Sn;Mi=c,(Sn=i)&&!y?Ii(t,o,(o.subtreeFlags&8772)!==0):Li(t,o),Mi=d,Sn=y}break;case 30:break;default:Li(t,o)}}function wy(t){var i=t.alternate;i!==null&&(t.alternate=null,wy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ks(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tn=null,ir=!1;function Ui(t,i,o){for(o=o.child;o!==null;)xy(t,i,o),o=o.sibling}function xy(t,i,o){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(Q,o)}catch{}switch(o.tag){case 26:Sn||oi(o,i),Ui(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Sn||oi(o,i);var c=tn,d=ir;Ss(o.type)&&(tn=o.stateNode,ir=!1),Ui(t,i,o),zl(o.stateNode),tn=c,ir=d;break;case 5:Sn||oi(o,i);case 6:if(c=tn,d=ir,tn=null,Ui(t,i,o),tn=c,ir=d,tn!==null)if(ir)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(o.stateNode)}catch(y){It(o,i,y)}else try{tn.removeChild(o.stateNode)}catch(y){It(o,i,y)}break;case 18:tn!==null&&(ir?(t=tn,d1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),po(t)):d1(tn,o.stateNode));break;case 4:c=tn,d=ir,tn=o.stateNode.containerInfo,ir=!0,Ui(t,i,o),tn=c,ir=d;break;case 0:case 11:case 14:case 15:gs(2,o,i),Sn||gs(4,o,i),Ui(t,i,o);break;case 1:Sn||(oi(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&my(o,i,c)),Ui(t,i,o);break;case 21:Ui(t,i,o);break;case 22:Sn=(c=Sn)||o.memoizedState!==null,Ui(t,i,o),Sn=c;break;default:Ui(t,i,o)}}function _y(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(o){It(i,i.return,o)}}}function Sy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(o){It(i,i.return,o)}}function j_(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new by),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new by),i;default:throw Error(s(435,t.tag))}}function uu(t,i){var o=j_(t);i.forEach(function(c){if(!o.has(c)){o.add(c);var d=H_.bind(null,t,c);c.then(d,d)}})}function sr(t,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],y=t,U=i,Z=U;e:for(;Z!==null;){switch(Z.tag){case 27:if(Ss(Z.type)){tn=Z.stateNode,ir=!1;break e}break;case 5:tn=Z.stateNode,ir=!1;break e;case 3:case 4:tn=Z.stateNode.containerInfo,ir=!0;break e}Z=Z.return}if(tn===null)throw Error(s(160));xy(y,U,d),tn=null,ir=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ey(i,t),i=i.sibling}var Fr=null;function Ey(t,i){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sr(i,t),ar(t),c&4&&(gs(3,t,t.return),Nl(3,t),gs(5,t,t.return));break;case 1:sr(i,t),ar(t),c&512&&(Sn||o===null||oi(o,o.return)),c&64&&Mi&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Fr;if(sr(i,t),ar(t),c&512&&(Sn||o===null||oi(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=t.memoizedState,o===null)if(c===null)if(t.stateNode===null){e:{c=t.type,o=t.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":y=d.getElementsByTagName("title")[0],(!y||y[xi]||y[Me]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(c),d.head.insertBefore(y,d.querySelector("head > title"))),zn(y,c,o),y[Me]=t,ln(y),c=y;break e;case"link":var U=E1("link","href",d).get(c+(o.href||""));if(U){for(var Z=0;Z<U.length;Z++)if(y=U[Z],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){U.splice(Z,1);break t}}y=d.createElement(c),zn(y,c,o),d.head.appendChild(y);break;case"meta":if(U=E1("meta","content",d).get(c+(o.content||""))){for(Z=0;Z<U.length;Z++)if(y=U[Z],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){U.splice(Z,1);break t}}y=d.createElement(c),zn(y,c,o),d.head.appendChild(y);break;default:throw Error(s(468,c))}y[Me]=t,ln(y),c=y}t.stateNode=c}else A1(d,t.type,t.stateNode);else t.stateNode=S1(d,c,t.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?A1(d,t.type,t.stateNode):S1(d,c,t.memoizedProps)):c===null&&t.stateNode!==null&&hd(t,t.memoizedProps,o.memoizedProps)}break;case 27:sr(i,t),ar(t),c&512&&(Sn||o===null||oi(o,o.return)),o!==null&&c&4&&hd(t,t.memoizedProps,o.memoizedProps);break;case 5:if(sr(i,t),ar(t),c&512&&(Sn||o===null||oi(o,o.return)),t.flags&32){d=t.stateNode;try{Ia(d,"")}catch(Ue){It(t,t.return,Ue)}}c&4&&t.stateNode!=null&&(d=t.memoizedProps,hd(t,d,o!==null?o.memoizedProps:d)),c&1024&&(pd=!0);break;case 6:if(sr(i,t),ar(t),c&4){if(t.stateNode===null)throw Error(s(162));c=t.memoizedProps,o=t.stateNode;try{o.nodeValue=c}catch(Ue){It(t,t.return,Ue)}}break;case 3:if(Ru=null,d=Fr,Fr=Eu(i.containerInfo),sr(i,t),Fr=d,ar(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{po(i.containerInfo)}catch(Ue){It(t,t.return,Ue)}pd&&(pd=!1,Ay(t));break;case 4:c=Fr,Fr=Eu(t.stateNode.containerInfo),sr(i,t),ar(t),Fr=c;break;case 12:sr(i,t),ar(t);break;case 31:sr(i,t),ar(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,uu(t,c)));break;case 13:sr(i,t),ar(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hu=ot()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,uu(t,c)));break;case 22:d=t.memoizedState!==null;var re=o!==null&&o.memoizedState!==null,be=Mi,Ee=Sn;if(Mi=be||d,Sn=Ee||re,sr(i,t),Sn=Ee,Mi=be,ar(t),c&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||re||Mi||Sn||la(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){re=o=i;try{if(y=re.stateNode,d)U=y.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Z=re.stateNode;var Re=re.memoizedProps.style,ve=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;Z.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(Ue){It(re,re.return,Ue)}}}else if(i.tag===6){if(o===null){re=i;try{re.stateNode.nodeValue=d?"":re.memoizedProps}catch(Ue){It(re,re.return,Ue)}}}else if(i.tag===18){if(o===null){re=i;try{var _e=re.stateNode;d?m1(_e,!0):m1(re.stateNode,!1)}catch(Ue){It(re,re.return,Ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,uu(t,o))));break;case 19:sr(i,t),ar(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,uu(t,c)));break;case 30:break;case 21:break;default:sr(i,t),ar(t)}}function ar(t){var i=t.flags;if(i&2){try{for(var o,c=t.return;c!==null;){if(gy(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,y=dd(t);cu(t,y,d);break;case 5:var U=o.stateNode;o.flags&32&&(Ia(U,""),o.flags&=-33);var Z=dd(t);cu(t,Z,U);break;case 3:case 4:var re=o.stateNode.containerInfo,be=dd(t);md(t,be,re);break;default:throw Error(s(161))}}catch(Ee){It(t,t.return,Ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ay(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Li(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vy(t,i.alternate,i),i=i.sibling}function la(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:gs(4,i,i.return),la(i);break;case 1:oi(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&my(i,i.return,o),la(i);break;case 27:zl(i.stateNode);case 26:case 5:oi(i,i.return),la(i);break;case 22:i.memoizedState===null&&la(i);break;case 30:la(i);break;default:la(i)}t=t.sibling}}function Ii(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=t,y=i,U=y.flags;switch(y.tag){case 0:case 11:case 15:Ii(d,y,o),Nl(4,y);break;case 1:if(Ii(d,y,o),c=y,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(be){It(c,c.return,be)}if(c=y,d=c.updateQueue,d!==null){var Z=c.stateNode;try{var re=d.shared.hiddenCallbacks;if(re!==null)for(d.shared.hiddenCallbacks=null,d=0;d<re.length;d++)ng(re[d],Z)}catch(be){It(c,c.return,be)}}o&&U&64&&dy(y),Bl(y,y.return);break;case 27:yy(y);case 26:case 5:Ii(d,y,o),o&&c===null&&U&4&&py(y),Bl(y,y.return);break;case 12:Ii(d,y,o);break;case 31:Ii(d,y,o),o&&U&4&&_y(d,y);break;case 13:Ii(d,y,o),o&&U&4&&Sy(d,y);break;case 22:y.memoizedState===null&&Ii(d,y,o),Bl(y,y.return);break;case 30:break;default:Ii(d,y,o)}i=i.sibling}}function gd(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&gl(o))}function yd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t))}function Gr(t,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ry(t,i,o,c),i=i.sibling}function Ry(t,i,o,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Gr(t,i,o,c),d&2048&&Nl(9,i);break;case 1:Gr(t,i,o,c);break;case 3:Gr(t,i,o,c),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t)));break;case 12:if(d&2048){Gr(t,i,o,c),t=i.stateNode;try{var y=i.memoizedProps,U=y.id,Z=y.onPostCommit;typeof Z=="function"&&Z(U,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(re){It(i,i.return,re)}}else Gr(t,i,o,c);break;case 31:Gr(t,i,o,c);break;case 13:Gr(t,i,o,c);break;case 23:break;case 22:y=i.stateNode,U=i.alternate,i.memoizedState!==null?y._visibility&2?Gr(t,i,o,c):Cl(t,i):y._visibility&2?Gr(t,i,o,c):(y._visibility|=2,ro(t,i,o,c,(i.subtreeFlags&10256)!==0||!1)),d&2048&&gd(U,i);break;case 24:Gr(t,i,o,c),d&2048&&yd(i.alternate,i);break;default:Gr(t,i,o,c)}}function ro(t,i,o,c,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=t,U=i,Z=o,re=c,be=U.flags;switch(U.tag){case 0:case 11:case 15:ro(y,U,Z,re,d),Nl(8,U);break;case 23:break;case 22:var Ee=U.stateNode;U.memoizedState!==null?Ee._visibility&2?ro(y,U,Z,re,d):Cl(y,U):(Ee._visibility|=2,ro(y,U,Z,re,d)),d&&be&2048&&gd(U.alternate,U);break;case 24:ro(y,U,Z,re,d),d&&be&2048&&yd(U.alternate,U);break;default:ro(y,U,Z,re,d)}i=i.sibling}}function Cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,c=i,d=c.flags;switch(c.tag){case 22:Cl(o,c),d&2048&&gd(c.alternate,c);break;case 24:Cl(o,c),d&2048&&yd(c.alternate,c);break;default:Cl(o,c)}i=i.sibling}}var Ol=8192;function io(t,i,o){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)ky(t,i,o),t=t.sibling}function ky(t,i,o){switch(t.tag){case 26:io(t,i,o),t.flags&Ol&&t.memoizedState!==null&&vS(o,Fr,t.memoizedState,t.memoizedProps);break;case 5:io(t,i,o);break;case 3:case 4:var c=Fr;Fr=Eu(t.stateNode.containerInfo),io(t,i,o),Fr=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Ol,Ol=16777216,io(t,i,o),Ol=c):io(t,i,o));break;default:io(t,i,o)}}function Ty(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function jl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];jn=c,By(c,t)}Ty(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&gs(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,fu(t)):jl(t);break;default:jl(t)}}function fu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];jn=c,By(c,t)}Ty(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:gs(8,i,i.return),fu(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,fu(i));break;default:fu(i)}t=t.sibling}}function By(t,i){for(;jn!==null;){var o=jn;switch(o.tag){case 0:case 11:case 15:gs(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,jn=c;else e:for(o=t;jn!==null;){c=jn;var d=c.sibling,y=c.return;if(wy(c),c===o){jn=null;break e}if(d!==null){d.return=y,jn=d;break e}jn=y}}}var M_={getCacheForType:function(t){var i=In(wn),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o},cacheSignal:function(){return In(wn).controller.signal}},U_=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Vt=null,gt=null,wt=0,Lt=0,gr=null,ys=!1,so=!1,bd=!1,Di=0,un=0,bs=0,ca=0,vd=0,yr=0,ao=0,Ml=null,or=null,wd=!1,hu=0,Cy=0,du=1/0,mu=null,vs=null,Tn=0,ws=null,oo=null,zi=0,xd=0,_d=null,Oy=null,Ul=0,Sd=null;function br(){return(Nt&2)!==0&&wt!==0?wt&-wt:_.T!==null?Nd():tt()}function jy(){if(yr===0)if((wt&536870912)===0||St){var t=He;He<<=1,(He&3932160)===0&&(He=262144),yr=t}else yr=536870912;return t=mr.current,t!==null&&(t.flags|=32),yr}function lr(t,i,o){(t===Vt&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)&&(lo(t,0),xs(t,wt,yr,!1)),A(t,o),((Nt&2)===0||t!==Vt)&&(t===Vt&&((Nt&2)===0&&(ca|=o),un===4&&xs(t,wt,yr,!1)),li(t))}function My(t,i,o){if((Nt&6)!==0)throw Error(s(327));var c=!o&&(i&127)===0&&(i&t.expiredLanes)===0||$t(t,i),d=c?D_(t,i):Ad(t,i,!0),y=c;do{if(d===0){so&&!c&&xs(t,i,0,!1);break}else{if(o=t.current.alternate,y&&!L_(o)){d=Ad(t,i,!1),y=!1;continue}if(d===2){if(y=i,t.errorRecoveryDisabledLanes&y)var U=0;else U=t.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){i=U;e:{var Z=t;d=Ml;var re=Z.current.memoizedState.isDehydrated;if(re&&(lo(Z,U).flags|=256),U=Ad(Z,U,!1),U!==2){if(bd&&!re){Z.errorRecoveryDisabledLanes|=y,ca|=y,d=4;break e}y=or,or=d,y!==null&&(or===null?or=y:or.push.apply(or,y))}d=U}if(y=!1,d!==2)continue}}if(d===1){lo(t,0),xs(t,i,0,!0);break}e:{switch(c=t,y=d,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:xs(c,i,yr,!ys);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=hu+300-ot(),10<d)){if(xs(c,i,yr,!ys),Ut(c,0,!0)!==0)break e;zi=i,c.timeoutHandle=f1(Uy.bind(null,c,o,or,mu,wd,i,yr,ca,ao,ys,y,"Throttled",-0,0),d);break e}Uy(c,o,or,mu,wd,i,yr,ca,ao,ys,y,null,-0,0)}}break}while(!0);li(t)}function Uy(t,i,o,c,d,y,U,Z,re,be,Ee,Re,ve,_e){if(t.timeoutHandle=-1,Re=i.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},ky(i,y,Re);var Ue=(y&62914560)===y?hu-ot():(y&4194048)===y?Cy-ot():0;if(Ue=wS(Re,Ue),Ue!==null){zi=y,t.cancelPendingCommit=Ue(Py.bind(null,t,i,y,o,c,d,U,Z,re,Ee,Re,null,ve,_e)),xs(t,y,U,!be);return}}Py(t,i,y,o,c,d,U,Z,re)}function L_(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],y=d.getSnapshot;d=d.value;try{if(!hr(y(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xs(t,i,o,c){i&=~vd,i&=~ca,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var d=i;0<d;){var y=31-xe(d),U=1<<y;c[y]=-1,d&=~U}o!==0&&ee(t,o,i)}function pu(){return(Nt&6)===0?(Ll(0),!1):!0}function Ed(){if(gt!==null){if(Lt===0)var t=gt.return;else t=gt,Ti=ea=null,qh(t),Ja=null,bl=0,t=gt;for(;t!==null;)hy(t.alternate,t),t=t.return;gt=null}}function lo(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,nS(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),zi=0,Ed(),Vt=t,gt=o=Ri(t.current,null),wt=i,Lt=0,gr=null,ys=!1,so=$t(t,i),bd=!1,ao=yr=vd=ca=bs=un=0,or=Ml=null,wd=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var d=31-xe(c),y=1<<d;i|=t[d],c&=~y}return Di=i,Lc(),o}function Ly(t,i){lt=null,_.H=Rl,i===Xa||i===Fc?(i=Jp(),Lt=3):i===Th?(i=Jp(),Lt=4):Lt=i===nd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gr=i,gt===null&&(un=1,iu(t,Ar(i,t.current)))}function Iy(){var t=mr.current;return t===null?!0:(wt&4194048)===wt?Nr===null:(wt&62914560)===wt||(wt&536870912)!==0?t===Nr:!1}function Dy(){var t=_.H;return _.H=Rl,t===null?Rl:t}function zy(){var t=_.A;return _.A=M_,t}function gu(){un=4,ys||(wt&4194048)!==wt&&mr.current!==null||(so=!0),(bs&134217727)===0&&(ca&134217727)===0||Vt===null||xs(Vt,wt,yr,!1)}function Ad(t,i,o){var c=Nt;Nt|=2;var d=Dy(),y=zy();(Vt!==t||wt!==i)&&(mu=null,lo(t,i)),i=!1;var U=un;e:do try{if(Lt!==0&&gt!==null){var Z=gt,re=gr;switch(Lt){case 8:Ed(),U=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(i=!0);var be=Lt;if(Lt=0,gr=null,co(t,Z,re,be),o&&so){U=0;break e}break;default:be=Lt,Lt=0,gr=null,co(t,Z,re,be)}}I_(),U=un;break}catch(Ee){Ly(t,Ee)}while(!0);return i&&t.shellSuspendCounter++,Ti=ea=null,Nt=c,_.H=d,_.A=y,gt===null&&(Vt=null,wt=0,Lc()),U}function I_(){for(;gt!==null;)qy(gt)}function D_(t,i){var o=Nt;Nt|=2;var c=Dy(),d=zy();Vt!==t||wt!==i?(mu=null,du=ot()+500,lo(t,i)):so=$t(t,i);e:do try{if(Lt!==0&&gt!==null){i=gt;var y=gr;t:switch(Lt){case 1:Lt=0,gr=null,co(t,i,y,1);break;case 2:case 9:if(Zp(y)){Lt=0,gr=null,$y(i);break}i=function(){Lt!==2&&Lt!==9||Vt!==t||(Lt=7),li(t)},y.then(i,i);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Zp(y)?(Lt=0,gr=null,$y(i)):(Lt=0,gr=null,co(t,i,y,7));break;case 5:var U=null;switch(gt.tag){case 26:U=gt.memoizedState;case 5:case 27:var Z=gt;if(U?R1(U):Z.stateNode.complete){Lt=0,gr=null;var re=Z.sibling;if(re!==null)gt=re;else{var be=Z.return;be!==null?(gt=be,yu(be)):gt=null}break t}}Lt=0,gr=null,co(t,i,y,5);break;case 6:Lt=0,gr=null,co(t,i,y,6);break;case 8:Ed(),un=6;break e;default:throw Error(s(462))}}z_();break}catch(Ee){Ly(t,Ee)}while(!0);return Ti=ea=null,_.H=c,_.A=d,Nt=o,gt!==null?0:(Vt=null,wt=0,Lc(),un)}function z_(){for(;gt!==null&&!Zt();)qy(gt)}function qy(t){var i=uy(t.alternate,t,Di);t.memoizedProps=t.pendingProps,i===null?yu(t):gt=i}function $y(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=iy(o,i,i.pendingProps,i.type,void 0,wt);break;case 11:i=iy(o,i,i.pendingProps,i.type.render,i.ref,wt);break;case 5:qh(i);default:hy(o,i),i=gt=zp(i,Di),i=uy(o,i,Di)}t.memoizedProps=t.pendingProps,i===null?yu(t):gt=i}function co(t,i,o,c){Ti=ea=null,qh(i),Ja=null,bl=0;var d=i.return;try{if(k_(t,d,i,o,wt)){un=1,iu(t,Ar(o,t.current)),gt=null;return}}catch(y){if(d!==null)throw gt=d,y;un=1,iu(t,Ar(o,t.current)),gt=null;return}i.flags&32768?(St||c===1?t=!0:so||(wt&536870912)!==0?t=!1:(ys=t=!0,(c===2||c===9||c===3||c===6)&&(c=mr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Hy(i,t)):yu(i)}function yu(t){var i=t;do{if((i.flags&32768)!==0){Hy(i,ys);return}t=i.return;var o=B_(i.alternate,i,Di);if(o!==null){gt=o;return}if(i=i.sibling,i!==null){gt=i;return}gt=i=t}while(i!==null);un===0&&(un=5)}function Hy(t,i){do{var o=C_(t.alternate,t);if(o!==null){o.flags&=32767,gt=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){gt=t;return}gt=t=o}while(t!==null);un=6,gt=null}function Py(t,i,o,c,d,y,U,Z,re){t.cancelPendingCommit=null;do bu();while(Tn!==0);if((Nt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=dh,O(t,o,y,U,Z,re),t===Vt&&(gt=Vt=null,wt=0),oo=i,ws=t,zi=o,xd=y,_d=d,Oy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,P_(kn,function(){return Yy(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=_.T,_.T=null,d=N.p,N.p=2,U=Nt,Nt|=4;try{O_(t,i,o)}finally{Nt=U,N.p=d,_.T=c}}Tn=1,Fy(),Gy(),Vy()}}function Fy(){if(Tn===1){Tn=0;var t=ws,i=oo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=_.T,_.T=null;var c=N.p;N.p=2;var d=Nt;Nt|=4;try{Ey(i,t);var y=Id,U=Bp(t.containerInfo),Z=y.focusedElem,re=y.selectionRange;if(U!==Z&&Z&&Z.ownerDocument&&Np(Z.ownerDocument.documentElement,Z)){if(re!==null&&lh(Z)){var be=re.start,Ee=re.end;if(Ee===void 0&&(Ee=be),"selectionStart"in Z)Z.selectionStart=be,Z.selectionEnd=Math.min(Ee,Z.value.length);else{var Re=Z.ownerDocument||document,ve=Re&&Re.defaultView||window;if(ve.getSelection){var _e=ve.getSelection(),Ue=Z.textContent.length,Ke=Math.min(re.start,Ue),Ft=re.end===void 0?Ke:Math.min(re.end,Ue);!_e.extend&&Ke>Ft&&(U=Ft,Ft=Ke,Ke=U);var me=Tp(Z,Ke),oe=Tp(Z,Ft);if(me&&oe&&(_e.rangeCount!==1||_e.anchorNode!==me.node||_e.anchorOffset!==me.offset||_e.focusNode!==oe.node||_e.focusOffset!==oe.offset)){var ye=Re.createRange();ye.setStart(me.node,me.offset),_e.removeAllRanges(),Ke>Ft?(_e.addRange(ye),_e.extend(oe.node,oe.offset)):(ye.setEnd(oe.node,oe.offset),_e.addRange(ye))}}}}for(Re=[],_e=Z;_e=_e.parentNode;)_e.nodeType===1&&Re.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Re.length;Z++){var Ae=Re[Z];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}Bu=!!Ld,Id=Ld=null}finally{Nt=d,N.p=c,_.T=o}}t.current=i,Tn=2}}function Gy(){if(Tn===2){Tn=0;var t=ws,i=oo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=_.T,_.T=null;var c=N.p;N.p=2;var d=Nt;Nt|=4;try{vy(t,i.alternate,i)}finally{Nt=d,N.p=c,_.T=o}}Tn=3}}function Vy(){if(Tn===4||Tn===3){Tn=0,ut();var t=ws,i=oo,o=zi,c=Oy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Tn=5:(Tn=0,oo=ws=null,Ky(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(vs=null),it(o),i=i.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(Q,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=_.T,d=N.p,N.p=2,_.T=null;try{for(var y=t.onRecoverableError,U=0;U<c.length;U++){var Z=c[U];y(Z.value,{componentStack:Z.stack})}}finally{_.T=i,N.p=d}}(zi&3)!==0&&bu(),li(t),d=t.pendingLanes,(o&261930)!==0&&(d&42)!==0?t===Sd?Ul++:(Ul=0,Sd=t):Ul=0,Ll(0)}}function Ky(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,gl(i)))}function bu(){return Fy(),Gy(),Vy(),Yy()}function Yy(){if(Tn!==5)return!1;var t=ws,i=xd;xd=0;var o=it(zi),c=_.T,d=N.p;try{N.p=32>o?32:o,_.T=null,o=_d,_d=null;var y=ws,U=zi;if(Tn=0,oo=ws=null,zi=0,(Nt&6)!==0)throw Error(s(331));var Z=Nt;if(Nt|=4,Ny(y.current),Ry(y,y.current,U,o),Nt=Z,Ll(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(Q,y)}catch{}return!0}finally{N.p=d,_.T=c,Ky(t,i)}}function Wy(t,i,o){i=Ar(o,i),i=td(t.stateNode,i,2),t=ds(t,i,2),t!==null&&(A(t,2),li(t))}function It(t,i,o){if(t.tag===3)Wy(t,t,o);else for(;i!==null;){if(i.tag===3){Wy(i,t,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(vs===null||!vs.has(c))){t=Ar(o,t),o=Zg(2),c=ds(i,o,2),c!==null&&(Xg(o,c,i,t),A(c,2),li(c));break}}i=i.return}}function Rd(t,i,o){var c=t.pingCache;if(c===null){c=t.pingCache=new U_;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(o)||(bd=!0,d.add(o),t=q_.bind(null,t,i,o),i.then(t,t))}function q_(t,i,o){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Vt===t&&(wt&o)===o&&(un===4||un===3&&(wt&62914560)===wt&&300>ot()-hu?(Nt&2)===0&&lo(t,0):vd|=o,ao===wt&&(ao=0)),li(t)}function Zy(t,i){i===0&&(i=Xt()),t=Xs(t,i),t!==null&&(A(t,i),li(t))}function $_(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Zy(t,o)}function H_(t,i){var o=0;switch(t.tag){case 31:case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),Zy(t,o)}function P_(t,i){return Ct(t,i)}var vu=null,uo=null,kd=!1,wu=!1,Td=!1,_s=0;function li(t){t!==uo&&t.next===null&&(uo===null?vu=uo=t:uo=uo.next=t),wu=!0,kd||(kd=!0,G_())}function Ll(t,i){if(!Td&&wu){Td=!0;do for(var o=!1,c=vu;c!==null;){if(t!==0){var d=c.pendingLanes;if(d===0)var y=0;else{var U=c.suspendedLanes,Z=c.pingedLanes;y=(1<<31-xe(42|t)+1)-1,y&=d&~(U&~Z),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,e1(c,y))}else y=wt,y=Ut(c,c===Vt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||$t(c,y)||(o=!0,e1(c,y));c=c.next}while(o);Td=!1}}function F_(){Xy()}function Xy(){wu=kd=!1;var t=0;_s!==0&&tS()&&(t=_s);for(var i=ot(),o=null,c=vu;c!==null;){var d=c.next,y=Jy(c,i);y===0?(c.next=null,o===null?vu=d:o.next=d,d===null&&(uo=o)):(o=c,(t!==0||(y&3)!==0)&&(wu=!0)),c=d}Tn!==0&&Tn!==5||Ll(t),_s!==0&&(_s=0)}function Jy(t,i){for(var o=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var U=31-xe(y),Z=1<<U,re=d[U];re===-1?((Z&o)===0||(Z&c)!==0)&&(d[U]=fr(Z,i)):re<=i&&(t.expiredLanes|=Z),y&=~Z}if(i=Vt,o=wt,o=Ut(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,o===0||t===i&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&zt(c),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||$t(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(c!==null&&zt(c),it(o)){case 2:case 8:o=qt;break;case 32:o=kn;break;case 268435456:o=K;break;default:o=kn}return c=Qy.bind(null,t),o=Ct(o,c),t.callbackPriority=i,t.callbackNode=o,i}return c!==null&&c!==null&&zt(c),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,i){if(Tn!==0&&Tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(bu()&&t.callbackNode!==o)return null;var c=wt;return c=Ut(t,t===Vt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(My(t,c,i),Jy(t,ot()),t.callbackNode!=null&&t.callbackNode===o?Qy.bind(null,t):null)}function e1(t,i){if(bu())return null;My(t,i,!0)}function G_(){rS(function(){(Nt&6)!==0?Ct(Ot,F_):Xy()})}function Nd(){if(_s===0){var t=Wa;t===0&&(t=At,At<<=1,(At&261888)===0&&(At=256)),_s=t}return _s}function t1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Tc(""+t)}function n1(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function V_(t,i,o,c,d){if(i==="submit"&&o&&o.stateNode===d){var y=t1((d[_t]||null).action),U=c.submitter;U&&(i=(i=U[_t]||null)?t1(i.formAction):U.getAttribute("formAction"),i!==null&&(y=i,U=null));var Z=new Oc("action","action",null,c,d);t.push({event:Z,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(_s!==0){var re=U?n1(d,U):new FormData(d);Wh(o,{pending:!0,data:re,method:d.method,action:y},null,re)}}else typeof y=="function"&&(Z.preventDefault(),re=U?n1(d,U):new FormData(d),Wh(o,{pending:!0,data:re,method:d.method,action:y},y,re))},currentTarget:d}]})}}for(var Bd=0;Bd<hh.length;Bd++){var Cd=hh[Bd],K_=Cd.toLowerCase(),Y_=Cd[0].toUpperCase()+Cd.slice(1);Pr(K_,"on"+Y_)}Pr(jp,"onAnimationEnd"),Pr(Mp,"onAnimationIteration"),Pr(Up,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(u_,"onTransitionRun"),Pr(f_,"onTransitionStart"),Pr(h_,"onTransitionCancel"),Pr(Lp,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function r1(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],d=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var U=c.length-1;0<=U;U--){var Z=c[U],re=Z.instance,be=Z.currentTarget;if(Z=Z.listener,re!==y&&d.isPropagationStopped())break e;y=Z,d.currentTarget=be;try{y(d)}catch(Ee){Uc(Ee)}d.currentTarget=null,y=re}else for(U=0;U<c.length;U++){if(Z=c[U],re=Z.instance,be=Z.currentTarget,Z=Z.listener,re!==y&&d.isPropagationStopped())break e;y=Z,d.currentTarget=be;try{y(d)}catch(Ee){Uc(Ee)}d.currentTarget=null,y=re}}}}function yt(t,i){var o=i[en];o===void 0&&(o=i[en]=new Set);var c=t+"__bubble";o.has(c)||(i1(i,t,2,!1),o.add(c))}function Od(t,i,o){var c=0;i&&(c|=4),i1(o,t,c,i)}var xu="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[xu]){t[xu]=!0,Oa.forEach(function(o){o!=="selectionchange"&&(W_.has(o)||Od(o,!1,t),Od(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xu]||(i[xu]=!0,Od("selectionchange",!1,i))}}function i1(t,i,o,c){switch(j1(i)){case 2:var d=SS;break;case 8:d=ES;break;default:d=Yd}o=d.bind(null,i,o,t),d=void 0,!Qf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(i,o,{capture:!0,passive:d}):t.addEventListener(i,o,!0):d!==void 0?t.addEventListener(i,o,{passive:d}):t.addEventListener(i,o,!1)}function Md(t,i,o,c,d){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var U=c.tag;if(U===3||U===4){var Z=c.stateNode.containerInfo;if(Z===d)break;if(U===4)for(U=c.return;U!==null;){var re=U.tag;if((re===3||re===4)&&U.stateNode.containerInfo===d)return;U=U.return}for(;Z!==null;){if(U=ti(Z),U===null)return;if(re=U.tag,re===5||re===6||re===26||re===27){c=y=U;continue e}Z=Z.parentNode}}c=c.return}cp(function(){var be=y,Ee=Xf(o),Re=[];e:{var ve=Ip.get(t);if(ve!==void 0){var _e=Oc,Ue=t;switch(t){case"keypress":if(Bc(o)===0)break e;case"keydown":case"keyup":_e=H2;break;case"focusin":Ue="focus",_e=rh;break;case"focusout":Ue="blur",_e=rh;break;case"beforeblur":case"afterblur":_e=rh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=B2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=G2;break;case jp:case Mp:case Up:_e=j2;break;case Lp:_e=K2;break;case"scroll":case"scrollend":_e=T2;break;case"wheel":_e=W2;break;case"copy":case"cut":case"paste":_e=U2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=mp;break;case"toggle":case"beforetoggle":_e=X2}var Ke=(i&4)!==0,Ft=!Ke&&(t==="scroll"||t==="scrollend"),me=Ke?ve!==null?ve+"Capture":null:ve;Ke=[];for(var oe=be,ye;oe!==null;){var Ae=oe;if(ye=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||ye===null||me===null||(Ae=sl(oe,me),Ae!=null&&Ke.push(Dl(oe,Ae,ye))),Ft)break;oe=oe.return}0<Ke.length&&(ve=new _e(ve,Ue,null,o,Ee),Re.push({event:ve,listeners:Ke}))}}if((i&7)===0){e:{if(ve=t==="mouseover"||t==="pointerover",_e=t==="mouseout"||t==="pointerout",ve&&o!==Zf&&(Ue=o.relatedTarget||o.fromElement)&&(ti(Ue)||Ue[wi]))break e;if((_e||ve)&&(ve=Ee.window===Ee?Ee:(ve=Ee.ownerDocument)?ve.defaultView||ve.parentWindow:window,_e?(Ue=o.relatedTarget||o.toElement,_e=be,Ue=Ue?ti(Ue):null,Ue!==null&&(Ft=l(Ue),Ke=Ue.tag,Ue!==Ft||Ke!==5&&Ke!==27&&Ke!==6)&&(Ue=null)):(_e=null,Ue=be),_e!==Ue)){if(Ke=hp,Ae="onMouseLeave",me="onMouseEnter",oe="mouse",(t==="pointerout"||t==="pointerover")&&(Ke=mp,Ae="onPointerLeave",me="onPointerEnter",oe="pointer"),Ft=_e==null?ve:_i(_e),ye=Ue==null?ve:_i(Ue),ve=new Ke(Ae,oe+"leave",_e,o,Ee),ve.target=Ft,ve.relatedTarget=ye,Ae=null,ti(Ee)===be&&(Ke=new Ke(me,oe+"enter",Ue,o,Ee),Ke.target=ye,Ke.relatedTarget=Ft,Ae=Ke),Ft=Ae,_e&&Ue)t:{for(Ke=Z_,me=_e,oe=Ue,ye=0,Ae=me;Ae;Ae=Ke(Ae))ye++;Ae=0;for(var Pe=oe;Pe;Pe=Ke(Pe))Ae++;for(;0<ye-Ae;)me=Ke(me),ye--;for(;0<Ae-ye;)oe=Ke(oe),Ae--;for(;ye--;){if(me===oe||oe!==null&&me===oe.alternate){Ke=me;break t}me=Ke(me),oe=Ke(oe)}Ke=null}else Ke=null;_e!==null&&s1(Re,ve,_e,Ke,!1),Ue!==null&&Ft!==null&&s1(Re,Ft,Ue,Ke,!0)}}e:{if(ve=be?_i(be):window,_e=ve.nodeName&&ve.nodeName.toLowerCase(),_e==="select"||_e==="input"&&ve.type==="file")var Rt=_p;else if(wp(ve))if(Sp)Rt=o_;else{Rt=s_;var De=i_}else _e=ve.nodeName,!_e||_e.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?be&&Wf(be.elementType)&&(Rt=_p):Rt=a_;if(Rt&&(Rt=Rt(t,be))){xp(Re,Rt,o,Ee);break e}De&&De(t,ve,be),t==="focusout"&&be&&ve.type==="number"&&be.memoizedProps.value!=null&&Yf(ve,"number",ve.value)}switch(De=be?_i(be):window,t){case"focusin":(wp(De)||De.contentEditable==="true")&&($a=De,ch=be,dl=null);break;case"focusout":dl=ch=$a=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Cp(Re,o,Ee);break;case"selectionchange":if(c_)break;case"keydown":case"keyup":Cp(Re,o,Ee)}var ct;if(sh)e:{switch(t){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else qa?bp(t,o)&&(xt="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(xt="onCompositionStart");xt&&(pp&&o.locale!=="ko"&&(qa||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&qa&&(ct=up()):(as=Ee,eh="value"in as?as.value:as.textContent,qa=!0)),De=_u(be,xt),0<De.length&&(xt=new dp(xt,t,null,o,Ee),Re.push({event:xt,listeners:De}),ct?xt.data=ct:(ct=vp(o),ct!==null&&(xt.data=ct)))),(ct=Q2?e_(t,o):t_(t,o))&&(xt=_u(be,"onBeforeInput"),0<xt.length&&(De=new dp("onBeforeInput","beforeinput",null,o,Ee),Re.push({event:De,listeners:xt}),De.data=ct)),V_(Re,t,be,o,Ee)}r1(Re,i)})}function Dl(t,i,o){return{instance:t,listener:i,currentTarget:o}}function _u(t,i){for(var o=i+"Capture",c=[];t!==null;){var d=t,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=sl(t,o),d!=null&&c.unshift(Dl(t,d,y)),d=sl(t,i),d!=null&&c.push(Dl(t,d,y))),t.tag===3)return c;t=t.return}return[]}function Z_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s1(t,i,o,c,d){for(var y=i._reactName,U=[];o!==null&&o!==c;){var Z=o,re=Z.alternate,be=Z.stateNode;if(Z=Z.tag,re!==null&&re===c)break;Z!==5&&Z!==26&&Z!==27||be===null||(re=be,d?(be=sl(o,y),be!=null&&U.unshift(Dl(o,be,re))):d||(be=sl(o,y),be!=null&&U.push(Dl(o,be,re)))),o=o.return}U.length!==0&&t.push({event:i,listeners:U})}var X_=/\r\n?/g,J_=/\u0000|\uFFFD/g;function a1(t){return(typeof t=="string"?t:""+t).replace(X_,`
`).replace(J_,"")}function o1(t,i){return i=a1(i),a1(t)===i}function Pt(t,i,o,c,d,y){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Ia(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Ia(t,""+c);break;case"className":ss(t,"class",c);break;case"tabIndex":ss(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ss(t,o,c);break;case"style":op(t,c,y);break;case"data":if(i!=="object"){ss(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=Tc(""+c),t.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&Pt(t,i,"name",d.name,d,null),Pt(t,i,"formEncType",d.formEncType,d,null),Pt(t,i,"formMethod",d.formMethod,d,null),Pt(t,i,"formTarget",d.formTarget,d,null)):(Pt(t,i,"encType",d.encType,d,null),Pt(t,i,"method",d.method,d,null),Pt(t,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=Tc(""+c),t.setAttribute(o,c);break;case"onClick":c!=null&&(t.onclick=Ei);break;case"onScroll":c!=null&&yt("scroll",t);break;case"onScrollEnd":c!=null&&yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=o}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}o=Tc(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""+c):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":c===!0?t.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,c):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(o,c):t.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(o):t.setAttribute(o,c);break;case"popover":yt("beforetoggle",t),yt("toggle",t),is(t,"popover",c);break;case"xlinkActuate":Si(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Si(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Si(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Si(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Si(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Si(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Si(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Si(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Si(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":is(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=R2.get(o)||o,is(t,o,c))}}function Ud(t,i,o,c,d,y){switch(o){case"style":op(t,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=o}}break;case"children":typeof c=="string"?Ia(t,c):(typeof c=="number"||typeof c=="bigint")&&Ia(t,""+c);break;case"onScroll":c!=null&&yt("scroll",t);break;case"onScrollEnd":c!=null&&yt("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ja.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),y=t[_t]||null,y=y!=null?y[o]:null,typeof y=="function"&&t.removeEventListener(i,y,d),typeof c=="function")){typeof y!="function"&&y!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,c,d);break e}o in t?t[o]=c:c===!0?t.setAttribute(o,""):is(t,o,c)}}}function zn(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",t),yt("load",t);var c=!1,d=!1,y;for(y in o)if(o.hasOwnProperty(y)){var U=o[y];if(U!=null)switch(y){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pt(t,i,y,U,o,null)}}d&&Pt(t,i,"srcSet",o.srcSet,o,null),c&&Pt(t,i,"src",o.src,o,null);return;case"input":yt("invalid",t);var Z=y=U=d=null,re=null,be=null;for(c in o)if(o.hasOwnProperty(c)){var Ee=o[c];if(Ee!=null)switch(c){case"name":d=Ee;break;case"type":U=Ee;break;case"checked":re=Ee;break;case"defaultChecked":be=Ee;break;case"value":y=Ee;break;case"defaultValue":Z=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(s(137,i));break;default:Pt(t,i,c,Ee,o,null)}}rp(t,y,Z,re,be,U,d,!1);return;case"select":yt("invalid",t),c=U=y=null;for(d in o)if(o.hasOwnProperty(d)&&(Z=o[d],Z!=null))switch(d){case"value":y=Z;break;case"defaultValue":U=Z;break;case"multiple":c=Z;default:Pt(t,i,d,Z,o,null)}i=y,o=U,t.multiple=!!c,i!=null?La(t,!!c,i,!1):o!=null&&La(t,!!c,o,!0);return;case"textarea":yt("invalid",t),y=d=c=null;for(U in o)if(o.hasOwnProperty(U)&&(Z=o[U],Z!=null))switch(U){case"value":c=Z;break;case"defaultValue":d=Z;break;case"children":y=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(91));break;default:Pt(t,i,U,Z,o,null)}sp(t,c,d,y);return;case"option":for(re in o)o.hasOwnProperty(re)&&(c=o[re],c!=null)&&(re==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":Pt(t,i,re,c,o,null));return;case"dialog":yt("beforetoggle",t),yt("toggle",t),yt("cancel",t),yt("close",t);break;case"iframe":case"object":yt("load",t);break;case"video":case"audio":for(c=0;c<Il.length;c++)yt(Il[c],t);break;case"image":yt("error",t),yt("load",t);break;case"details":yt("toggle",t);break;case"embed":case"source":case"link":yt("error",t),yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in o)if(o.hasOwnProperty(be)&&(c=o[be],c!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pt(t,i,be,c,o,null)}return;default:if(Wf(i)){for(Ee in o)o.hasOwnProperty(Ee)&&(c=o[Ee],c!==void 0&&Ud(t,i,Ee,c,o,void 0));return}}for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!=null&&Pt(t,i,Z,c,o,null))}function Q_(t,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,U=null,Z=null,re=null,be=null,Ee=null;for(_e in o){var Re=o[_e];if(o.hasOwnProperty(_e)&&Re!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":re=Re;default:c.hasOwnProperty(_e)||Pt(t,i,_e,null,c,Re)}}for(var ve in c){var _e=c[ve];if(Re=o[ve],c.hasOwnProperty(ve)&&(_e!=null||Re!=null))switch(ve){case"type":y=_e;break;case"name":d=_e;break;case"checked":be=_e;break;case"defaultChecked":Ee=_e;break;case"value":U=_e;break;case"defaultValue":Z=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,i));break;default:_e!==Re&&Pt(t,i,ve,_e,c,Re)}}Kf(t,U,Z,re,be,Ee,y,d);return;case"select":_e=U=Z=ve=null;for(y in o)if(re=o[y],o.hasOwnProperty(y)&&re!=null)switch(y){case"value":break;case"multiple":_e=re;default:c.hasOwnProperty(y)||Pt(t,i,y,null,c,re)}for(d in c)if(y=c[d],re=o[d],c.hasOwnProperty(d)&&(y!=null||re!=null))switch(d){case"value":ve=y;break;case"defaultValue":Z=y;break;case"multiple":U=y;default:y!==re&&Pt(t,i,d,y,c,re)}i=Z,o=U,c=_e,ve!=null?La(t,!!o,ve,!1):!!c!=!!o&&(i!=null?La(t,!!o,i,!0):La(t,!!o,o?[]:"",!1));return;case"textarea":_e=ve=null;for(Z in o)if(d=o[Z],o.hasOwnProperty(Z)&&d!=null&&!c.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:Pt(t,i,Z,null,c,d)}for(U in c)if(d=c[U],y=o[U],c.hasOwnProperty(U)&&(d!=null||y!=null))switch(U){case"value":ve=d;break;case"defaultValue":_e=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==y&&Pt(t,i,U,d,c,y)}ip(t,ve,_e);return;case"option":for(var Ue in o)ve=o[Ue],o.hasOwnProperty(Ue)&&ve!=null&&!c.hasOwnProperty(Ue)&&(Ue==="selected"?t.selected=!1:Pt(t,i,Ue,null,c,ve));for(re in c)ve=c[re],_e=o[re],c.hasOwnProperty(re)&&ve!==_e&&(ve!=null||_e!=null)&&(re==="selected"?t.selected=ve&&typeof ve!="function"&&typeof ve!="symbol":Pt(t,i,re,ve,c,_e));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in o)ve=o[Ke],o.hasOwnProperty(Ke)&&ve!=null&&!c.hasOwnProperty(Ke)&&Pt(t,i,Ke,null,c,ve);for(be in c)if(ve=c[be],_e=o[be],c.hasOwnProperty(be)&&ve!==_e&&(ve!=null||_e!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,i));break;default:Pt(t,i,be,ve,c,_e)}return;default:if(Wf(i)){for(var Ft in o)ve=o[Ft],o.hasOwnProperty(Ft)&&ve!==void 0&&!c.hasOwnProperty(Ft)&&Ud(t,i,Ft,void 0,c,ve);for(Ee in c)ve=c[Ee],_e=o[Ee],!c.hasOwnProperty(Ee)||ve===_e||ve===void 0&&_e===void 0||Ud(t,i,Ee,ve,c,_e);return}}for(var me in o)ve=o[me],o.hasOwnProperty(me)&&ve!=null&&!c.hasOwnProperty(me)&&Pt(t,i,me,null,c,ve);for(Re in c)ve=c[Re],_e=o[Re],!c.hasOwnProperty(Re)||ve===_e||ve==null&&_e==null||Pt(t,i,Re,ve,c,_e)}function l1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],y=d.transferSize,U=d.initiatorType,Z=d.duration;if(y&&Z&&l1(U)){for(U=0,Z=d.responseEnd,c+=1;c<o.length;c++){var re=o[c],be=re.startTime;if(be>Z)break;var Ee=re.transferSize,Re=re.initiatorType;Ee&&l1(Re)&&(re=re.responseEnd,U+=Ee*(re<Z?1:(Z-be)/(re-be)))}if(--c,i+=8*(y+U)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ld=null,Id=null;function Su(t){return t.nodeType===9?t:t.ownerDocument}function c1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u1(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zd=null;function tS(){var t=window.event;return t&&t.type==="popstate"?t===zd?!1:(zd=t,!0):(zd=null,!1)}var f1=typeof setTimeout=="function"?setTimeout:void 0,nS=typeof clearTimeout=="function"?clearTimeout:void 0,h1=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof h1<"u"?function(t){return h1.resolve(null).then(t).catch(iS)}:f1;function iS(t){setTimeout(function(){throw t})}function Ss(t){return t==="head"}function d1(t,i){var o=i,c=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){t.removeChild(d),po(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")zl(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,zl(o);for(var y=o.firstChild;y;){var U=y.nextSibling,Z=y.nodeName;y[xi]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=U}}else o==="body"&&zl(t.ownerDocument.body);o=d}while(o);po(i)}function m1(t,i){var o=t;t=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=c}while(o)}function qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qd(o),Ks(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function sS(t,i,o,c){for(;t.nodeType===1;){var d=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[xi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=Br(t.nextSibling),t===null)break}return null}function aS(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Br(t.nextSibling),t===null))return null;return t}function p1(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Br(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$?"||t.data==="$~"}function Hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oS(t,i){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Br(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Pd=null;function g1(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(i===0)return Br(t.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}t=t.nextSibling}return null}function y1(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return t;i--}else o!=="/$"&&o!=="/&"||i++}t=t.previousSibling}return null}function b1(t,i,o){switch(i=Su(o),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ks(t)}var Cr=new Map,v1=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=N.d;N.d={f:lS,r:cS,D:uS,C:fS,L:hS,m:dS,X:pS,S:mS,M:gS};function lS(){var t=qi.f(),i=pu();return t||i}function cS(t){var i=ni(t);i!==null&&i.tag===5&&i.type==="form"?Lg(i):qi.r(t)}var fo=typeof document>"u"?null:document;function w1(t,i,o){var c=fo;if(c&&typeof i=="string"&&i){var d=Sr(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),v1.has(d)||(v1.add(d),t={rel:t,crossOrigin:o,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),zn(i,"link",t),ln(i),c.head.appendChild(i)))}}function uS(t){qi.D(t),w1("dns-prefetch",t,null)}function fS(t,i){qi.C(t,i),w1("preconnect",t,i)}function hS(t,i,o){qi.L(t,i,o);var c=fo;if(c&&t&&i){var d='link[rel="preload"][as="'+Sr(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Sr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Sr(o.imageSizes)+'"]')):d+='[href="'+Sr(t)+'"]';var y=d;switch(i){case"style":y=ho(t);break;case"script":y=mo(t)}Cr.has(y)||(t=S({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Cr.set(y,t),c.querySelector(d)!==null||i==="style"&&c.querySelector(ql(y))||i==="script"&&c.querySelector($l(y))||(i=c.createElement("link"),zn(i,"link",t),ln(i),c.head.appendChild(i)))}}function dS(t,i){qi.m(t,i);var o=fo;if(o&&t){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Sr(c)+'"][href="'+Sr(t)+'"]',y=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=mo(t)}if(!Cr.has(y)&&(t=S({rel:"modulepreload",href:t},i),Cr.set(y,t),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($l(y)))return}c=o.createElement("link"),zn(c,"link",t),ln(c),o.head.appendChild(c)}}}function mS(t,i,o){qi.S(t,i,o);var c=fo;if(c&&t){var d=ri(c).hoistableStyles,y=ho(t);i=i||"default";var U=d.get(y);if(!U){var Z={loading:0,preload:null};if(U=c.querySelector(ql(y)))Z.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Cr.get(y))&&Fd(t,o);var re=U=c.createElement("link");ln(re),zn(re,"link",t),re._p=new Promise(function(be,Ee){re.onload=be,re.onerror=Ee}),re.addEventListener("load",function(){Z.loading|=1}),re.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Au(U,i,c)}U={type:"stylesheet",instance:U,count:1,state:Z},d.set(y,U)}}}function pS(t,i){qi.X(t,i);var o=fo;if(o&&t){var c=ri(o).hoistableScripts,d=mo(t),y=c.get(d);y||(y=o.querySelector($l(d)),y||(t=S({src:t,async:!0},i),(i=Cr.get(d))&&Gd(t,i),y=o.createElement("script"),ln(y),zn(y,"link",t),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function gS(t,i){qi.M(t,i);var o=fo;if(o&&t){var c=ri(o).hoistableScripts,d=mo(t),y=c.get(d);y||(y=o.querySelector($l(d)),y||(t=S({src:t,async:!0,type:"module"},i),(i=Cr.get(d))&&Gd(t,i),y=o.createElement("script"),ln(y),zn(y,"link",t),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(d,y))}}function x1(t,i,o,c){var d=(d=te.current)?Eu(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ho(o.href),o=ri(d).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=ho(o.href);var y=ri(d).hoistableStyles,U=y.get(t);if(U||(d=d.ownerDocument||d,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,U),(y=d.querySelector(ql(t)))&&!y._p&&(U.instance=y,U.state.loading=5),Cr.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Cr.set(t,o),y||yS(d,t,o,U.state))),i&&c===null)throw Error(s(528,""));return U}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(o),o=ri(d).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ho(t){return'href="'+Sr(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function _1(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function yS(t,i,o,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),zn(i,"link",o),ln(i),t.head.appendChild(i))}function mo(t){return'[src="'+Sr(t)+'"]'}function $l(t){return"script[async]"+t}function S1(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+Sr(o.href)+'"]');if(c)return i.instance=c,ln(c),c;var d=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ln(c),zn(c,"style",d),Au(c,o.precedence,t),i.instance=c;case"stylesheet":d=ho(o.href);var y=t.querySelector(ql(d));if(y)return i.state.loading|=4,i.instance=y,ln(y),y;c=_1(o),(d=Cr.get(d))&&Fd(c,d),y=(t.ownerDocument||t).createElement("link"),ln(y);var U=y;return U._p=new Promise(function(Z,re){U.onload=Z,U.onerror=re}),zn(y,"link",c),i.state.loading|=4,Au(y,o.precedence,t),i.instance=y;case"script":return y=mo(o.src),(d=t.querySelector($l(y)))?(i.instance=d,ln(d),d):(c=o,(d=Cr.get(y))&&(c=S({},o),Gd(c,d)),t=t.ownerDocument||t,d=t.createElement("script"),ln(d),zn(d,"link",c),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Au(c,o.precedence,t));return i.instance}function Au(t,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,y=d,U=0;U<c.length;U++){var Z=c[U];if(Z.dataset.precedence===i)y=Z;else if(y!==d)break}y?y.parentNode.insertBefore(t,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Fd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ru=null;function E1(t,i,o){if(Ru===null){var c=new Map,d=Ru=new Map;d.set(o,c)}else d=Ru,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(t))return c;for(c.set(t,null),o=o.getElementsByTagName(t),d=0;d<o.length;d++){var y=o[d];if(!(y[xi]||y[Me]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var U=y.getAttribute(i)||"";U=t+U;var Z=c.get(U);Z?Z.push(y):c.set(U,[y])}}return c}function A1(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function bS(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function R1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vS(t,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=ho(c.href),y=i.querySelector(ql(d));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ku.bind(t),i.then(t,t)),o.state.loading|=4,o.instance=y,ln(y);return}y=i.ownerDocument||i,c=_1(c),(d=Cr.get(d))&&Fd(c,d),y=y.createElement("link"),ln(y);var U=y;U._p=new Promise(function(Z,re){U.onload=Z,U.onerror=re}),zn(y,"link",c),o.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=ku.bind(t),i.addEventListener("load",o),i.addEventListener("error",o))}}var Vd=0;function wS(t,i){return t.stylesheets&&t.count===0&&Nu(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var c=setTimeout(function(){if(t.stylesheets&&Nu(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+i);0<t.imgBytes&&Vd===0&&(Vd=62500*eS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nu(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>Vd?50:800)+i);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tu=null;function Nu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tu=new Map,i.forEach(xS,t),Tu=null,ku.call(t))}function xS(t,i){if(!(i.state.loading&4)){var o=Tu.get(t);if(o)var c=o.get(null);else{o=new Map,Tu.set(t,o);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var U=d[y];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(o.set(U.dataset.precedence,U),c=U)}c&&o.set(null,c)}d=i.instance,U=d.getAttribute("data-precedence"),y=o.get(U)||c,y===c&&o.set(null,d),o.set(U,d),this.count++,c=ku.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),y?y.parentNode.insertBefore(d,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Hl={$$typeof:F,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function _S(t,i,o,c,d,y,U,Z,re){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Y(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y(0),this.hiddenUpdates=Y(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function k1(t,i,o,c,d,y,U,Z,re,be,Ee,Re){return t=new _S(t,i,o,U,re,be,Ee,Re,Z),i=1,y===!0&&(i|=24),y=dr(3,null,null,i),t.current=y,y.stateNode=t,i=Ah(),i.refCount++,t.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:i},Nh(y),t}function T1(t){return t?(t=Fa,t):Fa}function N1(t,i,o,c,d,y){d=T1(d),c.context===null?c.context=d:c.pendingContext=d,c=hs(i),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ds(t,c,i),o!==null&&(lr(o,t,i),wl(o,t,i))}function B1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function Kd(t,i){B1(t,i),(t=t.alternate)&&B1(t,i)}function C1(t){if(t.tag===13||t.tag===31){var i=Xs(t,67108864);i!==null&&lr(i,t,67108864),Kd(t,67108864)}}function O1(t){if(t.tag===13||t.tag===31){var i=br();i=Se(i);var o=Xs(t,i);o!==null&&lr(o,t,i),Kd(t,i)}}var Bu=!0;function SS(t,i,o,c){var d=_.T;_.T=null;var y=N.p;try{N.p=2,Yd(t,i,o,c)}finally{N.p=y,_.T=d}}function ES(t,i,o,c){var d=_.T;_.T=null;var y=N.p;try{N.p=8,Yd(t,i,o,c)}finally{N.p=y,_.T=d}}function Yd(t,i,o,c){if(Bu){var d=Wd(c);if(d===null)Md(t,i,c,Cu,o),M1(t,c);else if(RS(d,t,i,o,c))c.stopPropagation();else if(M1(t,c),i&4&&-1<AS.indexOf(t)){for(;d!==null;){var y=ni(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var U=pn(y.pendingLanes);if(U!==0){var Z=y;for(Z.pendingLanes|=2,Z.entangledLanes|=2;U;){var re=1<<31-xe(U);Z.entanglements[1]|=re,U&=~re}li(y),(Nt&6)===0&&(du=ot()+500,Ll(0))}}break;case 31:case 13:Z=Xs(y,2),Z!==null&&lr(Z,y,2),pu(),Kd(y,2)}if(y=Wd(c),y===null&&Md(t,i,c,Cu,o),y===d)break;d=y}d!==null&&c.stopPropagation()}else Md(t,i,c,null,o)}}function Wd(t){return t=Xf(t),Zd(t)}var Cu=null;function Zd(t){if(Cu=null,t=ti(t),t!==null){var i=l(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=u(i),t!==null)return t;t=null}else if(o===31){if(t=h(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Cu=t,null}function j1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(On()){case Ot:return 2;case qt:return 8;case kn:case Tt:return 32;case K:return 268435456;default:return 32}default:return 32}}var Xd=!1,Es=null,As=null,Rs=null,Pl=new Map,Fl=new Map,ks=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M1(t,i){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Gl(t,i,o,c,d,y){return t===null||t.nativeEvent!==y?(t={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[d]},i!==null&&(i=ni(i),i!==null&&C1(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function RS(t,i,o,c,d){switch(i){case"focusin":return Es=Gl(Es,t,i,o,c,d),!0;case"dragenter":return As=Gl(As,t,i,o,c,d),!0;case"mouseover":return Rs=Gl(Rs,t,i,o,c,d),!0;case"pointerover":var y=d.pointerId;return Pl.set(y,Gl(Pl.get(y)||null,t,i,o,c,d)),!0;case"gotpointercapture":return y=d.pointerId,Fl.set(y,Gl(Fl.get(y)||null,t,i,o,c,d)),!0}return!1}function U1(t){var i=ti(t.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){t.blockedOn=i,et(t.priority,function(){O1(o)});return}}else if(i===31){if(i=h(o),i!==null){t.blockedOn=i,et(t.priority,function(){O1(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=Wd(t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Zf=c,o.target.dispatchEvent(c),Zf=null}else return i=ni(o),i!==null&&C1(i),t.blockedOn=o,!1;i.shift()}return!0}function L1(t,i,o){Ou(t)&&o.delete(i)}function kS(){Xd=!1,Es!==null&&Ou(Es)&&(Es=null),As!==null&&Ou(As)&&(As=null),Rs!==null&&Ou(Rs)&&(Rs=null),Pl.forEach(L1),Fl.forEach(L1)}function ju(t,i){t.blockedOn===i&&(t.blockedOn=null,Xd||(Xd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kS)))}var Mu=null;function I1(t){Mu!==t&&(Mu=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mu===t&&(Mu=null);for(var i=0;i<t.length;i+=3){var o=t[i],c=t[i+1],d=t[i+2];if(typeof c!="function"){if(Zd(c||o)===null)continue;break}var y=ni(o);y!==null&&(t.splice(i,3),i-=3,Wh(y,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function po(t){function i(re){return ju(re,t)}Es!==null&&ju(Es,t),As!==null&&ju(As,t),Rs!==null&&ju(Rs,t),Pl.forEach(i),Fl.forEach(i);for(var o=0;o<ks.length;o++){var c=ks[o];c.blockedOn===t&&(c.blockedOn=null)}for(;0<ks.length&&(o=ks[0],o.blockedOn===null);)U1(o),o.blockedOn===null&&ks.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],y=o[c+1],U=d[_t]||null;if(typeof y=="function")U||I1(o);else if(U){var Z=null;if(y&&y.hasAttribute("formAction")){if(d=y,U=y[_t]||null)Z=U.formAction;else if(Zd(d)!==null)continue}else Z=U.action;typeof Z=="function"?o[c+1]=Z:(o.splice(c,3),c-=3),I1(o)}}}function D1(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(U){return d=U})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Jd(t){this._internalRoot=t}Uu.prototype.render=Jd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=br();N1(o,c,t,i,null,null)},Uu.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;N1(t.current,2,null,t,null,null),pu(),i[wi]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var i=tt();t={blockedOn:null,target:t,priority:i};for(var o=0;o<ks.length&&i!==0&&i<ks[o].priority;o++);ks.splice(o,0,t),o===0&&U1(t)}};var z1=e.version;if(z1!=="19.2.4")throw Error(s(527,z1,"19.2.4"));N.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var TS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Q=Lu.inject(TS),se=Lu}catch{}}return Kl.createRoot=function(t,i){if(!a(t))throw Error(s(299));var o=!1,c="",d=Vg,y=Kg,U=Yg;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(U=i.onRecoverableError)),i=k1(t,1,!1,null,null,o,c,null,d,y,U,D1),t[wi]=i.current,jd(t),new Jd(i)},Kl.hydrateRoot=function(t,i,o){if(!a(t))throw Error(s(299));var c=!1,d="",y=Vg,U=Kg,Z=Yg,re=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(U=o.onCaughtError),o.onRecoverableError!==void 0&&(Z=o.onRecoverableError),o.formState!==void 0&&(re=o.formState)),i=k1(t,1,!0,i,o??null,c,d,re,y,U,Z,D1),i.context=T1(null),o=i.current,c=br(),c=Se(c),d=hs(c),d.callback=null,ds(o,d,c),o=c,i.current.lanes=o,A(i,o),li(i),t[wi]=i.current,jd(t),new Uu(i)},Kl.version="19.2.4",Kl}var W1;function $S(){if(W1)return t0.exports;W1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),t0.exports=qS(),t0.exports}var HS=$S();const s0=globalThis||void 0||self;var Z1="popstate";function PS(n={}){function e(s,a){let{pathname:l,search:u,hash:h}=s.location;return Y0("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:ic(a)}return GS(e,r,null,n)}function sn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FS(){return Math.random().toString(36).substring(2,10)}function X1(n,e){return{usr:n.state,key:n.key,idx:e}}function Y0(n,e,r=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:r,key:e&&e.key||s||FS()}}function ic({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Yo(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function GS(n,e,r,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function S(){h="POP";let H=g(),X=H==null?null:H-m;m=H,f&&f({action:h,location:$.location,delta:X})}function k(H,X){h="PUSH";let P=Y0($.location,H,X);m=g()+1;let F=X1(P,m),ne=$.createHref(P);try{u.pushState(F,"",ne)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;a.location.assign(ne)}l&&f&&f({action:h,location:$.location,delta:1})}function j(H,X){h="REPLACE";let P=Y0($.location,H,X);m=g();let F=X1(P,m),ne=$.createHref(P);u.replaceState(F,"",ne),l&&f&&f({action:h,location:$.location,delta:0})}function z(H){return VS(H)}let $={get action(){return h},get location(){return n(a,u)},listen(H){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Z1,S),f=H,()=>{a.removeEventListener(Z1,S),f=null}},createHref(H){return e(a,H)},createURL:z,encodeLocation(H){let X=z(H);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:k,replace:j,go(H){return u.go(H)}};return $}function VS(n,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),sn(r,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ic(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function Dv(n,e,r="/"){return KS(n,e,r,!1)}function KS(n,e,r,s){let a=typeof e=="string"?Yo(e):e,l=es(a.pathname||"/",r);if(l==null)return null;let u=zv(n);YS(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=sE(l);h=rE(u[f],m,s)}return h}function zv(n,e=[],r=[],s="",a=!1){let l=(u,h,f=a,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&f)return;sn(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let S=Ji([s,g.relativePath]),k=r.concat(g);u.children&&u.children.length>0&&(sn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),zv(u.children,e,k,S,f)),!(u.path==null&&!u.index)&&e.push({path:S,score:tE(S,u.index),routesMeta:k})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let f of qv(u.path))l(u,h,!0,f)}),e}function qv(n){let e=n.split("/");if(e.length===0)return[];let[r,...s]=e,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=qv(s.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function YS(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:nE(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var WS=/^:[\w-]+$/,ZS=3,XS=2,JS=1,QS=10,eE=-2,J1=n=>n==="*";function tE(n,e){let r=n.split("/"),s=r.length;return r.some(J1)&&(s+=eE),e&&(s+=XS),r.filter(a=>!J1(a)).reduce((a,l)=>a+(WS.test(l)?ZS:l===""?JS:QS),s)}function nE(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function rE(n,e,r=!1){let{routesMeta:s}=n,a={},l="/",u=[];for(let h=0;h<s.length;++h){let f=s[h],m=h===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",S=cf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),k=f.route;if(!S&&m&&r&&!s[s.length-1].route.index&&(S=cf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!S)return null;Object.assign(a,S.params),u.push({params:a,pathname:Ji([l,S.pathname]),pathnameBase:cE(Ji([l,S.pathnameBase])),route:k}),S.pathnameBase!=="/"&&(l=Ji([l,S.pathnameBase]))}return u}function cf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,s]=iE(n.path,n.caseSensitive,n.end),a=e.match(r);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:S},k)=>{if(g==="*"){let z=h[k]||"";u=l.slice(0,l.length-z.length).replace(/(.)\/+$/,"$1")}const j=h[k];return S&&!j?m[g]=void 0:m[g]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:n}}function iE(n,e=!1,r=!0){gi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function sE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function es(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=n.charAt(r);return s&&s!=="/"?null:n.slice(r)||"/"}var aE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function oE(n,e="/"){let{pathname:r,search:s="",hash:a=""}=typeof n=="string"?Yo(n):n,l;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?l=Q1(r.substring(1),"/"):l=Q1(r,e)):l=e,{pathname:l,search:uE(s),hash:fE(a)}}function Q1(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function a0(n,e,r,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lE(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function $v(n){let e=lE(n);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function Hv(n,e,r,s=!1){let a;typeof n=="string"?a=Yo(n):(a={...n},sn(!a.pathname||!a.pathname.includes("?"),a0("?","pathname","search",a)),sn(!a.pathname||!a.pathname.includes("#"),a0("#","pathname","hash",a)),sn(!a.search||!a.search.includes("#"),a0("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=r;else{let S=e.length-1;if(!s&&u.startsWith("..")){let k=u.split("/");for(;k[0]==="..";)k.shift(),S-=1;a.pathname=k.join("/")}h=S>=0?e[S]:"/"}let f=oE(a,h),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var Ji=n=>n.join("/").replace(/\/\/+/g,"/"),cE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,hE=class{constructor(n,e,r,s=!1){this.status=n,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function dE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function mE(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fv(n,e){let r=n;if(typeof r!="string"||!aE.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let s=r,a=!1;if(Pv)try{let l=new URL(window.location.href),u=r.startsWith("//")?new URL(l.protocol+r):new URL(r),h=es(u.pathname,e);u.origin===l.origin&&h!=null?r=h+u.search+u.hash:a=!0}catch{gi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gv=["POST","PUT","PATCH","DELETE"];new Set(Gv);var pE=["GET",...Gv];new Set(pE);var Wo=ue.createContext(null);Wo.displayName="DataRouter";var Cf=ue.createContext(null);Cf.displayName="DataRouterState";var gE=ue.createContext(!1),Vv=ue.createContext({isTransitioning:!1});Vv.displayName="ViewTransition";var yE=ue.createContext(new Map);yE.displayName="Fetchers";var bE=ue.createContext(null);bE.displayName="Await";var $r=ue.createContext(null);$r.displayName="Navigation";var pc=ue.createContext(null);pc.displayName="Location";var ns=ue.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var Tm=ue.createContext(null);Tm.displayName="RouteError";var Kv="REACT_ROUTER_ERROR",vE="REDIRECT",wE="ROUTE_ERROR_RESPONSE";function xE(n){if(n.startsWith(`${Kv}:${vE}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function _E(n){if(n.startsWith(`${Kv}:${wE}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new hE(e.status,e.statusText,e.data)}catch{}}function SE(n,{relative:e}={}){sn(gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=ue.useContext($r),{hash:a,pathname:l,search:u}=bc(n,{relative:e}),h=l;return r!=="/"&&(h=l==="/"?r:Ji([r,l])),s.createHref({pathname:h,search:u,hash:a})}function gc(){return ue.useContext(pc)!=null}function Vs(){return sn(gc(),"useLocation() may be used only in the context of a <Router> component."),ue.useContext(pc).location}var Yv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wv(n){ue.useContext($r).static||ue.useLayoutEffect(n)}function yc(){let{isDataRoute:n}=ue.useContext(ns);return n?LE():EE()}function EE(){sn(gc(),"useNavigate() may be used only in the context of a <Router> component.");let n=ue.useContext(Wo),{basename:e,navigator:r}=ue.useContext($r),{matches:s}=ue.useContext(ns),{pathname:a}=Vs(),l=JSON.stringify($v(s)),u=ue.useRef(!1);return Wv(()=>{u.current=!0}),ue.useCallback((f,m={})=>{if(gi(u.current,Yv),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=Hv(f,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ji([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,l,a,n])}ue.createContext(null);function bc(n,{relative:e}={}){let{matches:r}=ue.useContext(ns),{pathname:s}=Vs(),a=JSON.stringify($v(r));return ue.useMemo(()=>Hv(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function AE(n,e){return Zv(n,e)}function Zv(n,e,r,s,a){sn(gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=ue.useContext($r),{matches:u}=ue.useContext(ns),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",S=h&&h.route;{let P=S&&S.path||"";Jv(m,!S||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let k=Vs(),j;if(e){let P=typeof e=="string"?Yo(e):e;sn(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),j=P}else j=k;let z=j.pathname||"/",$=z;if(g!=="/"){let P=g.replace(/^\//,"").split("/");$="/"+z.replace(/^\//,"").split("/").slice(P.length).join("/")}let H=Dv(n,{pathname:$});gi(S||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),gi(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=BE(H&&H.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:Ji([g,l.encodeLocation?l.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Ji([g,l.encodeLocation?l.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),u,r,s,a);return e&&X?ue.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},X):X}function RE(){let n=UE(),e=dE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=ue.createElement(ue.Fragment,null,ue.createElement("p",null," Hey developer "),ue.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ue.createElement("code",{style:l},"ErrorBoundary")," or"," ",ue.createElement("code",{style:l},"errorElement")," prop on your route.")),ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),r?ue.createElement("pre",{style:a},r):null,u)}var kE=ue.createElement(RE,null),Xv=class extends ue.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const r=_E(n.digest);r&&(n=r)}let e=n!==void 0?ue.createElement(ns.Provider,{value:this.props.routeContext},ue.createElement(Tm.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?ue.createElement(TE,{error:n},e):e}};Xv.contextType=gE;var o0=new WeakMap;function TE({children:n,error:e}){let{basename:r}=ue.useContext($r);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=xE(e.digest);if(s){let a=o0.get(e);if(a)throw a;let l=Fv(s.location,r);if(Pv&&!o0.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw o0.set(e,u),u}return ue.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function NE({routeContext:n,match:e,children:r}){let s=ue.useContext(Wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ue.createElement(ns.Provider,{value:n},r)}function BE(n,e=[],r=null,s=null,a=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let l=n,u=r?.errors;if(u!=null){let g=l.findIndex(S=>S.route.id&&u?.[S.route.id]!==void 0);sn(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,f=-1;if(r)for(let g=0;g<l.length;g++){let S=l[g];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(f=g),S.route.id){let{loaderData:k,errors:j}=r,z=S.route.loader&&!k.hasOwnProperty(S.route.id)&&(!j||j[S.route.id]===void 0);if(S.route.lazy||z){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&s?(g,S)=>{s(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:mE(r.matches),errorInfo:S})}:void 0;return l.reduceRight((g,S,k)=>{let j,z=!1,$=null,H=null;r&&(j=u&&S.route.id?u[S.route.id]:void 0,$=S.route.errorElement||kE,h&&(f<0&&k===0?(Jv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,H=null):f===k&&(z=!0,H=S.route.hydrateFallbackElement||null)));let X=e.concat(l.slice(0,k+1)),P=()=>{let F;return j?F=$:z?F=H:S.route.Component?F=ue.createElement(S.route.Component,null):S.route.element?F=S.route.element:F=g,ue.createElement(NE,{match:S,routeContext:{outlet:g,matches:X,isDataRoute:r!=null},children:F})};return r&&(S.route.ErrorBoundary||S.route.errorElement||k===0)?ue.createElement(Xv,{location:r.location,revalidation:r.revalidation,component:$,error:j,children:P(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:m}):P()},null)}function Nm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CE(n){let e=ue.useContext(Wo);return sn(e,Nm(n)),e}function OE(n){let e=ue.useContext(Cf);return sn(e,Nm(n)),e}function jE(n){let e=ue.useContext(ns);return sn(e,Nm(n)),e}function Bm(n){let e=jE(n),r=e.matches[e.matches.length-1];return sn(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function ME(){return Bm("useRouteId")}function UE(){let n=ue.useContext(Tm),e=OE("useRouteError"),r=Bm("useRouteError");return n!==void 0?n:e.errors?.[r]}function LE(){let{router:n}=CE("useNavigate"),e=Bm("useNavigate"),r=ue.useRef(!1);return Wv(()=>{r.current=!0}),ue.useCallback(async(a,l={})=>{gi(r.current,Yv),r.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var eb={};function Jv(n,e,r){!e&&!eb[n]&&(eb[n]=!0,gi(!1,r))}ue.memo(IE);function IE({routes:n,future:e,state:r,onError:s}){return Zv(n,void 0,r,s,e)}function To(n){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DE({basename:n="/",children:e=null,location:r,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){sn(!gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=ue.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[h,a,l,u]);typeof r=="string"&&(r=Yo(r));let{pathname:m="/",search:g="",hash:S="",state:k=null,key:j="default"}=r,z=ue.useMemo(()=>{let $=es(m,h);return $==null?null:{location:{pathname:$,search:g,hash:S,state:k,key:j},navigationType:s}},[h,m,g,S,k,j,s]);return gi(z!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${S}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:ue.createElement($r.Provider,{value:f},ue.createElement(pc.Provider,{children:e,value:z}))}function zE({children:n,location:e}){return AE(W0(n),e)}function W0(n,e=[]){let r=[];return ue.Children.forEach(n,(s,a)=>{if(!ue.isValidElement(s))return;let l=[...e,a];if(s.type===ue.Fragment){r.push.apply(r,W0(s.props.children,l));return}sn(s.type===To,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=W0(s.props.children,l)),r.push(u)}),r}var sf="get",af="application/x-www-form-urlencoded";function Of(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function qE(n){return Of(n)&&n.tagName.toLowerCase()==="button"}function $E(n){return Of(n)&&n.tagName.toLowerCase()==="form"}function HE(n){return Of(n)&&n.tagName.toLowerCase()==="input"}function PE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function FE(n,e){return n.button===0&&(!e||e==="_self")&&!PE(n)}var Iu=null;function GE(){if(Iu===null)try{new FormData(document.createElement("form"),0),Iu=!1}catch{Iu=!0}return Iu}var VE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function l0(n){return n!=null&&!VE.has(n)?(gi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${af}"`),null):n}function KE(n,e){let r,s,a,l,u;if($E(n)){let h=n.getAttribute("action");s=h?es(h,e):null,r=n.getAttribute("method")||sf,a=l0(n.getAttribute("enctype"))||af,l=new FormData(n)}else if(qE(n)||HE(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(s=f?es(f,e):null,r=n.getAttribute("formmethod")||h.getAttribute("method")||sf,a=l0(n.getAttribute("formenctype"))||l0(h.getAttribute("enctype"))||af,l=new FormData(h,n),!GE()){let{name:m,type:g,value:S}=n;if(g==="image"){let k=m?`${m}.`:"";l.append(`${k}x`,"0"),l.append(`${k}y`,"0")}else m&&l.append(m,S)}}else{if(Of(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sf,s=null,a=af,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function YE(n,e,r,s){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&es(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function WE(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZE(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function XE(n,e,r){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await WE(l,r);return u.links?u.links():[]}return[]}));return tA(s.flat(1).filter(ZE).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tb(n,e,r,s,a,l){let u=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,h=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):l==="data"?e.filter((f,m)=>{let g=s.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let S=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function JE(n,e,{includeHydrateFallback:r}={}){return QE(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function QE(n){return[...new Set(n)]}function eA(n){let e={},r=Object.keys(n).sort();for(let s of r)e[s]=n[s];return e}function tA(n,e){let r=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(eA(a));return r.has(l)||(r.add(l),s.push({key:l,link:a})),s},[])}function Qv(){let n=ue.useContext(Wo);return Cm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nA(){let n=ue.useContext(Cf);return Cm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Om=ue.createContext(void 0);Om.displayName="FrameworkContext";function ew(){let n=ue.useContext(Om);return Cm(n,"You must render this element inside a <HydratedRouter> element"),n}function rA(n,e){let r=ue.useContext(Om),[s,a]=ue.useState(!1),[l,u]=ue.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:S}=e,k=ue.useRef(null);ue.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let $=X=>{X.forEach(P=>{u(P.isIntersecting)})},H=new IntersectionObserver($,{threshold:.5});return k.current&&H.observe(k.current),()=>{H.disconnect()}}},[n]),ue.useEffect(()=>{if(s){let $=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout($)}}},[s]);let j=()=>{a(!0)},z=()=>{a(!1),u(!1)};return r?n!=="intent"?[l,k,{}]:[l,k,{onFocus:Yl(h,j),onBlur:Yl(f,z),onMouseEnter:Yl(m,j),onMouseLeave:Yl(g,z),onTouchStart:Yl(S,j)}]:[!1,k,{}]}function Yl(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function iA({page:n,...e}){let{router:r}=Qv(),s=ue.useMemo(()=>Dv(r.routes,n,r.basename),[r.routes,n,r.basename]);return s?ue.createElement(aA,{page:n,matches:s,...e}):null}function sA(n){let{manifest:e,routeModules:r}=ew(),[s,a]=ue.useState([]);return ue.useEffect(()=>{let l=!1;return XE(n,e,r).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,r]),s}function aA({page:n,matches:e,...r}){let s=Vs(),{future:a,manifest:l,routeModules:u}=ew(),{basename:h}=Qv(),{loaderData:f,matches:m}=nA(),g=ue.useMemo(()=>tb(n,e,m,l,s,"data"),[n,e,m,l,s]),S=ue.useMemo(()=>tb(n,e,m,l,s,"assets"),[n,e,m,l,s]),k=ue.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let $=new Set,H=!1;if(e.forEach(P=>{let F=l.routes[P.route.id];!F||!F.hasLoader||(!g.some(ne=>ne.route.id===P.route.id)&&P.route.id in f&&u[P.route.id]?.shouldRevalidate||F.hasClientLoader?H=!0:$.add(P.route.id))}),$.size===0)return[];let X=YE(n,h,a.unstable_trailingSlashAwareDataRequests,"data");return H&&$.size>0&&X.searchParams.set("_routes",e.filter(P=>$.has(P.route.id)).map(P=>P.route.id).join(",")),[X.pathname+X.search]},[h,a.unstable_trailingSlashAwareDataRequests,f,s,l,g,e,n,u]),j=ue.useMemo(()=>JE(S,l),[S,l]),z=sA(S);return ue.createElement(ue.Fragment,null,k.map($=>ue.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...r})),j.map($=>ue.createElement("link",{key:$,rel:"modulepreload",href:$,...r})),z.map(({key:$,link:H})=>ue.createElement("link",{key:$,nonce:r.nonce,...H,crossOrigin:H.crossOrigin??r.crossOrigin})))}function oA(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var lA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lA&&(window.__reactRouterVersion="7.13.0")}catch{}function cA({basename:n,children:e,unstable_useTransitions:r,window:s}){let a=ue.useRef();a.current==null&&(a.current=PS({window:s,v5Compat:!0}));let l=a.current,[u,h]=ue.useState({action:l.action,location:l.location}),f=ue.useCallback(m=>{r===!1?h(m):ue.startTransition(()=>h(m))},[r]);return ue.useLayoutEffect(()=>l.listen(f),[l,f]),ue.createElement(DE,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:r})}var tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=ue.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:f,to:m,preventScrollReset:g,viewTransition:S,unstable_defaultShouldRevalidate:k,...j},z){let{basename:$,unstable_useTransitions:H}=ue.useContext($r),X=typeof m=="string"&&tw.test(m),P=Fv(m,$);m=P.to;let F=SE(m,{relative:a}),[ne,he,fe]=rA(s,j),le=dA(m,{replace:u,state:h,target:f,preventScrollReset:g,relative:a,viewTransition:S,unstable_defaultShouldRevalidate:k,unstable_useTransitions:H});function D(q){e&&e(q),q.defaultPrevented||le(q)}let M=ue.createElement("a",{...j,...fe,href:P.absoluteURL||F,onClick:P.isExternal||l?e:D,ref:oA(z,he),target:f,"data-discover":!X&&r==="render"?"true":void 0});return ne&&!X?ue.createElement(ue.Fragment,null,M,ue.createElement(iA,{page:F})):M});Mt.displayName="Link";var uA=ue.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:f,...m},g){let S=bc(u,{relative:m.relative}),k=Vs(),j=ue.useContext(Cf),{navigator:z,basename:$}=ue.useContext($r),H=j!=null&&bA(S)&&h===!0,X=z.encodeLocation?z.encodeLocation(S).pathname:S.pathname,P=k.pathname,F=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(P=P.toLowerCase(),F=F?F.toLowerCase():null,X=X.toLowerCase()),F&&$&&(F=es(F,$)||F);const ne=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let he=P===X||!a&&P.startsWith(X)&&P.charAt(ne)==="/",fe=F!=null&&(F===X||!a&&F.startsWith(X)&&F.charAt(X.length)==="/"),le={isActive:he,isPending:fe,isTransitioning:H},D=he?e:void 0,M;typeof s=="function"?M=s(le):M=[s,he?"active":null,fe?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let q=typeof l=="function"?l(le):l;return ue.createElement(Mt,{...m,"aria-current":D,className:M,ref:g,style:q,to:u,viewTransition:h},typeof f=="function"?f(le):f)});uA.displayName="NavLink";var fA=ue.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:a,state:l,method:u=sf,action:h,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:S,unstable_defaultShouldRevalidate:k,...j},z)=>{let{unstable_useTransitions:$}=ue.useContext($r),H=gA(),X=yA(h,{relative:m}),P=u.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&tw.test(h),ne=he=>{if(f&&f(he),he.defaultPrevented)return;he.preventDefault();let fe=he.nativeEvent.submitter,le=fe?.getAttribute("formmethod")||u,D=()=>H(fe||he.currentTarget,{fetcherKey:e,method:le,navigate:r,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:S,unstable_defaultShouldRevalidate:k});$&&r!==!1?ue.startTransition(()=>D()):D()};return ue.createElement("form",{ref:z,method:P,action:X,onSubmit:s?f:ne,...j,"data-discover":!F&&n==="render"?"true":void 0})});fA.displayName="Form";function hA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(n){let e=ue.useContext(Wo);return sn(e,hA(n)),e}function dA(n,{target:e,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let m=yc(),g=Vs(),S=bc(n,{relative:l});return ue.useCallback(k=>{if(FE(k,e)){k.preventDefault();let j=r!==void 0?r:ic(g)===ic(S),z=()=>m(n,{replace:j,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});f?ue.startTransition(()=>z()):z()}},[g,m,S,r,s,e,n,a,l,u,h,f])}var mA=0,pA=()=>`__${String(++mA)}__`;function gA(){let{router:n}=nw("useSubmit"),{basename:e}=ue.useContext($r),r=ME(),s=n.fetch,a=n.navigate;return ue.useCallback(async(l,u={})=>{let{action:h,method:f,encType:m,formData:g,body:S}=KE(l,e);if(u.navigate===!1){let k=u.fetcherKey||pA();await s(k,r,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:S,formMethod:u.method||f,formEncType:u.encType||m,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:S,formMethod:u.method||f,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,r])}function yA(n,{relative:e}={}){let{basename:r}=ue.useContext($r),s=ue.useContext(ns);sn(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...bc(n||".",{relative:e})},u=Vs();if(n==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(S=>S).forEach(S=>h.append("index",S));let g=h.toString();l.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Ji([r,l.pathname])),ic(l)}function bA(n,{relative:e}={}){let r=ue.useContext(Vv);sn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nw("useViewTransitionState"),a=bc(n,{relative:e});if(!r.isTransitioning)return!1;let l=es(r.currentLocation.pathname,s)||r.currentLocation.pathname,u=es(r.nextLocation.pathname,s)||r.nextLocation.pathname;return cf(a.pathname,u)!=null||cf(a.pathname,l)!=null}Iv();function jf(n,e){var r={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(r[s[a]]=n[s[a]]);return r}function vA(n,e,r,s){function a(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function h(g){try{m(s.next(g))}catch(S){u(S)}}function f(g){try{m(s.throw(g))}catch(S){u(S)}}function m(g){g.done?l(g.value):a(g.value).then(h,f)}m((s=s.apply(n,e||[])).next())})}const wA=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class jm extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class xA extends jm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nb extends jm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class rb extends jm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Z0;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Z0||(Z0={}));class _A{constructor(e,{headers:r={},customFetch:s,region:a=Z0.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=wA(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return vA(this,arguments,void 0,function*(r,s={}){var a;let l,u;try{const{headers:h,method:f,body:m,signal:g,timeout:S}=s;let k={},{region:j}=s;j||(j=this.region);const z=new URL(`${this.url}/${r}`);j&&j!=="any"&&(k["x-region"]=j,z.searchParams.set("forceFunctionRegion",j));let $;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",$=m):typeof m=="string"?(k["Content-Type"]="text/plain",$=m):typeof FormData<"u"&&m instanceof FormData?$=m:(k["Content-Type"]="application/json",$=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?$=JSON.stringify(m):$=m;let H=g;S&&(u=new AbortController,l=setTimeout(()=>u.abort(),S),g?(H=u.signal,g.addEventListener("abort",()=>u.abort())):H=u.signal);const X=yield this.fetch(z.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),h),body:$,signal:H}).catch(he=>{throw new xA(he)}),P=X.headers.get("x-relay-error");if(P&&P==="true")throw new nb(X);if(!X.ok)throw new rb(X);let F=((a=X.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),ne;return F==="application/json"?ne=yield X.json():F==="application/octet-stream"||F==="application/pdf"?ne=yield X.blob():F==="text/event-stream"?ne=X:F==="multipart/form-data"?ne=yield X.formData():ne=yield X.text(),{data:ne,error:null,response:X}}catch(h){return{data:null,error:h,response:h instanceof rb||h instanceof nb?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var SA=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},EA=class{constructor(n){var e,r,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(s=n.urlLengthLimit)!==null&&s!==void 0?s:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,h=null,f=null,m=l.status,g=l.statusText;if(l.ok){var S,k;if(r.method!=="HEAD"){var j;const X=await l.text();X===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((j=r.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?h=X:h=JSON.parse(X))}const $=(S=r.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),H=(k=l.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");$&&H&&H.length>1&&(f=parseInt(H[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var z;const $=await l.text();try{u=JSON.parse($),Array.isArray(u)&&l.status===404&&(h=[],u=null,m=200,g="OK")}catch{l.status===404&&$===""?(m=204,g="No Content"):u={message:$}}if(u&&r.isMaybeSingle&&(!(u==null||(z=u.details)===null||z===void 0)&&z.includes("0 rows"))&&(u=null,m=200,g="OK"),u&&r.shouldThrowOnError)throw new SA(u)}return{error:u,data:h,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u;let h="",f="",m="";const g=l?.cause;if(g){var S,k,j,z;const X=(S=g?.message)!==null&&S!==void 0?S:"",P=(k=g?.code)!==null&&k!==void 0?k:"";h=`${(j=l?.name)!==null&&j!==void 0?j:"FetchError"}: ${l?.message}`,h+=`

Caused by: ${(z=g?.name)!==null&&z!==void 0?z:"Error"}: ${X}`,P&&(h+=` (${P})`),g?.stack&&(h+=`
${g.stack}`)}else{var $;h=($=l?.stack)!==null&&$!==void 0?$:""}const H=this.url.toString().length;return l?.name==="AbortError"||l?.code==="ABORT_ERR"?(m="",f="Request was aborted (timeout or manual cancellation)",H>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${H} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(m="",f="HTTP headers exceeded server limits (typically 16KB)",H>this.urlLengthLimit&&(f+=`. Your request URL is ${H} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:h,hint:f,code:m},data:null,count:null,status:0,statusText:""}})),a.then(n,e)}returns(){return this}overrideTypes(){return this}},AA=class extends EA{select(n){let e=!1;const r=(n??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${n}`),this.url.searchParams.set(l,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var u;const h=[n?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const ib=new RegExp("[,()]");var No=class extends AA{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&ib.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}notIn(n,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&ib.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`not.in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${a}fts${l}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}},RA=class{constructor(n,{headers:e={},schema:r,fetch:s,urlLengthLimit:a=8e3}){this.url=n,this.headers=new Headers(e),this.schema=r,this.fetch=s,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:r=!1,count:s}=e??{},a=r?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",u),s&&f.append("Prefer",`count=${s}`),new No({method:a,url:h,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:e,defaultToNull:r=!0}={}){var s;const a="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),r||u.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);l.searchParams.set("columns",f.join(","))}}return new No({method:a,url:l,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){var l;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),s&&f.append("Prefer",`count=${s}`),a||f.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((g,S)=>g.concat(Object.keys(S)),[]);if(m.length>0){const g=[...new Set(m)].map(S=>`"${S}"`);h.searchParams.set("columns",g.join(","))}}return new No({method:u,url:h,headers:f,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:e}={}){var r;const s="PATCH",{url:a,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new No({method:s,url:a,headers:l,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var e;const r="DELETE",{url:s,headers:a}=this.cloneRequestState();return n&&a.append("Prefer",`count=${n}`),new No({method:r,url:s,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function sc(n){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(n)}function kA(n,e){if(sc(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,e);if(sc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TA(n){var e=kA(n,"string");return sc(e)=="symbol"?e:e+""}function NA(n,e,r){return(e=TA(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function sb(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,s)}return r}function Du(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sb(Object(r),!0).forEach(function(s){NA(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}var BA=class rw{constructor(e,{headers:r={},schema:s,fetch:a,timeout:l,urlLengthLimit:u=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=s,this.urlLengthLimit=u;const h=a??globalThis.fetch;l!==void 0&&l>0?this.fetch=(f,m)=>{const g=new AbortController,S=setTimeout(()=>g.abort(),l),k=m?.signal;if(k){if(k.aborted)return clearTimeout(S),h(f,m);const j=()=>{clearTimeout(S),g.abort()};return k.addEventListener("abort",j,{once:!0}),h(f,Du(Du({},m),{},{signal:g.signal})).finally(()=>{clearTimeout(S),k.removeEventListener("abort",j)})}return h(f,Du(Du({},m),{},{signal:g.signal})).finally(()=>clearTimeout(S))}:this.fetch=h}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new RA(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new rw(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:s=!1,get:a=!1,count:l}={}){var u;let h;const f=new URL(`${this.url}/rpc/${e}`);let m;const g=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(g)),S=s&&Object.values(r).some(g);S?(h="POST",m=r):s||a?(h=s?"HEAD":"GET",Object.entries(r).filter(([j,z])=>z!==void 0).map(([j,z])=>[j,Array.isArray(z)?`{${z.join(",")}}`:`${z}`]).forEach(([j,z])=>{f.searchParams.append(j,z)})):(h="POST",m=r);const k=new Headers(this.headers);return S?k.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&k.set("Prefer",`count=${l}`),new No({method:h,url:f,headers:k,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class CA{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof s0<"u"&&typeof s0.WebSocket<"u")return{type:"native",constructor:s0.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const a=s.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const OA="2.95.3",jA=`realtime-js/${OA}`,MA="1.0.0",iw="2.0.0",ab=iw,X0=1e4,UA=1e3,LA=100;var Ds;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ds||(Ds={}));var Bn;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Bn||(Bn={}));var Zr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Zr||(Zr={}));var J0;(function(n){n.websocket="websocket"})(J0||(J0={}));var pa;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(pa||(pa={}));class IA{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const a=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,s;const a=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,s){var a,l;const u=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",f=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},S=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+u.length+m.length+S.length,j=new ArrayBuffer(this.HEADER_LENGTH+k);let z=new DataView(j),$=0;z.setUint8($++,this.KINDS.userBroadcastPush),z.setUint8($++,f.length),z.setUint8($++,h.length),z.setUint8($++,u.length),z.setUint8($++,m.length),z.setUint8($++,S.length),z.setUint8($++,r),Array.from(f,X=>z.setUint8($++,X.charCodeAt(0))),Array.from(h,X=>z.setUint8($++,X.charCodeAt(0))),Array.from(u,X=>z.setUint8($++,X.charCodeAt(0))),Array.from(m,X=>z.setUint8($++,X.charCodeAt(0))),Array.from(S,X=>z.setUint8($++,X.charCodeAt(0)));var H=new Uint8Array(j.byteLength+s.byteLength);return H.set(new Uint8Array(j),0),H.set(new Uint8Array(s),j.byteLength),H.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[a,l,u,h,f]=s;return r({join_ref:a,ref:l,topic:u,event:h,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),a=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,a)}_decodeUserBroadcast(e,r,s){const a=r.getUint8(1),l=r.getUint8(2),u=r.getUint8(3),h=r.getUint8(4);let f=this.HEADER_LENGTH+4;const m=s.decode(e.slice(f,f+a));f=f+a;const g=s.decode(e.slice(f,f+l));f=f+l;const S=s.decode(e.slice(f,f+u));f=f+u;const k=e.slice(f,e.byteLength),j=h===this.JSON_ENCODING?JSON.parse(s.decode(k)):k,z={type:this.BROADCAST_EVENT,event:g,payload:j};return u>0&&(z.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:z}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class sw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Wt||(Wt={}));const ob=(n,e,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=DA(u,n,e,a),l),{}):{}},DA=(n,e,r,s)=>{const a=e.find(h=>h.name===n),l=a?.type,u=r[n];return l&&!s.includes(l)?aw(l,u):Q0(u)},aw=(n,e)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return HA(e,r)}switch(n){case Wt.bool:return zA(e);case Wt.float4:case Wt.float8:case Wt.int2:case Wt.int4:case Wt.int8:case Wt.numeric:case Wt.oid:return qA(e);case Wt.json:case Wt.jsonb:return $A(e);case Wt.timestamp:return PA(e);case Wt.abstime:case Wt.date:case Wt.daterange:case Wt.int4range:case Wt.int8range:case Wt.money:case Wt.reltime:case Wt.text:case Wt.time:case Wt.timestamptz:case Wt.timetz:case Wt.tsrange:case Wt.tstzrange:return Q0(e);default:return Q0(e)}},Q0=n=>n,zA=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},qA=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},$A=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},HA=(n,e)=>{if(typeof n!="string")return n;const r=n.length-1,s=n[r];if(n[0]==="{"&&s==="}"){let l;const u=n.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>aw(e,h))}return n},PA=n=>typeof n=="string"?n.replace(" ","T"):n,ow=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class c0{constructor(e,r,s={},a=X0){this.channel=e,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lb;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(lb||(lb={}));class tc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tc.syncState(this.state,a,l,u),this.pendingDiffs.forEach(f=>{this.state=tc.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=tc.syncDiff(this.state,a,l,u),h())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,a){const l=this.cloneDeep(e),u=this.transformState(r),h={},f={};return this.map(l,(m,g)=>{u[m]||(f[m]=g)}),this.map(u,(m,g)=>{const S=l[m];if(S){const k=g.map(H=>H.presence_ref),j=S.map(H=>H.presence_ref),z=g.filter(H=>j.indexOf(H.presence_ref)<0),$=S.filter(H=>k.indexOf(H.presence_ref)<0);z.length>0&&(h[m]=z),$.length>0&&(f[m]=$)}else h[m]=g}),this.syncDiff(l,{joins:h,leaves:f},s,a)}static syncDiff(e,r,s,a){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(h,f)=>{var m;const g=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(f),g.length>0){const S=e[h].map(j=>j.presence_ref),k=g.filter(j=>S.indexOf(j.presence_ref)<0);e[h].unshift(...k)}s(h,g,f)}),this.map(u,(h,f)=>{let m=e[h];if(!m)return;const g=f.map(S=>S.presence_ref);m=m.filter(S=>g.indexOf(S.presence_ref)<0),e[h]=m,a(h,m,f),m.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const a=e[s];return"metas"in a?r[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[s]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cb;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(cb||(cb={}));var nc;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(nc||(nc={}));var Gi;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Gi||(Gi={}));class jo{constructor(e,r={config:{}},s){var a,l;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Bn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new c0(this,Zr.join,this.params,this.timeout),this.rejoinTimer=new sw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Bn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zr.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new tc(this),this.broadcastEndpointURL=ow(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Bn.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,m=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(j=>j.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[nc.PRESENCE]&&this.bindings[nc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,S={},k={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(j=>e?.(Gi.CHANNEL_ERROR,j)),this._onClose(()=>e?.(Gi.CLOSED)),this.updateJoinPayload(Object.assign({config:k},S)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:j})=>{var z;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){e?.(Gi.SUBSCRIBED);return}else{const $=this.bindings.postgres_changes,H=(z=$?.length)!==null&&z!==void 0?z:0,X=[];for(let P=0;P<H;P++){const F=$[P],{filter:{event:ne,schema:he,table:fe,filter:le}}=F,D=j&&j[P];if(D&&D.event===ne&&jo.isFilterValueEqual(D.schema,he)&&jo.isFilterValueEqual(D.table,fe)&&jo.isFilterValueEqual(D.filter,le))X.push(Object.assign(Object.assign({},F),{id:D.id}));else{this.unsubscribe(),this.state=Bn.errored,e?.(Gi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=X,e&&e(Gi.SUBSCRIBED);return}}).receive("error",j=>{this.state=Bn.errored,e?.(Gi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{e?.(Gi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===Bn.joined&&e===nc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const m=await h.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,f;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new c0(this,Zr.leave,{},e),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bn.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(l),u}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new c0(this,e,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>LA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var a,l;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:m,join:g}=Zr;if(s&&[h,f,m,g].indexOf(u)>=0&&s!==this._joinRef())return;let k=this._onMessage(u,r,s);if(r&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(j=>{var z,$,H;return((z=j.filter)===null||z===void 0?void 0:z.event)==="*"||((H=($=j.filter)===null||$===void 0?void 0:$.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===u}).map(j=>j.callback(k,s)):(l=this.bindings[u])===null||l===void 0||l.filter(j=>{var z,$,H,X,P,F;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in j){const ne=j.id,he=(z=j.filter)===null||z===void 0?void 0:z.event;return ne&&(($=r.ids)===null||$===void 0?void 0:$.includes(ne))&&(he==="*"||he?.toLocaleLowerCase()===((H=r.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))}else{const ne=(P=(X=j?.filter)===null||X===void 0?void 0:X.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return ne==="*"||ne===((F=r?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===u}).map(j=>{if(typeof k=="object"&&"ids"in k){const z=k.data,{schema:$,table:H,commit_timestamp:X,type:P,errors:F}=z;k=Object.assign(Object.assign({},{schema:$,table:H,commit_timestamp:X,eventType:P,new:{},old:{},errors:F}),this._getPayloadRecords(z))}j.callback(k,s)})}_isClosed(){return this.state===Bn.closed}_isJoined(){return this.state===Bn.joined}_isJoining(){return this.state===Bn.joining}_isLeaving(){return this.state===Bn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const a=e.toLocaleLowerCase(),l={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&jo.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zr.close,{},e)}_onError(e){this._on(Zr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ob(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ob(e.columns,e.old_record)),r}}const u0=()=>{},zu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FA=[1e3,2e3,5e3,1e4],GA=1e4,VA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KA{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=X0,this.transport=null,this.heartbeatIntervalMs=zu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=u0,this.ref=0,this.reconnectTimer=null,this.vsn=ab,this.logger=u0,this.conn=null,this.sendBuffer=[],this.serializer=new IA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${J0.websocket}`,this.httpEndpoint=ow(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=CA.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ds.connecting:return pa.Connecting;case Ds.open:return pa.Open;case Ds.closing:return pa.Closing;default:return pa.Closed}}isConnected(){return this.connectionState()===pa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===s);if(a)return a;{const l=new jo(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:s,payload:a,ref:l}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${r} ${s} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(UA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},zu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",m)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:a,payload:l,ref:u}=r,h=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${s} ${a} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(a,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ds.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ds.open||this.conn.readyState===Ds.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${s}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([VA],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const l={access_token:r,version:jA};r&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Zr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new sw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,a,l,u,h,f,m,g,S,k,j;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:X0,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:zu.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:u0,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:ab,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(z=>FA[z-1]||GA),this.vsn){case MA:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((z,$)=>$(JSON.stringify(z))),this.decode=(S=e?.decode)!==null&&S!==void 0?S:((z,$)=>$(JSON.parse(z)));break;case iw:this.encode=(k=e?.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(j=e?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Mm={},Mf={};Mf.byteLength=ZA;Mf.toByteArray=JA;Mf.fromByteArray=t3;var di=[],Ur=[],YA=typeof Uint8Array<"u"?Uint8Array:Array,f0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var go=0,WA=f0.length;go<WA;++go)di[go]=f0[go],Ur[f0.charCodeAt(go)]=go;Ur[45]=62;Ur[95]=63;function lw(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=n.indexOf("=");r===-1&&(r=e);var s=r===e?0:4-r%4;return[r,s]}function ZA(n){var e=lw(n),r=e[0],s=e[1];return(r+s)*3/4-s}function XA(n,e,r){return(e+r)*3/4-r}function JA(n){var e,r=lw(n),s=r[0],a=r[1],l=new YA(XA(n,s,a)),u=0,h=a>0?s-4:s,f;for(f=0;f<h;f+=4)e=Ur[n.charCodeAt(f)]<<18|Ur[n.charCodeAt(f+1)]<<12|Ur[n.charCodeAt(f+2)]<<6|Ur[n.charCodeAt(f+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=e&255;return a===2&&(e=Ur[n.charCodeAt(f)]<<2|Ur[n.charCodeAt(f+1)]>>4,l[u++]=e&255),a===1&&(e=Ur[n.charCodeAt(f)]<<10|Ur[n.charCodeAt(f+1)]<<4|Ur[n.charCodeAt(f+2)]>>2,l[u++]=e>>8&255,l[u++]=e&255),l}function QA(n){return di[n>>18&63]+di[n>>12&63]+di[n>>6&63]+di[n&63]}function e3(n,e,r){for(var s,a=[],l=e;l<r;l+=3)s=(n[l]<<16&16711680)+(n[l+1]<<8&65280)+(n[l+2]&255),a.push(QA(s));return a.join("")}function t3(n){for(var e,r=n.length,s=r%3,a=[],l=16383,u=0,h=r-s;u<h;u+=l)a.push(e3(n,u,u+l>h?h:u+l));return s===1?(e=n[r-1],a.push(di[e>>2]+di[e<<4&63]+"==")):s===2&&(e=(n[r-2]<<8)+n[r-1],a.push(di[e>>10]+di[e>>4&63]+di[e<<2&63]+"=")),a.join("")}var Um={};Um.read=function(n,e,r,s,a){var l,u,h=a*8-s-1,f=(1<<h)-1,m=f>>1,g=-7,S=r?a-1:0,k=r?-1:1,j=n[e+S];for(S+=k,l=j&(1<<-g)-1,j>>=-g,g+=h;g>0;l=l*256+n[e+S],S+=k,g-=8);for(u=l&(1<<-g)-1,l>>=-g,g+=s;g>0;u=u*256+n[e+S],S+=k,g-=8);if(l===0)l=1-m;else{if(l===f)return u?NaN:(j?-1:1)*(1/0);u=u+Math.pow(2,s),l=l-m}return(j?-1:1)*u*Math.pow(2,l-s)};Um.write=function(n,e,r,s,a,l){var u,h,f,m=l*8-a-1,g=(1<<m)-1,S=g>>1,k=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,j=s?0:l-1,z=s?1:-1,$=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,u=g):(u=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-u))<1&&(u--,f*=2),u+S>=1?e+=k/f:e+=k*Math.pow(2,1-S),e*f>=2&&(u++,f/=2),u+S>=g?(h=0,u=g):u+S>=1?(h=(e*f-1)*Math.pow(2,a),u=u+S):(h=e*Math.pow(2,S-1)*Math.pow(2,a),u=0));a>=8;n[r+j]=h&255,j+=z,h/=256,a-=8);for(u=u<<a|h,m+=a;m>0;n[r+j]=u&255,j+=z,u/=256,m-=8);n[r+j-z]|=$*128};(function(n){const e=Mf,r=Um,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=g,n.SlowBuffer=he,n.INSPECT_MAX_BYTES=50;const a=2147483647;n.kMaxLength=a;const{Uint8Array:l,ArrayBuffer:u,SharedArrayBuffer:h}=globalThis;g.TYPED_ARRAY_SUPPORT=f(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const K=new l(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,l.prototype),Object.setPrototypeOf(K,R),K.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function m(K){if(K>a)throw new RangeError('The value "'+K+'" is invalid for option "size"');const R=new l(K);return Object.setPrototypeOf(R,g.prototype),R}function g(K,R,C){if(typeof K=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return z(K)}return S(K,R,C)}g.poolSize=8192;function S(K,R,C){if(typeof K=="string")return $(K,R);if(u.isView(K))return X(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(On(K,u)||K&&On(K.buffer,u)||typeof h<"u"&&(On(K,h)||K&&On(K.buffer,h)))return P(K,R,C);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=K.valueOf&&K.valueOf();if(Q!=null&&Q!==K)return g.from(Q,R,C);const se=F(K);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return g.from(K[Symbol.toPrimitive]("string"),R,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}g.from=function(K,R,C){return S(K,R,C)},Object.setPrototypeOf(g.prototype,l.prototype),Object.setPrototypeOf(g,l);function k(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function j(K,R,C){return k(K),K<=0?m(K):R!==void 0?typeof C=="string"?m(K).fill(R,C):m(K).fill(R):m(K)}g.alloc=function(K,R,C){return j(K,R,C)};function z(K){return k(K),m(K<0?0:ne(K)|0)}g.allocUnsafe=function(K){return z(K)},g.allocUnsafeSlow=function(K){return z(K)};function $(K,R){if((typeof R!="string"||R==="")&&(R="utf8"),!g.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const C=fe(K,R)|0;let Q=m(C);const se=Q.write(K,R);return se!==C&&(Q=Q.slice(0,se)),Q}function H(K){const R=K.length<0?0:ne(K.length)|0,C=m(R);for(let Q=0;Q<R;Q+=1)C[Q]=K[Q]&255;return C}function X(K){if(On(K,l)){const R=new l(K);return P(R.buffer,R.byteOffset,R.byteLength)}return H(K)}function P(K,R,C){if(R<0||K.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<R+(C||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return R===void 0&&C===void 0?Q=new l(K):C===void 0?Q=new l(K,R):Q=new l(K,R,C),Object.setPrototypeOf(Q,g.prototype),Q}function F(K){if(g.isBuffer(K)){const R=ne(K.length)|0,C=m(R);return C.length===0||K.copy(C,0,0,R),C}if(K.length!==void 0)return typeof K.length!="number"||Ot(K.length)?m(0):H(K);if(K.type==="Buffer"&&Array.isArray(K.data))return H(K.data)}function ne(K){if(K>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return K|0}function he(K){return+K!=K&&(K=0),g.alloc(+K)}g.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==g.prototype},g.compare=function(R,C){if(On(R,l)&&(R=g.from(R,R.offset,R.byteLength)),On(C,l)&&(C=g.from(C,C.offset,C.byteLength)),!g.isBuffer(R)||!g.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===C)return 0;let Q=R.length,se=C.length;for(let de=0,xe=Math.min(Q,se);de<xe;++de)if(R[de]!==C[de]){Q=R[de],se=C[de];break}return Q<se?-1:se<Q?1:0},g.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(R,C){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return g.alloc(0);let Q;if(C===void 0)for(C=0,Q=0;Q<R.length;++Q)C+=R[Q].length;const se=g.allocUnsafe(C);let de=0;for(Q=0;Q<R.length;++Q){let xe=R[Q];if(On(xe,l))de+xe.length>se.length?(g.isBuffer(xe)||(xe=g.from(xe)),xe.copy(se,de)):l.prototype.set.call(se,xe,de);else if(g.isBuffer(xe))xe.copy(se,de);else throw new TypeError('"list" argument must be an Array of Buffers');de+=xe.length}return se};function fe(K,R){if(g.isBuffer(K))return K.length;if(u.isView(K)||On(K,u))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const C=K.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&C===0)return 0;let se=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return Ct(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return ut(K).length;default:if(se)return Q?-1:Ct(K).length;R=(""+R).toLowerCase(),se=!0}}g.byteLength=fe;function le(K,R,C){let Q=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,R>>>=0,C<=R))return"";for(K||(K="utf8");;)switch(K){case"hex":return b(this,R,C);case"utf8":case"utf-8":return N(this,R,C);case"ascii":return J(this,R,C);case"latin1":case"binary":return T(this,R,C);case"base64":return _(this,R,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,R,C);default:if(Q)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Q=!0}}g.prototype._isBuffer=!0;function D(K,R,C){const Q=K[R];K[R]=K[C],K[C]=Q}g.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<R;C+=2)D(this,C,C+1);return this},g.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<R;C+=4)D(this,C,C+3),D(this,C+1,C+2);return this},g.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<R;C+=8)D(this,C,C+7),D(this,C+1,C+6),D(this,C+2,C+5),D(this,C+3,C+4);return this},g.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?N(this,0,R):le.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(R){if(!g.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:g.compare(this,R)===0},g.prototype.inspect=function(){let R="";const C=n.INSPECT_MAX_BYTES;return R=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(R+=" ... "),"<Buffer "+R+">"},s&&(g.prototype[s]=g.prototype.inspect),g.prototype.compare=function(R,C,Q,se,de){if(On(R,l)&&(R=g.from(R,R.offset,R.byteLength)),!g.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(C===void 0&&(C=0),Q===void 0&&(Q=R?R.length:0),se===void 0&&(se=0),de===void 0&&(de=this.length),C<0||Q>R.length||se<0||de>this.length)throw new RangeError("out of range index");if(se>=de&&C>=Q)return 0;if(se>=de)return-1;if(C>=Q)return 1;if(C>>>=0,Q>>>=0,se>>>=0,de>>>=0,this===R)return 0;let xe=de-se,rt=Q-C;const We=Math.min(xe,rt),Ze=this.slice(se,de),At=R.slice(C,Q);for(let He=0;He<We;++He)if(Ze[He]!==At[He]){xe=Ze[He],rt=At[He];break}return xe<rt?-1:rt<xe?1:0};function M(K,R,C,Q,se){if(K.length===0)return-1;if(typeof C=="string"?(Q=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,Ot(C)&&(C=se?0:K.length-1),C<0&&(C=K.length+C),C>=K.length){if(se)return-1;C=K.length-1}else if(C<0)if(se)C=0;else return-1;if(typeof R=="string"&&(R=g.from(R,Q)),g.isBuffer(R))return R.length===0?-1:q(K,R,C,Q,se);if(typeof R=="number")return R=R&255,typeof l.prototype.indexOf=="function"?se?l.prototype.indexOf.call(K,R,C):l.prototype.lastIndexOf.call(K,R,C):q(K,[R],C,Q,se);throw new TypeError("val must be string, number or Buffer")}function q(K,R,C,Q,se){let de=1,xe=K.length,rt=R.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(K.length<2||R.length<2)return-1;de=2,xe/=2,rt/=2,C/=2}function We(At,He){return de===1?At[He]:At.readUInt16BE(He*de)}let Ze;if(se){let At=-1;for(Ze=C;Ze<xe;Ze++)if(We(K,Ze)===We(R,At===-1?0:Ze-At)){if(At===-1&&(At=Ze),Ze-At+1===rt)return At*de}else At!==-1&&(Ze-=Ze-At),At=-1}else for(C+rt>xe&&(C=xe-rt),Ze=C;Ze>=0;Ze--){let At=!0;for(let He=0;He<rt;He++)if(We(K,Ze+He)!==We(R,He)){At=!1;break}if(At)return Ze}return-1}g.prototype.includes=function(R,C,Q){return this.indexOf(R,C,Q)!==-1},g.prototype.indexOf=function(R,C,Q){return M(this,R,C,Q,!0)},g.prototype.lastIndexOf=function(R,C,Q){return M(this,R,C,Q,!1)};function W(K,R,C,Q){C=Number(C)||0;const se=K.length-C;Q?(Q=Number(Q),Q>se&&(Q=se)):Q=se;const de=R.length;Q>de/2&&(Q=de/2);let xe;for(xe=0;xe<Q;++xe){const rt=parseInt(R.substr(xe*2,2),16);if(Ot(rt))return xe;K[C+xe]=rt}return xe}function I(K,R,C,Q){return ot(Ct(R,K.length-C),K,C,Q)}function E(K,R,C,Q){return ot(zt(R),K,C,Q)}function p(K,R,C,Q){return ot(ut(R),K,C,Q)}function v(K,R,C,Q){return ot(Zt(R,K.length-C),K,C,Q)}g.prototype.write=function(R,C,Q,se){if(C===void 0)se="utf8",Q=this.length,C=0;else if(Q===void 0&&typeof C=="string")se=C,Q=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(Q)?(Q=Q>>>0,se===void 0&&(se="utf8")):(se=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const de=this.length-C;if((Q===void 0||Q>de)&&(Q=de),R.length>0&&(Q<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let xe=!1;for(;;)switch(se){case"hex":return W(this,R,C,Q);case"utf8":case"utf-8":return I(this,R,C,Q);case"ascii":case"latin1":case"binary":return E(this,R,C,Q);case"base64":return p(this,R,C,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,R,C,Q);default:if(xe)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),xe=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _(K,R,C){return R===0&&C===K.length?e.fromByteArray(K):e.fromByteArray(K.slice(R,C))}function N(K,R,C){C=Math.min(K.length,C);const Q=[];let se=R;for(;se<C;){const de=K[se];let xe=null,rt=de>239?4:de>223?3:de>191?2:1;if(se+rt<=C){let We,Ze,At,He;switch(rt){case 1:de<128&&(xe=de);break;case 2:We=K[se+1],(We&192)===128&&(He=(de&31)<<6|We&63,He>127&&(xe=He));break;case 3:We=K[se+1],Ze=K[se+2],(We&192)===128&&(Ze&192)===128&&(He=(de&15)<<12|(We&63)<<6|Ze&63,He>2047&&(He<55296||He>57343)&&(xe=He));break;case 4:We=K[se+1],Ze=K[se+2],At=K[se+3],(We&192)===128&&(Ze&192)===128&&(At&192)===128&&(He=(de&15)<<18|(We&63)<<12|(Ze&63)<<6|At&63,He>65535&&He<1114112&&(xe=He))}}xe===null?(xe=65533,rt=1):xe>65535&&(xe-=65536,Q.push(xe>>>10&1023|55296),xe=56320|xe&1023),Q.push(xe),se+=rt}return G(Q)}const B=4096;function G(K){const R=K.length;if(R<=B)return String.fromCharCode.apply(String,K);let C="",Q=0;for(;Q<R;)C+=String.fromCharCode.apply(String,K.slice(Q,Q+=B));return C}function J(K,R,C){let Q="";C=Math.min(K.length,C);for(let se=R;se<C;++se)Q+=String.fromCharCode(K[se]&127);return Q}function T(K,R,C){let Q="";C=Math.min(K.length,C);for(let se=R;se<C;++se)Q+=String.fromCharCode(K[se]);return Q}function b(K,R,C){const Q=K.length;(!R||R<0)&&(R=0),(!C||C<0||C>Q)&&(C=Q);let se="";for(let de=R;de<C;++de)se+=qt[K[de]];return se}function x(K,R,C){const Q=K.slice(R,C);let se="";for(let de=0;de<Q.length-1;de+=2)se+=String.fromCharCode(Q[de]+Q[de+1]*256);return se}g.prototype.slice=function(R,C){const Q=this.length;R=~~R,C=C===void 0?Q:~~C,R<0?(R+=Q,R<0&&(R=0)):R>Q&&(R=Q),C<0?(C+=Q,C<0&&(C=0)):C>Q&&(C=Q),C<R&&(C=R);const se=this.subarray(R,C);return Object.setPrototypeOf(se,g.prototype),se};function L(K,R,C){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+R>C)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(R,C,Q){R=R>>>0,C=C>>>0,Q||L(R,C,this.length);let se=this[R],de=1,xe=0;for(;++xe<C&&(de*=256);)se+=this[R+xe]*de;return se},g.prototype.readUintBE=g.prototype.readUIntBE=function(R,C,Q){R=R>>>0,C=C>>>0,Q||L(R,C,this.length);let se=this[R+--C],de=1;for(;C>0&&(de*=256);)se+=this[R+--C]*de;return se},g.prototype.readUint8=g.prototype.readUInt8=function(R,C){return R=R>>>0,C||L(R,1,this.length),this[R]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(R,C){return R=R>>>0,C||L(R,2,this.length),this[R]|this[R+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(R,C){return R=R>>>0,C||L(R,2,this.length),this[R]<<8|this[R+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(R,C){return R=R>>>0,C||L(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(R,C){return R=R>>>0,C||L(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},g.prototype.readBigUInt64LE=kn(function(R){R=R>>>0,Yn(R,"offset");const C=this[R],Q=this[R+7];(C===void 0||Q===void 0)&&Bt(R,this.length-8);const se=C+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,de=this[++R]+this[++R]*2**8+this[++R]*2**16+Q*2**24;return BigInt(se)+(BigInt(de)<<BigInt(32))}),g.prototype.readBigUInt64BE=kn(function(R){R=R>>>0,Yn(R,"offset");const C=this[R],Q=this[R+7];(C===void 0||Q===void 0)&&Bt(R,this.length-8);const se=C*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],de=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+Q;return(BigInt(se)<<BigInt(32))+BigInt(de)}),g.prototype.readIntLE=function(R,C,Q){R=R>>>0,C=C>>>0,Q||L(R,C,this.length);let se=this[R],de=1,xe=0;for(;++xe<C&&(de*=256);)se+=this[R+xe]*de;return de*=128,se>=de&&(se-=Math.pow(2,8*C)),se},g.prototype.readIntBE=function(R,C,Q){R=R>>>0,C=C>>>0,Q||L(R,C,this.length);let se=C,de=1,xe=this[R+--se];for(;se>0&&(de*=256);)xe+=this[R+--se]*de;return de*=128,xe>=de&&(xe-=Math.pow(2,8*C)),xe},g.prototype.readInt8=function(R,C){return R=R>>>0,C||L(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},g.prototype.readInt16LE=function(R,C){R=R>>>0,C||L(R,2,this.length);const Q=this[R]|this[R+1]<<8;return Q&32768?Q|4294901760:Q},g.prototype.readInt16BE=function(R,C){R=R>>>0,C||L(R,2,this.length);const Q=this[R+1]|this[R]<<8;return Q&32768?Q|4294901760:Q},g.prototype.readInt32LE=function(R,C){return R=R>>>0,C||L(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},g.prototype.readInt32BE=function(R,C){return R=R>>>0,C||L(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},g.prototype.readBigInt64LE=kn(function(R){R=R>>>0,Yn(R,"offset");const C=this[R],Q=this[R+7];(C===void 0||Q===void 0)&&Bt(R,this.length-8);const se=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(Q<<24);return(BigInt(se)<<BigInt(32))+BigInt(C+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),g.prototype.readBigInt64BE=kn(function(R){R=R>>>0,Yn(R,"offset");const C=this[R],Q=this[R+7];(C===void 0||Q===void 0)&&Bt(R,this.length-8);const se=(C<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(se)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+Q)}),g.prototype.readFloatLE=function(R,C){return R=R>>>0,C||L(R,4,this.length),r.read(this,R,!0,23,4)},g.prototype.readFloatBE=function(R,C){return R=R>>>0,C||L(R,4,this.length),r.read(this,R,!1,23,4)},g.prototype.readDoubleLE=function(R,C){return R=R>>>0,C||L(R,8,this.length),r.read(this,R,!0,52,8)},g.prototype.readDoubleBE=function(R,C){return R=R>>>0,C||L(R,8,this.length),r.read(this,R,!1,52,8)};function V(K,R,C,Q,se,de){if(!g.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>se||R<de)throw new RangeError('"value" argument is out of bounds');if(C+Q>K.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(R,C,Q,se){if(R=+R,C=C>>>0,Q=Q>>>0,!se){const rt=Math.pow(2,8*Q)-1;V(this,R,C,Q,rt,0)}let de=1,xe=0;for(this[C]=R&255;++xe<Q&&(de*=256);)this[C+xe]=R/de&255;return C+Q},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(R,C,Q,se){if(R=+R,C=C>>>0,Q=Q>>>0,!se){const rt=Math.pow(2,8*Q)-1;V(this,R,C,Q,rt,0)}let de=Q-1,xe=1;for(this[C+de]=R&255;--de>=0&&(xe*=256);)this[C+de]=R/xe&255;return C+Q},g.prototype.writeUint8=g.prototype.writeUInt8=function(R,C,Q){return R=+R,C=C>>>0,Q||V(this,R,C,1,255,0),this[C]=R&255,C+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(R,C,Q){return R=+R,C=C>>>0,Q||V(this,R,C,2,65535,0),this[C]=R&255,this[C+1]=R>>>8,C+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(R,C,Q){return R=+R,C=C>>>0,Q||V(this,R,C,2,65535,0),this[C]=R>>>8,this[C+1]=R&255,C+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(R,C,Q){return R=+R,C=C>>>0,Q||V(this,R,C,4,4294967295,0),this[C+3]=R>>>24,this[C+2]=R>>>16,this[C+1]=R>>>8,this[C]=R&255,C+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(R,C,Q){return R=+R,C=C>>>0,Q||V(this,R,C,4,4294967295,0),this[C]=R>>>24,this[C+1]=R>>>16,this[C+2]=R>>>8,this[C+3]=R&255,C+4};function te(K,R,C,Q,se){Ge(R,Q,se,K,C,7);let de=Number(R&BigInt(4294967295));K[C++]=de,de=de>>8,K[C++]=de,de=de>>8,K[C++]=de,de=de>>8,K[C++]=de;let xe=Number(R>>BigInt(32)&BigInt(4294967295));return K[C++]=xe,xe=xe>>8,K[C++]=xe,xe=xe>>8,K[C++]=xe,xe=xe>>8,K[C++]=xe,C}function ae(K,R,C,Q,se){Ge(R,Q,se,K,C,7);let de=Number(R&BigInt(4294967295));K[C+7]=de,de=de>>8,K[C+6]=de,de=de>>8,K[C+5]=de,de=de>>8,K[C+4]=de;let xe=Number(R>>BigInt(32)&BigInt(4294967295));return K[C+3]=xe,xe=xe>>8,K[C+2]=xe,xe=xe>>8,K[C+1]=xe,xe=xe>>8,K[C]=xe,C+8}g.prototype.writeBigUInt64LE=kn(function(R,C=0){return te(this,R,C,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=kn(function(R,C=0){return ae(this,R,C,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(R,C,Q,se){if(R=+R,C=C>>>0,!se){const We=Math.pow(2,8*Q-1);V(this,R,C,Q,We-1,-We)}let de=0,xe=1,rt=0;for(this[C]=R&255;++de<Q&&(xe*=256);)R<0&&rt===0&&this[C+de-1]!==0&&(rt=1),this[C+de]=(R/xe>>0)-rt&255;return C+Q},g.prototype.writeIntBE=function(R,C,Q,se){if(R=+R,C=C>>>0,!se){const We=Math.pow(2,8*Q-1);V(this,R,C,Q,We-1,-We)}let de=Q-1,xe=1,rt=0;for(this[C+de]=R&255;--de>=0&&(xe*=256);)R<0&&rt===0&&this[C+de+1]!==0&&(rt=1),this[C+de]=(R/xe>>0)-rt&255;return C+Q},g.prototype.writeInt8=function(R,C,Q){return R=+R,C=C>>>0,Q||V(this,R,C,1,127,-128),R<0&&(R=255+R+1),this[C]=R&255,C+1},g.prototype.writeInt16LE=function(R,C,Q){return R=+R,C=C>>>0,Q||V(this,R,C,2,32767,-32768),this[C]=R&255,this[C+1]=R>>>8,C+2},g.prototype.writeInt16BE=function(R,C,Q){return R=+R,C=C>>>0,Q||V(this,R,C,2,32767,-32768),this[C]=R>>>8,this[C+1]=R&255,C+2},g.prototype.writeInt32LE=function(R,C,Q){return R=+R,C=C>>>0,Q||V(this,R,C,4,2147483647,-2147483648),this[C]=R&255,this[C+1]=R>>>8,this[C+2]=R>>>16,this[C+3]=R>>>24,C+4},g.prototype.writeInt32BE=function(R,C,Q){return R=+R,C=C>>>0,Q||V(this,R,C,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[C]=R>>>24,this[C+1]=R>>>16,this[C+2]=R>>>8,this[C+3]=R&255,C+4},g.prototype.writeBigInt64LE=kn(function(R,C=0){return te(this,R,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=kn(function(R,C=0){return ae(this,R,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(K,R,C,Q,se,de){if(C+Q>K.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function ke(K,R,C,Q,se){return R=+R,C=C>>>0,se||Te(K,R,C,4),r.write(K,R,C,Q,23,4),C+4}g.prototype.writeFloatLE=function(R,C,Q){return ke(this,R,C,!0,Q)},g.prototype.writeFloatBE=function(R,C,Q){return ke(this,R,C,!1,Q)};function Je(K,R,C,Q,se){return R=+R,C=C>>>0,se||Te(K,R,C,8),r.write(K,R,C,Q,52,8),C+8}g.prototype.writeDoubleLE=function(R,C,Q){return Je(this,R,C,!0,Q)},g.prototype.writeDoubleBE=function(R,C,Q){return Je(this,R,C,!1,Q)},g.prototype.copy=function(R,C,Q,se){if(!g.isBuffer(R))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!se&&se!==0&&(se=this.length),C>=R.length&&(C=R.length),C||(C=0),se>0&&se<Q&&(se=Q),se===Q||R.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),R.length-C<se-Q&&(se=R.length-C+Q);const de=se-Q;return this===R&&typeof l.prototype.copyWithin=="function"?this.copyWithin(C,Q,se):l.prototype.set.call(R,this.subarray(Q,se),C),de},g.prototype.fill=function(R,C,Q,se){if(typeof R=="string"){if(typeof C=="string"?(se=C,C=0,Q=this.length):typeof Q=="string"&&(se=Q,Q=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!g.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(R.length===1){const xe=R.charCodeAt(0);(se==="utf8"&&xe<128||se==="latin1")&&(R=xe)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(C<0||this.length<C||this.length<Q)throw new RangeError("Out of range index");if(Q<=C)return this;C=C>>>0,Q=Q===void 0?this.length:Q>>>0,R||(R=0);let de;if(typeof R=="number")for(de=C;de<Q;++de)this[de]=R;else{const xe=g.isBuffer(R)?R:g.from(R,se),rt=xe.length;if(rt===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(de=0;de<Q-C;++de)this[de+C]=xe[de%rt]}return this};const $e={};function nt(K,R,C){$e[K]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}nt("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),nt("ERR_INVALID_ARG_TYPE",function(K,R){return`The "${K}" argument must be of type number. Received type ${typeof R}`},TypeError),nt("ERR_OUT_OF_RANGE",function(K,R,C){let Q=`The value of "${K}" is out of range.`,se=C;return Number.isInteger(C)&&Math.abs(C)>2**32?se=Kt(String(C)):typeof C=="bigint"&&(se=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(se=Kt(se)),se+="n"),Q+=` It must be ${R}. Received ${se}`,Q},RangeError);function Kt(K){let R="",C=K.length;const Q=K[0]==="-"?1:0;for(;C>=Q+4;C-=3)R=`_${K.slice(C-3,C)}${R}`;return`${K.slice(0,C)}${R}`}function Qe(K,R,C){Yn(R,"offset"),(K[R]===void 0||K[R+C]===void 0)&&Bt(R,K.length-(C+1))}function Ge(K,R,C,Q,se,de){if(K>C||K<R){const xe=typeof R=="bigint"?"n":"";let rt;throw R===0||R===BigInt(0)?rt=`>= 0${xe} and < 2${xe} ** ${(de+1)*8}${xe}`:rt=`>= -(2${xe} ** ${(de+1)*8-1}${xe}) and < 2 ** ${(de+1)*8-1}${xe}`,new $e.ERR_OUT_OF_RANGE("value",rt,K)}Qe(Q,se,de)}function Yn(K,R){if(typeof K!="number")throw new $e.ERR_INVALID_ARG_TYPE(R,"number",K)}function Bt(K,R,C){throw Math.floor(K)!==K?(Yn(K,C),new $e.ERR_OUT_OF_RANGE("offset","an integer",K)):R<0?new $e.ERR_BUFFER_OUT_OF_BOUNDS:new $e.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,K)}const Gt=/[^+/0-9A-Za-z-_]/g;function ei(K){if(K=K.split("=")[0],K=K.trim().replace(Gt,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function Ct(K,R){R=R||1/0;let C;const Q=K.length;let se=null;const de=[];for(let xe=0;xe<Q;++xe){if(C=K.charCodeAt(xe),C>55295&&C<57344){if(!se){if(C>56319){(R-=3)>-1&&de.push(239,191,189);continue}else if(xe+1===Q){(R-=3)>-1&&de.push(239,191,189);continue}se=C;continue}if(C<56320){(R-=3)>-1&&de.push(239,191,189),se=C;continue}C=(se-55296<<10|C-56320)+65536}else se&&(R-=3)>-1&&de.push(239,191,189);if(se=null,C<128){if((R-=1)<0)break;de.push(C)}else if(C<2048){if((R-=2)<0)break;de.push(C>>6|192,C&63|128)}else if(C<65536){if((R-=3)<0)break;de.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((R-=4)<0)break;de.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return de}function zt(K){const R=[];for(let C=0;C<K.length;++C)R.push(K.charCodeAt(C)&255);return R}function Zt(K,R){let C,Q,se;const de=[];for(let xe=0;xe<K.length&&!((R-=2)<0);++xe)C=K.charCodeAt(xe),Q=C>>8,se=C%256,de.push(se),de.push(Q);return de}function ut(K){return e.toByteArray(ei(K))}function ot(K,R,C,Q){let se;for(se=0;se<Q&&!(se+C>=R.length||se>=K.length);++se)R[se+C]=K[se];return se}function On(K,R){return K instanceof R||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===R.name}function Ot(K){return K!==K}const qt=(function(){const K="0123456789abcdef",R=new Array(256);for(let C=0;C<16;++C){const Q=C*16;for(let se=0;se<16;++se)R[Q+se]=K[C]+K[se]}return R})();function kn(K){return typeof BigInt>"u"?Tt:K}function Tt(){throw new Error("BigInt not supported")}})(Mm);const Hn=Mm.Buffer,dt=Mm.Buffer;var ac=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function n3(n,e,r){const s=new URL(e,n);if(r)for(const[a,l]of Object.entries(r))l!==void 0&&s.searchParams.set(a,l);return s.toString()}async function r3(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function i3(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:a,body:l,headers:u}){const h=n3(n.baseUrl,s,a),f=await r3(n.auth),m=await e(h,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...f,...u},body:l?JSON.stringify(l):void 0}),g=await m.text(),S=(m.headers.get("content-type")||"").includes("application/json"),k=S&&g?JSON.parse(g):g;if(!m.ok){const j=S?k:void 0,z=j?.error;throw new ac(z?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:z?.type,icebergCode:z?.code,details:j})}return{status:m.status,headers:m.headers,data:k}}}}function qu(n){return n.join("")}var s3=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:qu(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(n,e){const r={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qu(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qu(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qu(n.namespace)}`}),!0}catch(e){if(e instanceof ac&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(r){if(r instanceof ac&&r.status===409)return;throw r}}};function yo(n){return n.join("")}var a3=class{constructor(n,e="",r){this.client=n,this.prefix=e,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(n.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(n,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yo(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yo(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(r){if(r instanceof ac&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(r){if(r instanceof ac&&r.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw r}}},o3=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=i3({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new s3(this.client,e),this.tableOps=new a3(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},Uf=class extends Error{constructor(n,e="storage",r,s){super(n),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=s}};function Lf(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var $u=class extends Uf{constructor(n,e,r,s="storage"){super(n,s,e,r),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cw=class extends Uf{constructor(n,e,r="storage"){super(n,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const l3=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),c3=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},em=n=>{if(Array.isArray(n))return n.map(r=>em(r));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=em(s)}),e},u3=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function oc(n){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(n)}function f3(n,e){if(oc(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,e);if(oc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function h3(n){var e=f3(n,"string");return oc(e)=="symbol"?e:e+""}function d3(n,e,r){return(e=h3(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function ub(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,s)}return r}function Xe(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ub(Object(r),!0).forEach(function(s){d3(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}const fb=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},m3=async(n,e,r,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const a=n,l=a.status||500;if(typeof a.json=="function")a.json().then(u=>{const h=u?.statusCode||u?.code||l+"";e(new $u(fb(u),l,h,s))}).catch(()=>{if(s==="vectors"){const u=l+"";e(new $u(a.statusText||`HTTP ${l} error`,l,u,s))}else{const u=l+"";e(new $u(a.statusText||`HTTP ${l} error`,l,u,s))}});else{const u=l+"";e(new $u(a.statusText||`HTTP ${l} error`,l,u,s))}}else e(new cw(fb(n),n,s))},p3=(n,e,r,s)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"||n==="HEAD"||!s?Xe(Xe({},a),r):(c3(s)?(a.headers=Xe({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(s)):a.body=s,e?.duplex&&(a.duplex=e.duplex),Xe(Xe({},a),r))};async function Wl(n,e,r,s,a,l,u){return new Promise((h,f)=>{n(r,p3(e,s,a,l)).then(m=>{if(!m.ok)throw m;if(s?.noResolveJson)return m;if(u==="vectors"){const g=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!g||!g.includes("application/json"))return{}}return m.json()}).then(m=>h(m)).catch(m=>m3(m,f,s,u))})}function uw(n="storage"){return{get:async(e,r,s,a)=>Wl(e,"GET",r,s,a,void 0,n),post:async(e,r,s,a,l)=>Wl(e,"POST",r,a,l,s,n),put:async(e,r,s,a,l)=>Wl(e,"PUT",r,a,l,s,n),head:async(e,r,s,a)=>Wl(e,"HEAD",r,Xe(Xe({},s),{},{noResolveJson:!0}),a,void 0,n),remove:async(e,r,s,a,l)=>Wl(e,"DELETE",r,a,l,s,n)}}const g3=uw("storage"),{get:lc,post:Wr,put:tm,head:y3,remove:Lm}=g3,wr=uw("vectors");var Zo=class{constructor(n,e={},r,s="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.fetch=l3(r),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var e=this;try{return{data:await n(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lf(r))return{data:null,error:r};throw r}}},b3=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Lf(e))return{data:null,error:e};throw e}}};let fw;fw=Symbol.toStringTag;var v3=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[fw]="BlobDownloadBuilder",this.promise=null}asStream(){return new b3(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Lf(e))return{data:null,error:e};throw e}}};const w3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var x3=class extends Zo{constructor(n,e={},r,s){super(n,e,s,"storage"),this.bucketId=r}async uploadOrUpdate(n,e,r,s){var a=this;return a.handleOperation(async()=>{let l;const u=Xe(Xe({},hb),s);let h=Xe(Xe({},a.headers),n==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",a.encodeMetadata(f)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(f))):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),s?.headers&&(h=Xe(Xe({},h),s.headers));const m=a._removeEmptyFolders(e),g=a._getFinalPath(m),S=await(n=="PUT"?tm:Wr)(a.fetch,`${a.url}/object/${g}`,l,Xe({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{path:m,id:S.Id,fullPath:S.Key}})}async upload(n,e,r){return this.uploadOrUpdate("POST",n,e,r)}async uploadToSignedUrl(n,e,r,s){var a=this;const l=a._removeEmptyFolders(n),u=a._getFinalPath(l),h=new URL(a.url+`/object/upload/sign/${u}`);return h.searchParams.set("token",e),a.handleOperation(async()=>{let f;const m=Xe({upsert:hb.upsert},s),g=Xe(Xe({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",m.cacheControl)):(f=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{path:l,fullPath:(await tm(a.fetch,h.toString(),f,{headers:g})).Key}})}async createSignedUploadUrl(n,e){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(n);const a=Xe({},r.headers);e?.upsert&&(a["x-upsert"]="true");const l=await Wr(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:a}),u=new URL(r.url+l.url),h=u.searchParams.get("token");if(!h)throw new Uf("No token returned by API");return{signedUrl:u.toString(),path:n,token:h}})}async update(n,e,r){return this.uploadOrUpdate("PUT",n,e,r)}async move(n,e,r){var s=this;return s.handleOperation(async()=>await Wr(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:s.headers}))}async copy(n,e,r){var s=this;return s.handleOperation(async()=>({path:(await Wr(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(n,e,r){var s=this;return s.handleOperation(async()=>{let a=s._getFinalPath(n),l=await Wr(s.fetch,`${s.url}/object/sign/${a}`,Xe({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${s.url}${l.signedURL}${u}`)}})}async createSignedUrls(n,e,r){var s=this;return s.handleOperation(async()=>{const a=await Wr(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:n},{headers:s.headers}),l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(u=>Xe(Xe({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${l}`):null}))})}download(n,e,r){const s=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),l=a?`?${a}`:"",u=this._getFinalPath(n),h=()=>lc(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0},r);return new v3(h,this.shouldThrowOnError)}async info(n){var e=this;const r=e._getFinalPath(n);return e.handleOperation(async()=>em(await lc(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(n){var e=this;const r=e._getFinalPath(n);try{return await y3(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Lf(s)&&s instanceof cw){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}}getPublicUrl(n,e){const r=this._getFinalPath(n),s=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&s.push(a);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&s.push(u);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${h}`)}}}async remove(n){var e=this;return e.handleOperation(async()=>await Lm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}))}async list(n,e,r){var s=this;return s.handleOperation(async()=>{const a=Xe(Xe(Xe({},w3),e),{},{prefix:n||""});return await Wr(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},r)})}async listV2(n,e){var r=this;return r.handleOperation(async()=>{const s=Xe({},n);return await Wr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},e)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Hn<"u"?Hn.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const _3="2.95.3",vc={"X-Client-Info":`storage-js/${_3}`};var S3=class extends Zo{constructor(n,e={},r,s){const a=new URL(n);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const l=a.href.replace(/\/$/,""),u=Xe(Xe({},vc),e);super(l,u,r,"storage")}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(n);return await lc(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(n){var e=this;return e.handleOperation(async()=>await lc(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}))}async createBucket(n,e={public:!1}){var r=this;return r.handleOperation(async()=>await Wr(r.fetch,`${r.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(n,e){var r=this;return r.handleOperation(async()=>await tm(r.fetch,`${r.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(n){var e=this;return e.handleOperation(async()=>await Wr(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Lm(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},E3=class extends Zo{constructor(n,e={},r){const s=n.replace(/\/$/,""),a=Xe(Xe({},vc),e);super(s,a,r,"storage")}async createBucket(n){var e=this;return e.handleOperation(async()=>await Wr(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}))}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;n?.limit!==void 0&&r.set("limit",n.limit.toString()),n?.offset!==void 0&&r.set("offset",n.offset.toString()),n?.sortColumn&&r.set("sortColumn",n.sortColumn),n?.sortOrder&&r.set("sortOrder",n.sortOrder),n?.search&&r.set("search",n.search);const s=r.toString(),a=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return await lc(e.fetch,a,{headers:e.headers})})}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Lm(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}from(n){var e=this;if(!u3(n))throw new Uf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new o3({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(a,l){const u=a[l];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(a,h),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}}}})}},A3=class extends Zo{constructor(n,e={},r){const s=n.replace(/\/$/,""),a=Xe(Xe({},vc),{},{"Content-Type":"application/json"},e);super(s,a,r,"vectors")}async createIndex(n){var e=this;return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{})}async getIndex(n,e){var r=this;return r.handleOperation(async()=>await wr.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:r.headers}))}async listIndexes(n){var e=this;return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}))}async deleteIndex(n,e){var r=this;return r.handleOperation(async()=>await wr.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:r.headers})||{})}},R3=class extends Zo{constructor(n,e={},r){const s=n.replace(/\/$/,""),a=Xe(Xe({},vc),{},{"Content-Type":"application/json"},e);super(s,a,r,"vectors")}async putVectors(n){var e=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{})}async getVectors(n){var e=this;return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}))}async listVectors(n){var e=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}))}async queryVectors(n){var e=this;return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}))}async deleteVectors(n){var e=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{})}},k3=class extends Zo{constructor(n,e={},r){const s=n.replace(/\/$/,""),a=Xe(Xe({},vc),{},{"Content-Type":"application/json"},e);super(s,a,r,"vectors")}async createBucket(n){var e=this;return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}async getBucket(n){var e=this;return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}))}async listBuckets(n={}){var e=this;return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await wr.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}},T3=class extends k3{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new N3(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,r=this;return e().call(r,n)}async getBucket(n){var e=()=>super.getBucket,r=this;return e().call(r,n)}async listBuckets(n={}){var e=()=>super.listBuckets,r=this;return e().call(r,n)}async deleteBucket(n){var e=()=>super.deleteBucket,r=this;return e().call(r,n)}},N3=class extends A3{constructor(n,e,r,s){super(n,e,s),this.vectorBucketName=r}async createIndex(n){var e=()=>super.createIndex,r=this;return e().call(r,Xe(Xe({},n),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,r=this;return e().call(r,Xe(Xe({},n),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,n)}index(n){return new B3(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},B3=class extends R3{constructor(n,e,r,s,a){super(n,e,a),this.vectorBucketName=r,this.indexName=s}async putVectors(n){var e=()=>super.putVectors,r=this;return e().call(r,Xe(Xe({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(n){var e=()=>super.getVectors,r=this;return e().call(r,Xe(Xe({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,r=this;return e().call(r,Xe(Xe({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,r=this;return e().call(r,Xe(Xe({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,r=this;return e().call(r,Xe(Xe({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},C3=class extends S3{constructor(n,e={},r,s){super(n,e,r,s)}from(n){return new x3(this.url,this.headers,n,this.fetch)}get vectors(){return new T3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E3(this.url+"/iceberg",this.headers,this.fetch)}};const hw="2.95.3",Bo=30*1e3,nm=3,h0=nm*Bo,O3="http://localhost:9999",j3="supabase.auth.token",M3={"X-Client-Info":`gotrue-js/${hw}`},rm="X-Supabase-Api-Version",dw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},U3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L3=600*1e3;class cc extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function ze(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class I3 extends cc{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function D3(n){return ze(n)&&n.name==="AuthApiError"}class ga extends cc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class rs extends cc{constructor(e,r,s,a){super(e,s,a),this.name=r,this.status=s}}class vr extends rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d0(n){return ze(n)&&n.name==="AuthSessionMissingError"}class bo extends rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hu extends rs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pu extends rs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function z3(n){return ze(n)&&n.name==="AuthImplicitGrantRedirectError"}class db extends rs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class q3 extends rs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class im extends rs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function m0(n){return ze(n)&&n.name==="AuthRetryableFetchError"}class mb extends rs{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class sm extends rs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pb=` 	
\r=`.split(""),$3=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<pb.length;e+=1)n[pb[e].charCodeAt(0)]=-2;for(let e=0;e<uf.length;e+=1)n[uf[e].charCodeAt(0)]=e;return n})();function gb(n,e,r){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(uf[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(uf[s]),e.queuedBits-=6}}function mw(n,e,r){const s=$3[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function yb(n){const e=[],r=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{F3(u,s,r)};for(let u=0;u<n.length;u+=1)mw(n.charCodeAt(u),a,l);return e.join("")}function H3(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function P3(n,e){for(let r=0;r<n.length;r+=1){let s=n.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(n.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}H3(s,e)}}function F3(n,e,r){if(e.utf8seq===0){if(n<=127){r(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function zo(n){const e=[],r={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)mw(n.charCodeAt(a),r,s);return new Uint8Array(e)}function G3(n){const e=[];return P3(n,r=>e.push(r)),new Uint8Array(e)}function ba(n){const e=[],r={queue:0,queuedBits:0},s=a=>{e.push(a)};return n.forEach(a=>gb(a,r,s)),gb(null,r,s),e.join("")}function V3(n){return Math.round(Date.now()/1e3)+n}function K3(){return Symbol("auth-callback")}const Pn=()=>typeof window<"u"&&typeof document<"u",ua={tested:!1,writable:!1},pw=()=>{if(!Pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ua.tested)return ua.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ua.tested=!0,ua.writable=!0}catch{ua.tested=!0,ua.writable=!1}return ua.writable};function Y3(n){const e={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return r.searchParams.forEach((s,a)=>{e[a]=s}),e}const gw=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),W3=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Co=async(n,e,r)=>{await n.setItem(e,JSON.stringify(r))},fa=async(n,e)=>{const r=await n.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qn=async(n,e)=>{await n.removeItem(e)};class If{constructor(){this.promise=new If.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}If.promiseConstructor=Promise;function Fu(n){const e=n.split(".");if(e.length!==3)throw new sm("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!U3.test(e[s]))throw new sm("JWT not in base64url format");return{header:JSON.parse(yb(e[0])),payload:JSON.parse(yb(e[1])),signature:zo(e[2]),raw:{header:e[0],payload:e[1]}}}async function Z3(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function X3(n,e){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await n(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function J3(n){return("0"+n.toString(16)).substr(-2)}function Q3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let l=0;l<56;l++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,J3).join("")}async function e4(n){const r=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function t4(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await e4(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vo(n,e,r=!1){const s=Q3();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await Co(n,`${e}-code-verifier`,a);const l=await t4(s);return[l,s===l?"plain":"s256"]}const n4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r4(n){const e=n.headers.get(rm);if(!e||!e.match(n4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function i4(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function s4(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wo(n){if(!a4.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function p0(){const n={};return new Proxy(n,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function o4(n,e){return new Proxy(n,{get:(r,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,a)}})}function bb(n){return JSON.parse(JSON.stringify(n))}const ma=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),l4=[502,503,504];async function vb(n){var e;if(!W3(n))throw new im(ma(n),0);if(l4.includes(n.status))throw new im(ma(n),n.status);let r;try{r=await n.json()}catch(l){throw new ga(ma(l),l)}let s;const a=r4(n);if(a&&a.getTime()>=dw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new mb(ma(r),n.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new vr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new mb(ma(r),n.status,r.weak_password.reasons);throw new I3(ma(r),n.status||500,s)}const c4=(n,e,r,s)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function Ye(n,e,r,s){var a;const l=Object.assign({},s?.headers);l[rm]||(l[rm]=dw["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await u4(n,e,r+h,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(f):{data:Object.assign({},f),error:null}}async function u4(n,e,r,s,a,l){const u=c4(e,s,a,l);let h;try{h=await n(r,Object.assign({},u))}catch(f){throw console.error(f),new im(ma(f),0)}if(h.ok||await vb(h),s?.noResolveJson)return h;try{return await h.json()}catch(f){await vb(f)}}function Kr(n){var e;let r=null;d4(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=V3(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:r,user:s},error:null}}function wb(n){const e=Kr(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function zs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function f4(n){return{data:n,error:null}}function h4(n){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:a,verification_type:l}=n,u=jf(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:s,redirect_to:a,verification_type:l},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function xb(n){return n}function d4(n){return n.access_token&&n.refresh_token&&n.expires_in}const g0=["global","local","others"];class m4{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=gw(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=g0[0]){if(g0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${g0.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zs})}catch(s){if(ze(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=jf(e,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:h4,redirectTo:r?.redirectTo})}catch(r){if(ze(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zs})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,a,l,u,h,f;try{const m={nextPage:null,lastPage:0,total:0},g=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:xb});if(g.error)throw g.error;const S=await g.json(),k=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,j=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return j.length>0&&(j.forEach(z=>{const $=parseInt(z.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(z.split(";")[1].split("=")[1]);m[`${H}Page`]=$}),m.total=parseInt(k)),{data:Object.assign(Object.assign({},S),m),error:null}}catch(m){if(ze(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){wo(e);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zs})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wo(e);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zs})}catch(s){if(ze(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){wo(e);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zs})}catch(s){if(ze(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){wo(e.userId);try{const{data:r,error:s}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wo(e.userId),wo(e.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,a,l,u,h,f;try{const m={nextPage:null,lastPage:0,total:0},g=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:xb});if(g.error)throw g.error;const S=await g.json(),k=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,j=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return j.length>0&&(j.forEach(z=>{const $=parseInt(z.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(z.split(";")[1].split("=")[1]);m[`${H}Page`]=$}),m.total=parseInt(k)),{data:Object.assign(Object.assign({},S),m),error:null}}catch(m){if(ze(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ze(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}}function _b(n={}){return{getItem:e=>n[e]||null,setItem:(e,r)=>{n[e]=r},removeItem:e=>{delete n[e]}}}const xo={debug:!!(globalThis&&pw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class p4 extends yw{}async function g4(n,e,r){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await r()}finally{xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new p4(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(xo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function y4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bw(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function b4(n){return parseInt(n,16)}function v4(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function w4(n){var e;const{chainId:r,domain:s,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:f,resources:m,scheme:g,uri:S,version:k}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const j=bw(n.address),z=g?`${g}://${s}`:s,$=n.statement?`${n.statement}
`:"",H=`${z} wants you to sign in with your Ethereum account:
${j}

${$}`;let X=`URI: ${S}
Version: ${k}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(X+=`
Expiration Time: ${a.toISOString()}`),h&&(X+=`
Not Before: ${h.toISOString()}`),f&&(X+=`
Request ID: ${f}`),m){let P=`
Resources:`;for(const F of m){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);P+=`
- ${F}`}X+=P}return`${H}
${X}`}class En extends Error{constructor({message:e,code:r,cause:s,name:a}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=a??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class ff extends En{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function x4({error:n,options:e}){var r,s,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new En({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new En({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new En({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new En({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new En({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new En({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new En({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new En({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(vw(u)){if(l.rp.id!==u)return new En({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new En({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new En({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new En({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new En({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function _4({error:n,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new En({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new En({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(vw(s)){if(r.rpId!==s)return new En({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new En({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new En({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new En({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class S4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const E4=new S4;function A4(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:r,excludeCredentials:s}=n,a=jf(n,["challenge","user","excludeCredentials"]),l=zo(e).buffer,u=Object.assign(Object.assign({},r),{id:zo(r.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:u});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];h.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:zo(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function R4(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:r}=n,s=jf(n,["challenge","allowCredentials"]),a=zo(e).buffer,l=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:zo(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function k4(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:ba(new Uint8Array(n.response.attestationObject)),clientDataJSON:ba(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function T4(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,s=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ba(new Uint8Array(a.authenticatorData)),clientDataJSON:ba(new Uint8Array(a.clientDataJSON)),signature:ba(new Uint8Array(a.signature)),userHandle:a.userHandle?ba(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vw(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Sb(){var n,e;return!!(Pn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function N4(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ff("Browser returned unexpected credential type",e)}:{data:null,error:new ff("Empty credential response",e)}}catch(e){return{data:null,error:x4({error:e,options:n})}}}async function B4(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ff("Browser returned unexpected credential type",e)}:{data:null,error:new ff("Empty credential response",e)}}catch(e){return{data:null,error:_4({error:e,options:n})}}}const C4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},O4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hf(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of n)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(r(u))s[l]=u;else if(e(u)){const h=s[l];e(h)?s[l]=hf(h,u):s[l]=hf(u)}else s[l]=u}return s}function j4(n,e){return hf(C4,n,e||{})}function M4(n,e){return hf(O4,n,e||{})}class U4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:a},l){var u;try{const{data:h,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!h)return{data:null,error:f};const m=a??E4.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:g}=h.webauthn.credential_options.publicKey;if(!g.name){const S=s;if(S)g.name=`${g.id}:${S}`;else{const j=(await this.client.getUser()).data.user,z=((u=j?.user_metadata)===null||u===void 0?void 0:u.name)||j?.email||j?.id||"User";g.name=`${g.id}:${z}`}}g.displayName||(g.displayName=g.name)}switch(h.webauthn.type){case"create":{const g=j4(h.webauthn.credential_options.publicKey,l?.create),{data:S,error:k}=await N4({publicKey:g,signal:m});return S?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:S}},error:null}:{data:null,error:k}}case"request":{const g=M4(h.webauthn.credential_options.publicKey,l?.request),{data:S,error:k}=await B4(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g,signal:m}));return S?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:S}},error:null}:{data:null,error:k}}}}catch(h){return ze(h)?{data:null,error:h}:{data:null,error:new ga("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new cc("rpId is required for WebAuthn authentication")};try{if(!Sb())return{data:null,error:new ga("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:l});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:s,credential_response:f.credential_response}})}catch(u){return ze(u)?{data:null,error:u}:{data:null,error:new ga("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new cc("rpId is required for WebAuthn registration")};try{if(!Sb())return{data:null,error:new ga("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var S;return(S=g.data)===null||S===void 0?void 0:S.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===e&&k.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:h};const{data:f,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:l});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ze(u)?{data:null,error:u}:{data:null,error:new ga("Unexpected error in register",u)}}}}y4();const L4={url:O3,storageKey:j3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Eb(n,e,r){return await r()}const _o={};class uc{get jwks(){var e,r;return(r=(e=_o[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=_o[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},L4),e);if(this.storageKey=l.storageKey,this.instanceID=(r=uc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,uc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Pn()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new m4({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=gw(l.fetch),this.lock=l.lock||Eb,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&Pn()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=g4:this.lock=Eb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new U4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:pw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_b(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=_b(this.memoryStorage)),Pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(Pn()&&(r=Y3(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Pn()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(r,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),z3(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ze(r)?this._returnResult({error:r}):this._returnResult({error:new ga("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,a;try{const l=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Kr}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(ze(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,s,a;try{let l;if("email"in e){const{email:g,password:S,options:k}=e;let j=null,z=null;this.flowType==="pkce"&&([j,z]=await vo(this.storage,this.storageKey)),l=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:g,password:S,data:(r=k?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:j,code_challenge_method:z},xform:Kr})}else if("phone"in e){const{phone:g,password:S,options:k}=e;l=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:S,data:(s=k?.data)!==null&&s!==void 0?s:{},channel:(a=k?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Kr})}else throw new Hu("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return await qn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(await qn(this.storage,`${this.storageKey}-code-verifier`),ze(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:h}=e;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wb})}else if("phone"in e){const{phone:l,password:u,options:h}=e;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wb})}else throw new Hu("You must provide either an email or phone number and a password");const{data:s,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const l=new bo;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,a,l,u,h,f,m,g,S,k;let j,z;if("message"in e)j=e.message,z=e.signature;else{const{chain:$,wallet:H,statement:X,options:P}=e;let F;if(Pn())if(typeof H=="object")F=H;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")F=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=H}const ne=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href),he=await F.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!he||he.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const fe=bw(he[0]);let le=(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!le){const M=await F.request({method:"eth_chainId"});le=b4(M)}const D={domain:ne.host,address:fe,statement:X,uri:ne.href,version:"1",chainId:le,nonce:(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=P?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=P?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.resources};j=w4(D),z=await F.request({method:"personal_sign",params:[v4(j),fe]})}try{const{data:$,error:H}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:z},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(k=e.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Kr});if(H)throw H;if(!$||!$.session||!$.user){const X=new bo;return this._returnResult({data:{user:null,session:null},error:X})}return $.session&&(await this._saveSession($.session),await this._notifyAllSubscribers("SIGNED_IN",$.session)),this._returnResult({data:Object.assign({},$),error:H})}catch($){if(ze($))return this._returnResult({data:{user:null,session:null},error:$});throw $}}async signInWithSolana(e){var r,s,a,l,u,h,f,m,g,S,k,j;let z,$;if("message"in e)z=e.message,$=e.signature;else{const{chain:H,wallet:X,statement:P,options:F}=e;let ne;if(Pn())if(typeof X=="object")ne=X;else{const fe=window;if("solana"in fe&&typeof fe.solana=="object"&&("signIn"in fe.solana&&typeof fe.solana.signIn=="function"||"signMessage"in fe.solana&&typeof fe.solana.signMessage=="function"))ne=fe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof X!="object"||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ne=X}const he=new URL((r=F?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in ne&&ne.signIn){const fe=await ne.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F?.signInWithSolana),{version:"1",domain:he.host,uri:he.href}),P?{statement:P}:null));let le;if(Array.isArray(fe)&&fe[0]&&typeof fe[0]=="object")le=fe[0];else if(fe&&typeof fe=="object"&&"signedMessage"in fe&&"signature"in fe)le=fe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in le&&"signature"in le&&(typeof le.signedMessage=="string"||le.signedMessage instanceof Uint8Array)&&le.signature instanceof Uint8Array)z=typeof le.signedMessage=="string"?le.signedMessage:new TextDecoder().decode(le.signedMessage),$=le.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ne)||typeof ne.signMessage!="function"||!("publicKey"in ne)||typeof ne!="object"||!ne.publicKey||!("toBase58"in ne.publicKey)||typeof ne.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");z=[`${he.host} wants you to sign in with your Solana account:`,ne.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${he.href}`,`Issued At: ${(a=(s=F?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=F?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((u=F?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((h=F?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((f=F?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((m=F?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((S=(g=F?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||S===void 0)&&S.length?["Resources",...F.signInWithSolana.resources.map(le=>`- ${le}`)]:[]].join(`
`);const fe=await ne.signMessage(new TextEncoder().encode(z),"utf8");if(!fe||!(fe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");$=fe}}try{const{data:H,error:X}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:z,signature:ba($)},!((k=e.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(j=e.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Kr});if(X)throw X;if(!H||!H.session||!H.user){const P=new bo;return this._returnResult({data:{user:null,session:null},error:P})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:X})}catch(H){if(ze(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async _exchangeCodeForSession(e){const r=await fa(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new q3;const{data:l,error:u}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Kr});if(await qn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new bo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(await qn(this.storage,`${this.storageKey}-code-verifier`),ze(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:s,token:a,access_token:l,nonce:u}=e,h=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Kr}),{data:f,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const g=new bo;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,a,l,u;try{if("email"in e){const{email:h,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await vo(this.storage,this.storageKey));const{error:S}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in e){const{phone:h,options:f}=e,{data:m,error:g}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:g})}throw new Hu("You must provide either an email or phone number.")}catch(h){if(await qn(this.storage,`${this.storageKey}-code-verifier`),ze(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var r,s;try{let a,l;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:h}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Kr});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,m=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,s,a,l,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await vo(this.storage,this.storageKey));const m=await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:f4});return!((l=m.data)===null||l===void 0)&&l.url&&Pn()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await qn(this.storage,`${this.storageKey}-code-verifier`),ze(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new vr;const{error:a}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ze(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:l}=e,{error:u}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:a,options:l}=e,{data:u,error:h}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Hu("You must provide either an email or phone number and a type")}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await fa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<h0:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await fa(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=p0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=o4(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zs}):await this._useSession(async r=>{var s,a,l;const{data:u,error:h}=r;if(h)throw h;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vr}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:zs})})}catch(r){if(ze(r))return d0(r)&&(await this._removeSession(),await qn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new vr;const u=a.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await vo(this.storage,this.storageKey));const{data:m,error:g}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:zs});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await qn(this.storage,`${this.storageKey}-code-verifier`),ze(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vr;const r=Date.now()/1e3;let s=r,a=!0,l=null;const{payload:u}=Fu(e.access_token);if(u.exp&&(s=u.exp,a=s<=r),a){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ze(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:u,error:h}=r;if(h)throw h;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new vr;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Pn())throw new Pu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new db("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new db("No code detected.");const{data:P,error:F}=await this._exchangeCodeForSession(e.code);if(F)throw F;const ne=new URL(window.location.href);return ne.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ne.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:h,expires_at:f,token_type:m}=e;if(!l||!h||!u||!m)throw new Pu("No session defined in URL");const g=Math.round(Date.now()/1e3),S=parseInt(h);let k=g+S;f&&(k=parseInt(f));const j=k-g;j*1e3<=Bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${S}s`);const z=k-S;g-z>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",z,k,g):g-z<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",z,k,g);const{data:$,error:H}=await this._getUser(l);if(H)throw H;const X={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:S,expires_at:k,refresh_token:u,token_type:m,user:$.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:X,redirectType:e.type},error:null})}catch(s){if(ze(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await fa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:l}=r;if(l&&!d0(l))return this._returnResult({error:l});const u=(s=a.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(D3(h)&&(h.status===404||h.status===401||h.status===403)||d0(h)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await qn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=K3(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,a;try{const{data:{session:l},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await vo(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await qn(this.storage,`${this.storageKey}-code-verifier`),ze(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:a}=await this._useSession(async l=>{var u,h,f,m,g;const{data:S,error:k}=l;if(k)throw k;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",j,{headers:this.headers,jwt:(g=(m=S.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return Pn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(ze(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:a,data:{session:l}}=r;if(a)throw a;const{options:u,provider:h,token:f,access_token:m,nonce:g}=e,S=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:f,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Kr}),{data:k,error:j}=S;return j?this._returnResult({data:{user:null,session:null},error:j}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new bo}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:j}))}catch(a){if(await qn(this.storage,`${this.storageKey}-code-verifier`),ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,a;const{data:l,error:u}=r;if(u)throw u;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await X3(async a=>(a>0&&await Z3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kr})),(a,l)=>{const u=200*Math.pow(2,a);return l&&m0(l)&&Date.now()+u-s<Bo})}catch(s){if(this._debug(r,"error",s),ze(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Pn()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await fa(this.storage,this.storageKey);if(a&&this.userStorage){let u=await fa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Co(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:p0()}else if(a&&!a.user&&!a.user){const u=await fa(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await qn(this.storage,this.storageKey+"-user"),await Co(this.storage,this.storageKey,a)):a.user=p0()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const l=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<h0;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${h0}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),m0(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new vr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new If;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new vr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),ze(l)){const u={data:null,error:l};return m0(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await qn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Co(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const l=bb(a);await Co(this.storage,this.storageKey,l)}else{const a=bb(r);await Co(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qn(this.storage,this.storageKey),await qn(this.storage,this.storageKey+"-code-verifier"),await qn(this.storage,this.storageKey+"-user"),this.userStorage&&await qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/Bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Bo}ms, refresh threshold is ${nm} ticks`),a<=nm&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await vo(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:a,error:l}=r;return l?this._returnResult({data:null,error:l}):await Ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,a;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?k4(e.webauthn.credential_response):T4(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:A4(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:R4(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,s,a,l;if(e)try{const{payload:j}=Fu(e);let z=null;j.aal&&(z=j.aal);let $=z;const{data:{user:H},error:X}=await this.getUser(e);if(X)return this._returnResult({data:null,error:X});((s=(r=H?.factors)===null||r===void 0?void 0:r.filter(ne=>ne.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&($="aal2");const F=j.amr||[];return{data:{currentLevel:z,nextLevel:$,currentAuthenticationMethods:F},error:null}}catch(j){if(ze(j))return this._returnResult({data:null,error:j});throw j}const{data:{session:u},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Fu(u.access_token);let m=null;f.aal&&(m=f.aal);let g=m;((l=(a=u.user.factors)===null||a===void 0?void 0:a.filter(j=>j.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const k=f.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:k},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await Ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new vr})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new vr});const u=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Pn()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(ze(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new vr});const u=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Pn()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(s){if(ze(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await Ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new vr})})}catch(e){if(ze(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?(await Ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vr})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(h=>h.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+L3>a)return s;const{data:l,error:u}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,s=l.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:j,error:z}=await this.getSession();if(z||!j.session)return this._returnResult({data:null,error:z});s=j.session.access_token}const{header:a,payload:l,signature:u,raw:{header:h,payload:f}}=Fu(s);r?.allowExpired||i4(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:j}=await this.getUser(s);if(j)throw j;return{data:{claims:l,header:a,signature:u},error:null}}const g=s4(a.alg),S=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,S,u,G3(`${h}.${f}`)))throw new sm("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(s){if(ze(s))return this._returnResult({data:null,error:s});throw s}}}uc.nextInstanceID={};const I4=uc,D4="2.95.3";let Ql="";typeof Deno<"u"?Ql="deno":typeof document<"u"?Ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ql="react-native":Ql="node";const z4={"X-Client-Info":`supabase-js-${Ql}/${D4}`},q4={headers:z4},$4={schema:"public"},H4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},P4={};function fc(n){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(n)}function F4(n,e){if(fc(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,e);if(fc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function G4(n){var e=F4(n,"string");return fc(e)=="symbol"?e:e+""}function V4(n,e,r){return(e=G4(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Ab(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,s)}return r}function dn(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(r),!0).forEach(function(s){V4(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}const K4=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Y4=()=>Headers,W4=(n,e,r)=>{const s=K4(r),a=Y4();return async(l,u)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:n;let m=new a(u?.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),s(l,dn(dn({},u),{},{headers:m}))}};function Z4(n){return n.endsWith("/")?n:n+"/"}function X4(n,e){var r,s;const{db:a,auth:l,realtime:u,global:h}=n,{db:f,auth:m,realtime:g,global:S}=e,k={db:dn(dn({},f),a),auth:dn(dn({},m),l),realtime:dn(dn({},g),u),storage:{},global:dn(dn(dn({},S),h),{},{headers:dn(dn({},(r=S?.headers)!==null&&r!==void 0?r:{}),(s=h?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?k.accessToken=n.accessToken:delete k.accessToken,k}function J4(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Z4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Q4=class extends I4{constructor(n){super(n)}},eR=class{constructor(n,e,r){var s,a;this.supabaseUrl=n,this.supabaseKey=e;const l=J4(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:$4,realtime:P4,auth:dn(dn({},H4),{},{storageKey:u}),global:q4},f=X4(r??{},h);if(this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=f.auth)!==null&&m!==void 0?m:{},this.headers,f.global.fetch)}this.fetch=W4(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(dn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new BA(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new C3(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new _A(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,r;if(n.accessToken)return await n.accessToken();const{data:s}=await n.auth.getSession();return(e=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:l,flowType:u,lock:h,debug:f,throwOnError:m},g,S){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q4({url:this.authUrl.href,headers:dn(dn({},k),g),storageKey:l,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:a,flowType:u,lock:h,debug:f,throwOnError:m,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new KA(this.realtimeUrl.href,dn(dn({},n),{},{params:dn(dn({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tR=(n,e,r)=>new eR(n,e,r);function nR(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}nR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rR="https://qagvrucdgcglfannuevr.supabase.co",iR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhZ3ZydWNkZ2NnbGZhbm51ZXZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA3NzU3MzEsImV4cCI6MjA4NjM1MTczMX0.Rvz7A-Rkk9vws3surmyk15tnHfxFzK1u_dMgeZbo7nY",Yr=tR(rR,iR),ww=ue.createContext(null);function sR({children:n}){const[e,r]=ue.useState(null),[s,a]=ue.useState(null),[l,u]=ue.useState(!0),h=!!e&&!!s,f=h&&!!s?.has_paid;ue.useEffect(()=>{(async()=>{try{const{data:{session:F}}=await Yr.auth.getSession();F?.user&&(r(F.user),await m(F.user.id))}catch(F){console.warn("[useUser] Init error:",F)}u(!1)})();const{data:{subscription:P}}=Yr.auth.onAuthStateChange((F,ne)=>{r(ne?.user??null),ne?.user||a(null)});return()=>P.unsubscribe()},[]);const m=async X=>{try{const{data:P,error:F}=await Yr.from("profiles").select("*").eq("id",X).single();!F&&P?a(P):(console.warn("[useUser] Profile fetch issue:",F?.message),a({id:X,name:"Subscriber",email:null,has_paid:!1,total_sent:0,created_at:new Date().toISOString()}))}catch(P){console.warn("[useUser] Failed to load profile:",P),a({id:X,name:"Subscriber",email:null,has_paid:!1,total_sent:0,created_at:new Date().toISOString()})}},g=async(X,P,F)=>{try{const{data:ne,error:he}=await Yr.auth.signUp({email:P,password:F,options:{data:{name:X}}});return he?{error:he.message}:ne.user?ne.user.identities&&ne.user.identities.length===0?{error:"An account with this email already exists. Please log in instead."}:(r(ne.user),await new Promise(fe=>setTimeout(fe,1500)),await m(ne.user.id),{}):{error:"Signup failed. Please try again."}}catch(ne){return{error:ne.message||"Signup failed. Please try again."}}},S=async(X,P)=>{try{const{data:F,error:ne}=await Yr.auth.signInWithPassword({email:X,password:P});return ne?{error:ne.message}:F.user?(r(F.user),await m(F.user.id),{}):{error:"Login failed. Please try again."}}catch(F){return{error:F.message||"Login failed. Please try again."}}},k=async()=>{await Yr.auth.signOut(),r(null),a(null)},j=async(X,P,F)=>{if(!e)return{error:"Not logged in"};const{error:ne}=await Yr.from("transactions").insert({user_id:e.id,amount:X,token:P,tx_signature:F});return ne?ne.code==="23505"?{error:"This transaction has already been recorded."}:{error:ne.message}:(await m(e.id),{})},z=async()=>{if(!e)return[];const{data:X,error:P}=await Yr.from("transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});return P?[]:X},$=async()=>{const{data:X,error:P}=await Yr.from("profiles").select("id, name, total_sent").gt("total_sent",0).order("total_sent",{ascending:!1}).limit(50);return P?[]:X},H=async()=>{e&&await m(e.id)};return w.jsx(ww.Provider,{value:{authUser:e,profile:s,isLoggedIn:h,isSubscribed:f,isLoading:l,signup:g,login:S,logout:k,recordTransaction:j,fetchTransactions:z,fetchLeaderboard:$,fetchProfile:H},children:n})}function wc(){const n=ue.useContext(ww);if(!n)throw new Error("useUser must be used within a UserProvider");return n}function xw(n){var e,r,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(r=xw(n[e]))&&(s&&(s+=" "),s+=r)}else for(r in n)n[r]&&(s&&(s+=" "),s+=r);return s}function _w(){for(var n,e,r=0,s="",a=arguments.length;r<a;r++)(n=arguments[r])&&(e=xw(n))&&(s&&(s+=" "),s+=e);return s}const Rb=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,kb=_w,Sw=(n,e)=>r=>{var s;if(e?.variants==null)return kb(n,r?.class,r?.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(m=>{const g=r?.[m],S=l?.[m];if(g===null)return null;const k=Rb(g)||Rb(S);return a[m][k]}),h=r&&Object.entries(r).reduce((m,g)=>{let[S,k]=g;return k===void 0||(m[S]=k),m},{}),f=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,g)=>{let{class:S,className:k,...j}=g;return Object.entries(j).every(z=>{let[$,H]=z;return Array.isArray(H)?H.includes({...l,...h}[$]):{...l,...h}[$]===H})?[...m,S,k]:m},[]);return kb(n,u,f,r?.class,r?.className)};function Tb(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function aR(...n){return e=>{let r=!1;const s=n.map(a=>{const l=Tb(a,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Tb(n[a],null)}}}}function Ew(n){const e=oR(n),r=ue.forwardRef((s,a)=>{const{children:l,...u}=s,h=ue.Children.toArray(l),f=h.find(cR);if(f){const m=f.props.children,g=h.map(S=>S===f?ue.Children.count(m)>1?ue.Children.only(null):ue.isValidElement(m)?m.props.children:null:S);return w.jsx(e,{...u,ref:a,children:ue.isValidElement(m)?ue.cloneElement(m,void 0,g):null})}return w.jsx(e,{...u,ref:a,children:l})});return r.displayName=`${n}.Slot`,r}var Aw=Ew("Slot");function oR(n){const e=ue.forwardRef((r,s)=>{const{children:a,...l}=r;if(ue.isValidElement(a)){const u=fR(a),h=uR(l,a.props);return a.type!==ue.Fragment&&(h.ref=s?aR(s,u):u),ue.cloneElement(a,h)}return ue.Children.count(a)>1?ue.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var lR=Symbol("radix.slottable");function cR(n){return ue.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===lR}function uR(n,e){const r={...e};for(const s in e){const a=n[s],l=e[s];/^on[A-Z]/.test(s)?a&&l?r[s]=(...h)=>{const f=l(...h);return a(...h),f}:a&&(r[s]=a):s==="style"?r[s]={...a,...l}:s==="className"&&(r[s]=[a,l].filter(Boolean).join(" "))}return{...n,...r}}function fR(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}var hR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rw=hR.reduce((n,e)=>{const r=Ew(`Primitive.${e}`),s=ue.forwardRef((a,l)=>{const{asChild:u,...h}=a,f=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(f,{...h,ref:l})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),dR="Label",kw=ue.forwardRef((n,e)=>w.jsx(Rw.label,{...n,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(n.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));kw.displayName=dR;var mR=kw,pR="Separator",Nb="horizontal",gR=["horizontal","vertical"],Tw=ue.forwardRef((n,e)=>{const{decorative:r,orientation:s=Nb,...a}=n,l=yR(s)?s:Nb,h=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return w.jsx(Rw.div,{"data-orientation":l,...h,...a,ref:e})});Tw.displayName=pR;function yR(n){return gR.includes(n)}var bR=Tw;const vR=(n,e)=>{const r=new Array(n.length+e.length);for(let s=0;s<n.length;s++)r[s]=n[s];for(let s=0;s<e.length;s++)r[n.length+s]=e[s];return r},wR=(n,e)=>({classGroupId:n,validator:e}),Nw=(n=new Map,e=null,r)=>({nextPart:n,validators:e,classGroupId:r}),df="-",Bb=[],xR="arbitrary..",_R=n=>{const e=ER(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return SR(u);const h=u.split(df),f=h[0]===""&&h.length>1?1:0;return Bw(h,f,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const f=s[u],m=r[u];return f?m?vR(m,f):f:m||Bb}return r[u]||Bb}}},Bw=(n,e,r)=>{if(n.length-e===0)return r.classGroupId;const a=n[e],l=r.nextPart.get(a);if(l){const m=Bw(n,e+1,l);if(m)return m}const u=r.validators;if(u===null)return;const h=e===0?n.join(df):n.slice(e).join(df),f=u.length;for(let m=0;m<f;m++){const g=u[m];if(g.validator(h))return g.classGroupId}},SR=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),r=e.indexOf(":"),s=e.slice(0,r);return s?xR+s:void 0})(),ER=n=>{const{theme:e,classGroups:r}=n;return AR(r,e)},AR=(n,e)=>{const r=Nw();for(const s in n){const a=n[s];Im(a,r,s,e)}return r},Im=(n,e,r,s)=>{const a=n.length;for(let l=0;l<a;l++){const u=n[l];RR(u,e,r,s)}},RR=(n,e,r,s)=>{if(typeof n=="string"){kR(n,e,r);return}if(typeof n=="function"){TR(n,e,r,s);return}NR(n,e,r,s)},kR=(n,e,r)=>{const s=n===""?e:Cw(e,n);s.classGroupId=r},TR=(n,e,r,s)=>{if(BR(n)){Im(n(s),e,r,s);return}e.validators===null&&(e.validators=[]),e.validators.push(wR(r,n))},NR=(n,e,r,s)=>{const a=Object.entries(n),l=a.length;for(let u=0;u<l;u++){const[h,f]=a[u];Im(f,Cw(e,h),r,s)}},Cw=(n,e)=>{let r=n;const s=e.split(df),a=s.length;for(let l=0;l<a;l++){const u=s[l];let h=r.nextPart.get(u);h||(h=Nw(),r.nextPart.set(u,h)),r=h}return r},BR=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,CR=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),s=Object.create(null);const a=(l,u)=>{r[l]=u,e++,e>n&&(e=0,s=r,r=Object.create(null))};return{get(l){let u=r[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in r?r[l]=u:a(l,u)}}},am="!",Cb=":",OR=[],Ob=(n,e,r,s,a)=>({modifiers:n,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:s,isExternal:a}),jR=n=>{const{prefix:e,experimentalParseClassName:r}=n;let s=a=>{const l=[];let u=0,h=0,f=0,m;const g=a.length;for(let $=0;$<g;$++){const H=a[$];if(u===0&&h===0){if(H===Cb){l.push(a.slice(f,$)),f=$+1;continue}if(H==="/"){m=$;continue}}H==="["?u++:H==="]"?u--:H==="("?h++:H===")"&&h--}const S=l.length===0?a:a.slice(f);let k=S,j=!1;S.endsWith(am)?(k=S.slice(0,-1),j=!0):S.startsWith(am)&&(k=S.slice(1),j=!0);const z=m&&m>f?m-f:void 0;return Ob(l,j,k,z)};if(e){const a=e+Cb,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):Ob(OR,!1,u,void 0,!0)}if(r){const a=s;s=l=>r({className:l,parseClassName:a})}return s},MR=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((r,s)=>{e.set(r,1e6+s)}),r=>{const s=[];let a=[];for(let l=0;l<r.length;l++){const u=r[l],h=u[0]==="[",f=e.has(u);h||f?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},UR=n=>({cache:CR(n.cacheSize),parseClassName:jR(n),sortModifiers:MR(n),..._R(n)}),LR=/\s+/,IR=(n,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],h=n.trim().split(LR);let f="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:S,modifiers:k,hasImportantModifier:j,baseClassName:z,maybePostfixModifierPosition:$}=r(g);if(S){f=g+(f.length>0?" "+f:f);continue}let H=!!$,X=s(H?z.substring(0,$):z);if(!X){if(!H){f=g+(f.length>0?" "+f:f);continue}if(X=s(z),!X){f=g+(f.length>0?" "+f:f);continue}H=!1}const P=k.length===0?"":k.length===1?k[0]:l(k).join(":"),F=j?P+am:P,ne=F+X;if(u.indexOf(ne)>-1)continue;u.push(ne);const he=a(X,H);for(let fe=0;fe<he.length;++fe){const le=he[fe];u.push(F+le)}f=g+(f.length>0?" "+f:f)}return f},DR=(...n)=>{let e=0,r,s,a="";for(;e<n.length;)(r=n[e++])&&(s=Ow(r))&&(a&&(a+=" "),a+=s);return a},Ow=n=>{if(typeof n=="string")return n;let e,r="";for(let s=0;s<n.length;s++)n[s]&&(e=Ow(n[s]))&&(r&&(r+=" "),r+=e);return r},zR=(n,...e)=>{let r,s,a,l;const u=f=>{const m=e.reduce((g,S)=>S(g),n());return r=UR(m),s=r.cache.get,a=r.cache.set,l=h,h(f)},h=f=>{const m=s(f);if(m)return m;const g=IR(f,r);return a(f,g),g};return l=u,(...f)=>l(DR(...f))},qR=[],Nn=n=>{const e=r=>r[n]||qR;return e.isThemeGetter=!0,e},jw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Mw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$R=/^\d+\/\d+$/,HR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,So=n=>$R.test(n),ht=n=>!!n&&!Number.isNaN(Number(n)),Ns=n=>!!n&&Number.isInteger(Number(n)),y0=n=>n.endsWith("%")&&ht(n.slice(0,-1)),$i=n=>HR.test(n),KR=()=>!0,YR=n=>PR.test(n)&&!FR.test(n),Uw=()=>!1,WR=n=>GR.test(n),ZR=n=>VR.test(n),XR=n=>!Le(n)&&!Ie(n),JR=n=>Xo(n,Dw,Uw),Le=n=>jw.test(n),ha=n=>Xo(n,zw,YR),b0=n=>Xo(n,r6,ht),jb=n=>Xo(n,Lw,Uw),QR=n=>Xo(n,Iw,ZR),Gu=n=>Xo(n,qw,WR),Ie=n=>Mw.test(n),Zl=n=>Jo(n,zw),e6=n=>Jo(n,i6),Mb=n=>Jo(n,Lw),t6=n=>Jo(n,Dw),n6=n=>Jo(n,Iw),Vu=n=>Jo(n,qw,!0),Xo=(n,e,r)=>{const s=jw.exec(n);return s?s[1]?e(s[1]):r(s[2]):!1},Jo=(n,e,r=!1)=>{const s=Mw.exec(n);return s?s[1]?e(s[1]):r:!1},Lw=n=>n==="position"||n==="percentage",Iw=n=>n==="image"||n==="url",Dw=n=>n==="length"||n==="size"||n==="bg-size",zw=n=>n==="length",r6=n=>n==="number",i6=n=>n==="family-name",qw=n=>n==="shadow",s6=()=>{const n=Nn("color"),e=Nn("font"),r=Nn("text"),s=Nn("font-weight"),a=Nn("tracking"),l=Nn("leading"),u=Nn("breakpoint"),h=Nn("container"),f=Nn("spacing"),m=Nn("radius"),g=Nn("shadow"),S=Nn("inset-shadow"),k=Nn("text-shadow"),j=Nn("drop-shadow"),z=Nn("blur"),$=Nn("perspective"),H=Nn("aspect"),X=Nn("ease"),P=Nn("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],he=()=>[...ne(),Ie,Le],fe=()=>["auto","hidden","clip","visible","scroll"],le=()=>["auto","contain","none"],D=()=>[Ie,Le,f],M=()=>[So,"full","auto",...D()],q=()=>[Ns,"none","subgrid",Ie,Le],W=()=>["auto",{span:["full",Ns,Ie,Le]},Ns,Ie,Le],I=()=>[Ns,"auto",Ie,Le],E=()=>["auto","min","max","fr",Ie,Le],p=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],v=()=>["start","end","center","stretch","center-safe","end-safe"],_=()=>["auto",...D()],N=()=>[So,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],B=()=>[n,Ie,Le],G=()=>[...ne(),Mb,jb,{position:[Ie,Le]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",t6,JR,{size:[Ie,Le]}],b=()=>[y0,Zl,ha],x=()=>["","none","full",m,Ie,Le],L=()=>["",ht,Zl,ha],V=()=>["solid","dashed","dotted","double"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[ht,y0,Mb,jb],Te=()=>["","none",z,Ie,Le],ke=()=>["none",ht,Ie,Le],Je=()=>["none",ht,Ie,Le],$e=()=>[ht,Ie,Le],nt=()=>[So,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$i],breakpoint:[$i],color:[KR],container:[$i],"drop-shadow":[$i],ease:["in","out","in-out"],font:[XR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$i],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$i],shadow:[$i],spacing:["px",ht],text:[$i],"text-shadow":[$i],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",So,Le,Ie,H]}],container:["container"],columns:[{columns:[ht,Le,Ie,h]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:he()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:le()}],"overscroll-x":[{"overscroll-x":le()}],"overscroll-y":[{"overscroll-y":le()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Ns,"auto",Ie,Le]}],basis:[{basis:[So,"full","auto",h,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,So,"auto","initial","none",Le]}],grow:[{grow:["",ht,Ie,Le]}],shrink:[{shrink:["",ht,Ie,Le]}],order:[{order:[Ns,"first","last","none",Ie,Le]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...p(),"normal"]}],"justify-items":[{"justify-items":[...v(),"normal"]}],"justify-self":[{"justify-self":["auto",...v()]}],"align-content":[{content:["normal",...p()]}],"align-items":[{items:[...v(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...v(),{baseline:["","last"]}]}],"place-content":[{"place-content":p()}],"place-items":[{"place-items":[...v(),"baseline"]}],"place-self":[{"place-self":["auto",...v()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:N()}],w:[{w:[h,"screen",...N()]}],"min-w":[{"min-w":[h,"screen","none",...N()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...N()]}],h:[{h:["screen","lh",...N()]}],"min-h":[{"min-h":["screen","lh","none",...N()]}],"max-h":[{"max-h":["screen","lh",...N()]}],"font-size":[{text:["base",r,Zl,ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ie,b0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",y0,Le]}],"font-family":[{font:[e6,Le,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,Le]}],"line-clamp":[{"line-clamp":[ht,"none",Ie,b0]}],leading:[{leading:[l,...D()]}],"list-image":[{"list-image":["none",Ie,Le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",Ie,ha]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[ht,"auto",Ie,Le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ns,Ie,Le],radial:["",Ie,Le],conic:[Ns,Ie,Le]},n6,QR]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:b()}],"gradient-via-pos":[{via:b()}],"gradient-to-pos":[{to:b()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:x()}],"rounded-s":[{"rounded-s":x()}],"rounded-e":[{"rounded-e":x()}],"rounded-t":[{"rounded-t":x()}],"rounded-r":[{"rounded-r":x()}],"rounded-b":[{"rounded-b":x()}],"rounded-l":[{"rounded-l":x()}],"rounded-ss":[{"rounded-ss":x()}],"rounded-se":[{"rounded-se":x()}],"rounded-ee":[{"rounded-ee":x()}],"rounded-es":[{"rounded-es":x()}],"rounded-tl":[{"rounded-tl":x()}],"rounded-tr":[{"rounded-tr":x()}],"rounded-br":[{"rounded-br":x()}],"rounded-bl":[{"rounded-bl":x()}],"border-w":[{border:L()}],"border-w-x":[{"border-x":L()}],"border-w-y":[{"border-y":L()}],"border-w-s":[{"border-s":L()}],"border-w-e":[{"border-e":L()}],"border-w-t":[{"border-t":L()}],"border-w-r":[{"border-r":L()}],"border-w-b":[{"border-b":L()}],"border-w-l":[{"border-l":L()}],"divide-x":[{"divide-x":L()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":L()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,Ie,Le]}],"outline-w":[{outline:["",ht,Zl,ha]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",g,Vu,Gu]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",S,Vu,Gu]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[ht,ha]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":L()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",k,Vu,Gu]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[ht,Ie,Le]}],"mix-blend":[{"mix-blend":[...te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Ie,Le]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ne()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Le]}],filter:[{filter:["","none",Ie,Le]}],blur:[{blur:Te()}],brightness:[{brightness:[ht,Ie,Le]}],contrast:[{contrast:[ht,Ie,Le]}],"drop-shadow":[{"drop-shadow":["","none",j,Vu,Gu]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",ht,Ie,Le]}],"hue-rotate":[{"hue-rotate":[ht,Ie,Le]}],invert:[{invert:["",ht,Ie,Le]}],saturate:[{saturate:[ht,Ie,Le]}],sepia:[{sepia:["",ht,Ie,Le]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Le]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[ht,Ie,Le]}],"backdrop-contrast":[{"backdrop-contrast":[ht,Ie,Le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,Ie,Le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,Ie,Le]}],"backdrop-invert":[{"backdrop-invert":["",ht,Ie,Le]}],"backdrop-opacity":[{"backdrop-opacity":[ht,Ie,Le]}],"backdrop-saturate":[{"backdrop-saturate":[ht,Ie,Le]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,Ie,Le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",Ie,Le]}],ease:[{ease:["linear","initial",X,Ie,Le]}],delay:[{delay:[ht,Ie,Le]}],animate:[{animate:["none",P,Ie,Le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[$,Ie,Le]}],"perspective-origin":[{"perspective-origin":he()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:Je()}],"scale-x":[{"scale-x":Je()}],"scale-y":[{"scale-y":Je()}],"scale-z":[{"scale-z":Je()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ie,Le,"","none","gpu","cpu"]}],"transform-origin":[{origin:he()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:nt()}],"translate-x":[{"translate-x":nt()}],"translate-y":[{"translate-y":nt()}],"translate-z":[{"translate-z":nt()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Le]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[ht,Zl,ha,b0]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},a6=zR(s6);function bi(...n){return a6(_w(n))}const o6=Sw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-xs":"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function mt({className:n,variant:e="default",size:r="default",asChild:s=!1,...a}){const l=s?Aw:"button";return w.jsx(l,{"data-slot":"button","data-variant":e,"data-size":r,className:bi(o6({variant:e,size:r,className:n})),...a})}function Fn({className:n,...e}){return w.jsx("div",{"data-slot":"card",className:bi("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function zr({className:n,...e}){return w.jsx("div",{"data-slot":"card-header",className:bi("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function qr({className:n,...e}){return w.jsx("div",{"data-slot":"card-title",className:bi("leading-none font-semibold",n),...e})}function Qi({className:n,...e}){return w.jsx("div",{"data-slot":"card-description",className:bi("text-muted-foreground text-sm",n),...e})}function Gn({className:n,...e}){return w.jsx("div",{"data-slot":"card-content",className:bi("px-6",n),...e})}const l6=Sw("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function pi({className:n,variant:e="default",asChild:r=!1,...s}){const a=r?Aw:"span";return w.jsx(a,{"data-slot":"badge","data-variant":e,className:bi(l6({variant:e}),n),...s})}function xr({className:n,orientation:e="horizontal",decorative:r=!0,...s}){return w.jsx(bR,{"data-slot":"separator",decorative:r,orientation:e,className:bi("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...s})}const $w=(...n)=>n.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();const c6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const u6=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase());const Ub=n=>{const e=u6(n);return e.charAt(0).toUpperCase()+e.slice(1)};var f6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h6=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const d6=ue.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},f)=>ue.createElement("svg",{ref:f,...f6,width:e,height:e,stroke:n,strokeWidth:s?Number(r)*24/Number(e):r,className:$w("lucide",a),...!l&&!h6(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,g])=>ue.createElement(m,g)),...Array.isArray(l)?l:[l]]));const pt=(n,e)=>{const r=ue.forwardRef(({className:s,...a},l)=>ue.createElement(d6,{ref:l,iconNode:e,className:$w(`lucide-${c6(Ub(n))}`,`lucide-${n}`,s),...a}));return r.displayName=Ub(n),r};const m6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Dm=pt("arrow-left",m6);const p6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lb=pt("arrow-right",p6);const g6=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fs=pt("ban",g6);const y6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ib=pt("bell",y6);const b6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],v6=pt("chart-column",b6);const w6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hw=pt("circle-alert",w6);const x6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],mf=pt("circle-check",x6);const _6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],S6=pt("circle-x",_6);const E6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],om=pt("clock",E6);const A6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],R6=pt("credit-card",A6);const k6=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Pw=pt("crown",k6);const T6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],N6=pt("download",T6);const B6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lm=pt("external-link",B6);const C6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fw=pt("eye-off",C6);const O6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gw=pt("eye",O6);const j6=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],M6=pt("flame",j6);const U6=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],cm=pt("ghost",U6);const L6=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],I6=pt("infinity",L6);const D6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Db=pt("layout-dashboard",D6);const z6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sa=pt("loader-circle",z6);const q6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pf=pt("log-out",q6);const $6=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],gf=pt("medal",$6);const H6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Vw=pt("menu",H6);const P6=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],F6=pt("party-popper",P6);const G6=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],V6=pt("qr-code",G6);const K6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Kw=pt("refresh-cw",K6);const Y6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zb=pt("settings",Y6);const W6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Z6=pt("share-2",W6);const X6=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],J6=pt("shield-off",X6);const Q6=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ek=pt("smartphone",Q6);const tk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],um=pt("sparkles",tk);const nk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rk=pt("star",nk);const ik=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fm=pt("trending-up",ik);const sk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ak=pt("triangle-alert",sk);const ok=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Xr=pt("trophy",ok);const lk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xl=pt("user",lk);const ck=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yw=pt("x",ck);const uk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hm=pt("zap",uk);function Ww(){const[n,e]=ue.useState(!1),r=Vs(),s=yc(),{isLoggedIn:a,logout:l}=wc(),u=async()=>{await l(),e(!1),s("/")},h=f=>r.pathname===f;return w.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 border-b border-white/5 bg-background/80 backdrop-blur-xl",children:[w.jsxs("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6",children:[w.jsxs(Mt,{to:"/",className:"flex items-center gap-2 group flex-shrink-0",onClick:()=>e(!1),children:[w.jsx("div",{className:"relative flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-violet-600 to-fuchsia-500 shadow-lg shadow-violet-500/25 transition-transform duration-300 group-hover:scale-110",children:w.jsx(Fs,{className:"h-5 w-5 text-white"})}),w.jsxs("span",{className:"text-lg font-bold tracking-tight",children:["Sub",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:"ForNothing"})]})]}),w.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[w.jsx(Mt,{to:"/leaderboard",children:w.jsxs(mt,{variant:"ghost",className:`transition-colors cursor-pointer gap-2 ${h("/leaderboard")?"text-yellow-400":"text-muted-foreground hover:text-yellow-400"}`,children:[w.jsx(Xr,{className:"h-4 w-4"}),"Leaderboard"]})}),a?w.jsxs(w.Fragment,{children:[w.jsx(Mt,{to:"/dashboard",children:w.jsxs(mt,{variant:"ghost",className:`transition-colors cursor-pointer gap-2 ${h("/dashboard")?"text-violet-400":"text-muted-foreground hover:text-foreground"}`,children:[w.jsx(Db,{className:"h-4 w-4"}),"Dashboard"]})}),w.jsxs(mt,{variant:"ghost",onClick:u,className:"text-muted-foreground hover:text-red-400 transition-colors cursor-pointer gap-2",children:[w.jsx(pf,{className:"h-4 w-4"}),"Logout"]})]}):w.jsxs(w.Fragment,{children:[w.jsx(Mt,{to:"/login",children:w.jsx(mt,{variant:"ghost",className:"text-muted-foreground hover:text-foreground transition-colors cursor-pointer",children:"Log In"})}),w.jsx(Mt,{to:"/signup",children:w.jsx(mt,{className:"bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-500 hover:to-fuchsia-400 text-white shadow-lg shadow-violet-500/25 transition-all duration-300 hover:shadow-violet-500/40 cursor-pointer",children:"Subscribe to Nothing"})})]})]}),w.jsx("button",{onClick:()=>e(!n),className:"md:hidden flex h-10 w-10 items-center justify-center rounded-lg text-muted-foreground hover:text-foreground hover:bg-white/5 transition-all cursor-pointer","aria-label":"Toggle menu",children:n?w.jsx(Yw,{className:"h-5 w-5"}):w.jsx(Vw,{className:"h-5 w-5"})})]}),n&&w.jsx("div",{className:"md:hidden border-t border-white/5 bg-background/95 backdrop-blur-xl animate-fade-in",children:w.jsxs("div",{className:"flex flex-col gap-2 p-4",children:[w.jsx(Mt,{to:"/leaderboard",onClick:()=>e(!1),children:w.jsxs(mt,{variant:"ghost",className:`w-full justify-start gap-2 cursor-pointer ${h("/leaderboard")?"text-yellow-400":"text-muted-foreground hover:text-yellow-400"}`,children:[w.jsx(Xr,{className:"h-4 w-4"}),"Leaderboard"]})}),a?w.jsxs(w.Fragment,{children:[w.jsx(Mt,{to:"/dashboard",onClick:()=>e(!1),children:w.jsxs(mt,{variant:"ghost",className:`w-full justify-start gap-2 cursor-pointer ${h("/dashboard")?"text-violet-400":"text-muted-foreground hover:text-foreground"}`,children:[w.jsx(Db,{className:"h-4 w-4"}),"Dashboard"]})}),w.jsxs(mt,{variant:"ghost",onClick:u,className:"w-full justify-start gap-2 text-muted-foreground hover:text-red-400 cursor-pointer",children:[w.jsx(pf,{className:"h-4 w-4"}),"Logout"]})]}):w.jsxs(w.Fragment,{children:[w.jsx(Mt,{to:"/login",onClick:()=>e(!1),children:w.jsx(mt,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-foreground cursor-pointer",children:"Log In"})}),w.jsx(Mt,{to:"/signup",onClick:()=>e(!1),children:w.jsx(mt,{className:"w-full bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-500 hover:to-fuchsia-400 text-white shadow-lg shadow-violet-500/25 cursor-pointer",children:"Subscribe to Nothing"})})]})]})})]})}const fk=[{icon:Fs,title:"Absolutely Nothing",description:"Get access to our premium suite of nothing. Zero features, zero value, zero regrets."},{icon:cm,title:"Invisible Dashboard",description:"A beautifully designed empty dashboard. It does nothing  but it looks great doing it."},{icon:J6,title:"No Security",description:"We don't protect your data because we don't collect any. Privacy through apathy."},{icon:om,title:"24/7 No Support",description:"Our support team doesn't exist. But if they did, they'd be unavailable around the clock."},{icon:hm,title:"Lightning Fast Nothing",description:"Our servers deliver nothing at blazing speeds. Sub-millisecond emptiness."},{icon:um,title:"AI-Powered Void",description:"We trained a model on nothing. It learned nothing. Now it does nothing. Groundbreaking."}],hk=[{name:"Chad Entrepreneur",role:"CEO of Nothing Inc.",quote:"I've been subscribed for 6 months and I've gotten exactly what was promised. Nothing. 10/10.",stars:5},{name:"Karen Reviews",role:"Professional Subscriber",quote:"I demanded to speak to the manager about getting nothing. They confirmed I'm getting everything I paid for.",stars:5},{name:"Dave Broke",role:"Financial Advisor",quote:"As a financial advisor, I can confirm this is the worst investment I've ever made. I love it.",stars:5}];function dk(){const[n,e]=ue.useState(0),[r,s]=ue.useState(0);return ue.useEffect(()=>{(async()=>{try{const{count:l}=await Yr.from("profiles").select("*",{count:"exact",head:!0}).eq("has_paid",!0);l!==null&&e(l);const{data:u}=await Yr.from("profiles").select("total_sent").gt("total_sent",0);if(u){const h=u.reduce((f,m)=>f+(Number(m.total_sent)||0),0);s(h)}}catch(l){console.warn("[LandingPage] Failed to fetch stats:",l)}})()},[]),w.jsxs("div",{className:"min-h-screen",children:[w.jsx(Ww,{}),w.jsxs("section",{className:"relative flex min-h-screen items-center justify-center overflow-hidden px-4 sm:px-6 pt-24 sm:pt-32",children:[w.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[w.jsx("div",{className:"absolute top-1/4 left-1/4 h-[300px] w-[300px] sm:h-[500px] sm:w-[500px] rounded-full bg-violet-600/20 blur-[120px] animate-pulse"}),w.jsx("div",{className:"absolute bottom-1/4 right-1/4 h-[250px] w-[250px] sm:h-[400px] sm:w-[400px] rounded-full bg-fuchsia-600/15 blur-[100px] animate-pulse [animation-delay:1s]"}),w.jsx("div",{className:"absolute top-1/2 left-1/2 h-[200px] w-[200px] sm:h-[300px] sm:w-[300px] -translate-x-1/2 -translate-y-1/2 rounded-full bg-purple-600/10 blur-[80px] animate-pulse [animation-delay:2s]"}),w.jsx("div",{className:"hidden md:block absolute bottom-0 left-0 right-0 h-48 bg-gradient-to-b from-transparent to-background"})]}),w.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:64px_64px]"}),w.jsx("div",{className:"hidden md:block pointer-events-none absolute bottom-0 left-0 right-0 h-48 bg-gradient-to-b from-transparent to-background z-[1]"}),w.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl text-center",children:[w.jsxs("h1",{className:"mb-4 sm:mb-6 text-3xl sm:text-5xl lg:text-7xl font-extrabold leading-tight tracking-tight",children:["Pay"," ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 via-fuchsia-400 to-pink-400",children:"any amount"}),w.jsx("br",{}),"for a"," ",w.jsxs("span",{className:"relative inline-block",children:[w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-400 to-violet-400",children:"lifetime of nothing."}),w.jsx("span",{className:"absolute -bottom-1 sm:-bottom-2 left-0 right-0 h-0.5 sm:h-1 bg-gradient-to-r from-violet-500 to-fuchsia-500 rounded-full opacity-60"})]})]}),w.jsxs("p",{className:"mx-auto mb-8 sm:mb-10 max-w-2xl text-sm sm:text-lg lg:text-xl text-muted-foreground leading-relaxed px-2",children:["The world's first premium"," ",w.jsx("span",{className:"text-foreground font-medium",children:"lifetime subscription"})," that delivers nothing  forever. Send SOL, USDC, or USDT. The more you send, the higher you rank on our"," ",w.jsx(Mt,{to:"/leaderboard",className:"text-violet-400 hover:text-violet-300 underline underline-offset-2",children:"leaderboard of shame"}),"."]}),w.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4 sm:flex-row sm:justify-center px-4 sm:px-0",children:[w.jsx(Mt,{to:"/signup",className:"w-full sm:w-auto",children:w.jsxs(mt,{size:"lg",className:"group w-full sm:w-auto h-12 sm:h-14 px-6 sm:px-8 text-base sm:text-lg bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-500 hover:to-fuchsia-400 text-white shadow-2xl shadow-violet-500/25 transition-all duration-300 hover:shadow-violet-500/40 hover:scale-105 cursor-pointer",children:["Get Nothing Forever",w.jsx(Lb,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5 transition-transform group-hover:translate-x-1"})]})}),w.jsx(Mt,{to:"/leaderboard",className:"w-full sm:w-auto",children:w.jsxs(mt,{size:"lg",variant:"outline",className:"group w-full sm:w-auto h-12 sm:h-14 px-6 sm:px-8 text-base sm:text-lg border-white/10 hover:border-yellow-500/30 hover:bg-yellow-500/5 transition-all cursor-pointer",children:[w.jsx(Xr,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 text-yellow-400"}),"View Leaderboard"]})})]}),w.jsx("p",{className:"mt-4 text-xs sm:text-sm text-muted-foreground px-4",children:"Minimum $10 in SOL, USDC, or USDT. No free trial  why would we give away nothing for free?"}),w.jsxs("div",{className:"mt-10 sm:mt-16 flex items-center justify-center gap-4 sm:gap-8 text-muted-foreground",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"0"}),w.jsx("p",{className:"text-xs sm:text-sm",children:"Features"})]}),w.jsx(xr,{orientation:"vertical",className:"h-8 sm:h-12 bg-white/10"}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:n.toLocaleString()}),w.jsx("p",{className:"text-xs sm:text-sm",children:"Lifetime Subs"})]}),w.jsx(xr,{orientation:"vertical",className:"h-8 sm:h-12 bg-white/10"}),w.jsxs("div",{className:"text-center",children:[w.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:["$",r.toLocaleString()]}),w.jsx("p",{className:"text-xs sm:text-sm",children:"Total Wasted"})]})]})]})]}),w.jsx("section",{className:"relative py-16 sm:py-32 px-4 sm:px-6",children:w.jsxs("div",{className:"mx-auto max-w-7xl",children:[w.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[w.jsx(pi,{variant:"outline",className:"mb-4 border-violet-500/30 bg-violet-500/10 text-violet-300 px-3 py-1 text-xs",children:"Features (or lack thereof)"}),w.jsxs("h2",{className:"text-2xl sm:text-4xl lg:text-5xl font-bold tracking-tight mb-4",children:["Everything you"," ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:"won't"})," ","get"]}),w.jsx("p",{className:"text-muted-foreground text-sm sm:text-lg max-w-2xl mx-auto px-4",children:"We've spent years perfecting the art of delivering nothing. Here's what you're not getting."})]}),w.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:fk.map((a,l)=>w.jsxs(Fn,{className:"group relative border-white/5 bg-white/[0.02] backdrop-blur-sm transition-all duration-500 hover:border-violet-500/20 hover:bg-white/[0.04] hover:-translate-y-1 hover:shadow-2xl hover:shadow-violet-500/5",children:[w.jsxs(zr,{className:"pb-2 sm:pb-4",children:[w.jsx("div",{className:"mb-2 sm:mb-3 flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-xl bg-gradient-to-br from-violet-600/20 to-fuchsia-600/20 ring-1 ring-violet-500/10 transition-all duration-300 group-hover:from-violet-600/30 group-hover:to-fuchsia-600/30 group-hover:ring-violet-500/20",children:w.jsx(a.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 text-violet-400 transition-colors group-hover:text-violet-300"})}),w.jsx(qr,{className:"text-base sm:text-lg",children:a.title})]}),w.jsx(Gn,{children:w.jsx(Qi,{className:"text-muted-foreground leading-relaxed text-xs sm:text-sm",children:a.description})})]},l))})]})}),w.jsxs("section",{className:"relative py-16 sm:py-32 px-4 sm:px-6",children:[w.jsx("div",{className:"pointer-events-none absolute inset-0",children:w.jsx("div",{className:"absolute top-1/2 left-1/2 h-[400px] w-[400px] sm:h-[600px] sm:w-[600px] -translate-x-1/2 -translate-y-1/2 rounded-full bg-violet-600/10 blur-[150px]"})}),w.jsxs("div",{className:"relative z-10 mx-auto max-w-lg",children:[w.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[w.jsx(pi,{variant:"outline",className:"mb-4 border-violet-500/30 bg-violet-500/10 text-violet-300 px-3 py-1 text-xs",children:"Lifetime Pricing"}),w.jsxs("h2",{className:"text-2xl sm:text-4xl lg:text-5xl font-bold tracking-tight mb-4",children:["One lifetime. Any price."," ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:"Zero value."})]}),w.jsx("p",{className:"text-muted-foreground text-sm sm:text-base px-2",children:"Pay what you want (min $10). The more you pay, the higher you rank. It's competitive nothingness."})]}),w.jsxs(Fn,{className:"relative overflow-hidden border-violet-500/20 bg-white/[0.03] backdrop-blur-sm shadow-2xl shadow-violet-500/10",children:[w.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-b from-violet-500/10 to-transparent pointer-events-none"}),w.jsxs(zr,{className:"text-center pb-2 relative",children:[w.jsx(pi,{className:"mx-auto mb-4 bg-gradient-to-r from-violet-600 to-fuchsia-500 text-white border-0 text-xs",children:"Most Pointless"}),w.jsx(qr,{className:"text-xl sm:text-2xl",children:"The Nothing Plan"}),w.jsxs("div",{className:"mt-4 flex items-baseline justify-center gap-1",children:[w.jsx("span",{className:"text-5xl sm:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:"$10+"}),w.jsx("span",{className:"text-muted-foreground text-sm",children:"/lifetime"})]}),w.jsx(Qi,{className:"mt-2 text-xs sm:text-sm",children:"Send any amount in SOL, USDC, or USDT. Your wallet. Your choice. Your loss."})]}),w.jsxs(Gn,{className:"relative",children:[w.jsx(xr,{className:"my-4 sm:my-6 bg-white/5"}),w.jsx("ul",{className:"space-y-3 sm:space-y-4 mb-6 sm:mb-8",children:["Lifetime access to absolutely nothing","Climb the leaderboard of shame","Empty dashboard with premium vibes","No customer support whatsoever","Zero updates, ever","Bragging rights to your friends","A receipt proving your terrible judgment","Unlimited access to the void  forever"].map((a,l)=>w.jsxs("li",{className:"flex items-start gap-2 sm:gap-3",children:[w.jsx(mf,{className:"mt-0.5 h-4 w-4 sm:h-5 sm:w-5 text-violet-400 flex-shrink-0"}),w.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:a})]},l))}),w.jsx(Mt,{to:"/signup",className:"block",children:w.jsx(mt,{size:"lg",className:"w-full h-12 sm:h-13 text-base sm:text-lg bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-500 hover:to-fuchsia-400 text-white shadow-lg shadow-violet-500/25 transition-all duration-300 hover:shadow-violet-500/40 cursor-pointer",children:"Subscribe to Nothing Forever"})}),w.jsx("p",{className:"mt-4 text-center text-[10px] sm:text-xs text-muted-foreground",children:"No refunds. You knew what you were getting into. Don't forget to resubscribe every lifetime."})]})]})]})]}),w.jsx("section",{className:"py-16 sm:py-32 px-4 sm:px-6",children:w.jsxs("div",{className:"mx-auto max-w-7xl",children:[w.jsxs("div",{className:"text-center mb-10 sm:mb-16",children:[w.jsx(pi,{variant:"outline",className:"mb-4 border-violet-500/30 bg-violet-500/10 text-violet-300 px-3 py-1 text-xs",children:"Testimonials"}),w.jsxs("h2",{className:"text-2xl sm:text-4xl lg:text-5xl font-bold tracking-tight mb-4",children:["What our subscribers"," ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:"aren't"})," ","saying"]})]}),w.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:hk.map((a,l)=>w.jsx(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-sm transition-all duration-300 hover:border-violet-500/10",children:w.jsxs(Gn,{className:"pt-5 sm:pt-6",children:[w.jsx("div",{className:"mb-3 sm:mb-4 flex gap-0.5",children:Array.from({length:a.stars}).map((u,h)=>w.jsx(rk,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 fill-violet-400 text-violet-400"},h))}),w.jsxs("p",{className:"mb-4 sm:mb-6 text-muted-foreground italic leading-relaxed text-xs sm:text-sm",children:['"',a.quote,'"']}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:a.name}),w.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:a.role})]})]})},l))})]})}),w.jsxs("section",{className:"relative py-16 sm:py-32 px-4 sm:px-6",children:[w.jsx("div",{className:"pointer-events-none absolute inset-0",children:w.jsx("div",{className:"absolute bottom-0 left-1/2 h-[300px] w-[500px] sm:h-[400px] sm:w-[800px] -translate-x-1/2 rounded-full bg-violet-600/10 blur-[150px]"})}),w.jsxs("div",{className:"relative z-10 mx-auto max-w-2xl text-center",children:[w.jsx("div",{className:"inline-flex h-16 w-16 sm:h-20 sm:w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-violet-600/20 to-fuchsia-600/20 ring-1 ring-violet-500/20 mb-6 sm:mb-8",children:w.jsx(I6,{className:"h-8 w-8 sm:h-10 sm:w-10 text-violet-400"})}),w.jsxs("h2",{className:"text-2xl sm:text-4xl lg:text-5xl font-bold tracking-tight mb-4 sm:mb-6",children:["Ready to get"," ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:"nothing forever"}),"?"]}),w.jsxs("p",{className:"text-sm sm:text-lg text-muted-foreground mb-8 sm:mb-10 leading-relaxed px-4",children:["Join the fastest-growing community of people paying for absolutely nothing. Don't miss out on what everyone else is missing out on. And don't forget to"," ",w.jsx("span",{className:"text-foreground font-medium",children:"resubscribe every lifetime"}),"."]}),w.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4 sm:flex-row sm:justify-center px-4 sm:px-0",children:[w.jsx(Mt,{to:"/signup",className:"w-full sm:w-auto",children:w.jsxs(mt,{size:"lg",className:"group w-full sm:w-auto h-12 sm:h-14 px-8 sm:px-10 text-base sm:text-lg bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-500 hover:to-fuchsia-400 text-white shadow-2xl shadow-violet-500/25 transition-all duration-300 hover:shadow-violet-500/40 hover:scale-105 cursor-pointer",children:["Waste Money Forever",w.jsx(Lb,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5 transition-transform group-hover:translate-x-1"})]})}),w.jsx(Mt,{to:"/leaderboard",className:"w-full sm:w-auto",children:w.jsxs(mt,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-12 sm:h-14 px-6 sm:px-8 text-base sm:text-lg border-white/10 hover:border-yellow-500/30 hover:bg-yellow-500/5 transition-all cursor-pointer",children:[w.jsx(Xr,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5 text-yellow-400"}),"Leaderboard"]})})]})]})]}),w.jsx("footer",{className:"border-t border-white/5 py-8 sm:py-12 px-4 sm:px-6",children:w.jsxs("div",{className:"mx-auto max-w-7xl flex flex-col items-center justify-between gap-3 sm:gap-4 sm:flex-row",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-md bg-gradient-to-br from-violet-600 to-fuchsia-500",children:w.jsx(Fs,{className:"h-4 w-4 text-white"})}),w.jsx("span",{className:"text-sm font-semibold",children:"SubForNothing"})]}),w.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground text-center",children:[" ",new Date().getFullYear()," SubForNothing. No rights reserved because there is nothing to copyright."]})]})})]})}function qs({className:n,type:e,...r}){return w.jsx("input",{type:e,"data-slot":"input",className:bi("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...r})}function hi({className:n,...e}){return w.jsx(mR,{"data-slot":"label",className:bi("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function mk(){const n=yc(),{login:e,isLoggedIn:r}=wc(),[s,a]=ue.useState(""),[l,u]=ue.useState(""),[h,f]=ue.useState(!1),[m,g]=ue.useState(!1),[S,k]=ue.useState(""),j=async z=>{z.preventDefault(),k(""),g(!0);const $=await e(s,l);if($.error){k($.error),g(!1);return}g(!1),n("/dashboard")};return r?w.jsx("div",{className:"relative flex min-h-screen items-center justify-center px-4 sm:px-6 py-8",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h2",{className:"text-xl font-bold mb-2",children:"You're already logged in!"}),w.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Head to the dashboard to see your nothing."}),w.jsx(Mt,{to:"/dashboard",children:w.jsx(mt,{className:"bg-gradient-to-r from-violet-600 to-fuchsia-500 text-white cursor-pointer",children:"Go to Dashboard"})})]})}):w.jsxs("div",{className:"relative flex min-h-screen items-center justify-center px-4 sm:px-6 py-8 sm:py-12",children:[w.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[w.jsx("div",{className:"absolute top-1/3 left-1/3 h-[250px] w-[250px] sm:h-[400px] sm:w-[400px] rounded-full bg-violet-600/15 blur-[120px] animate-pulse"}),w.jsx("div",{className:"absolute bottom-1/3 right-1/3 h-[200px] w-[200px] sm:h-[300px] sm:w-[300px] rounded-full bg-fuchsia-600/10 blur-[100px] animate-pulse [animation-delay:1s]"})]}),w.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.015)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.015)_1px,transparent_1px)] bg-[size:64px_64px]"}),w.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[w.jsxs(Mt,{to:"/",className:"mb-6 sm:mb-8 inline-flex items-center gap-2 text-xs sm:text-sm text-muted-foreground hover:text-foreground transition-colors group",children:[w.jsx(Dm,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 transition-transform group-hover:-translate-x-1"}),"Back to nothing"]}),w.jsxs(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-xl shadow-2xl shadow-violet-500/5",children:[w.jsxs(zr,{className:"text-center pb-2 px-4 sm:px-6",children:[w.jsx("div",{className:"mx-auto mb-3 sm:mb-4 flex h-12 w-12 sm:h-14 sm:w-14 items-center justify-center rounded-xl bg-gradient-to-br from-violet-600 to-fuchsia-500 shadow-lg shadow-violet-500/25",children:w.jsx(Fs,{className:"h-6 w-6 sm:h-7 sm:w-7 text-white"})}),w.jsx(qr,{className:"text-xl sm:text-2xl font-bold",children:"Welcome back to nothing"}),w.jsx(Qi,{className:"text-xs sm:text-sm text-muted-foreground",children:"Log in to access your premium nothing experience"})]}),w.jsxs(Gn,{className:"px-4 sm:px-6",children:[S&&w.jsxs("div",{className:"mb-4 rounded-lg bg-red-500/10 border border-red-500/20 p-3 flex items-start gap-2",children:[w.jsx(Hw,{className:"h-4 w-4 text-red-400 flex-shrink-0 mt-0.5"}),w.jsx("p",{className:"text-xs text-red-300",children:S})]}),w.jsxs("form",{onSubmit:j,className:"space-y-4 sm:space-y-5",children:[w.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[w.jsx(hi,{htmlFor:"email",className:"text-xs sm:text-sm font-medium",children:"Email"}),w.jsx(qs,{id:"email",type:"email",placeholder:"waster@money.com",value:s,onChange:z=>a(z.target.value),required:!0,className:"h-10 sm:h-11 text-sm border-white/10 bg-white/[0.03] placeholder:text-muted-foreground/50 focus-visible:ring-violet-500/30 focus-visible:border-violet-500/30 transition-all"})]}),w.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx(hi,{htmlFor:"password",className:"text-xs sm:text-sm font-medium",children:"Password"}),w.jsx("span",{className:"text-[10px] sm:text-xs text-violet-400/60",children:"Forgot? (We also forgot)"})]}),w.jsxs("div",{className:"relative",children:[w.jsx(qs,{id:"password",type:h?"text":"password",placeholder:"",value:l,onChange:z=>u(z.target.value),required:!0,className:"h-10 sm:h-11 text-sm pr-10 border-white/10 bg-white/[0.03] placeholder:text-muted-foreground/50 focus-visible:ring-violet-500/30 focus-visible:border-violet-500/30 transition-all"}),w.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:h?w.jsx(Fw,{className:"h-4 w-4"}):w.jsx(Gw,{className:"h-4 w-4"})})]})]}),w.jsx(mt,{type:"submit",disabled:m,className:"w-full h-10 sm:h-11 text-sm sm:text-base bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-500 hover:to-fuchsia-400 text-white shadow-lg shadow-violet-500/25 transition-all duration-300 hover:shadow-violet-500/40 cursor-pointer disabled:opacity-50",children:m?w.jsxs(w.Fragment,{children:[w.jsx(Sa,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging into the void..."]}):"Log In to Nothing"})]}),w.jsx(xr,{className:"my-4 sm:my-6 bg-white/5"}),w.jsx("div",{className:"text-center",children:w.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Don't have an account?"," ",w.jsx(Mt,{to:"/signup",className:"font-medium text-violet-400 hover:text-violet-300 transition-colors",children:"Sign up for nothing"})]})})]})]}),w.jsx("p",{className:"mt-4 sm:mt-6 text-center text-[10px] sm:text-xs text-muted-foreground/50 px-4",children:"By logging in, you agree to continue receiving nothing."})]})]})}var pk=Object.defineProperty,yf=Object.getOwnPropertySymbols,Zw=Object.prototype.hasOwnProperty,Xw=Object.prototype.propertyIsEnumerable,qb=(n,e,r)=>e in n?pk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,dm=(n,e)=>{for(var r in e||(e={}))Zw.call(e,r)&&qb(n,r,e[r]);if(yf)for(var r of yf(e))Xw.call(e,r)&&qb(n,r,e[r]);return n},mm=(n,e)=>{var r={};for(var s in n)Zw.call(n,s)&&e.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&yf)for(var s of yf(n))e.indexOf(s)<0&&Xw.call(n,s)&&(r[s]=n[s]);return r};var Ea;(n=>{const e=class bt{constructor(f,m,g,S){if(this.version=f,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],f<bt.MIN_VERSION||f>bt.MAX_VERSION)throw new RangeError("Version value out of range");if(S<-1||S>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let k=[];for(let z=0;z<this.size;z++)k.push(!1);for(let z=0;z<this.size;z++)this.modules.push(k.slice()),this.isFunction.push(k.slice());this.drawFunctionPatterns();const j=this.addEccAndInterleave(g);if(this.drawCodewords(j),S==-1){let z=1e9;for(let $=0;$<8;$++){this.applyMask($),this.drawFormatBits($);const H=this.getPenaltyScore();H<z&&(S=$,z=H),this.applyMask($)}}a(0<=S&&S<=7),this.mask=S,this.applyMask(S),this.drawFormatBits(S),this.isFunction=[]}static encodeText(f,m){const g=n.QrSegment.makeSegments(f);return bt.encodeSegments(g,m)}static encodeBinary(f,m){const g=n.QrSegment.makeBytes(f);return bt.encodeSegments([g],m)}static encodeSegments(f,m,g=1,S=40,k=-1,j=!0){if(!(bt.MIN_VERSION<=g&&g<=S&&S<=bt.MAX_VERSION)||k<-1||k>7)throw new RangeError("Invalid value");let z,$;for(z=g;;z++){const F=bt.getNumDataCodewords(z,m)*8,ne=u.getTotalBits(f,z);if(ne<=F){$=ne;break}if(z>=S)throw new RangeError("Data too long")}for(const F of[bt.Ecc.MEDIUM,bt.Ecc.QUARTILE,bt.Ecc.HIGH])j&&$<=bt.getNumDataCodewords(z,F)*8&&(m=F);let H=[];for(const F of f){r(F.mode.modeBits,4,H),r(F.numChars,F.mode.numCharCountBits(z),H);for(const ne of F.getData())H.push(ne)}a(H.length==$);const X=bt.getNumDataCodewords(z,m)*8;a(H.length<=X),r(0,Math.min(4,X-H.length),H),r(0,(8-H.length%8)%8,H),a(H.length%8==0);for(let F=236;H.length<X;F^=253)r(F,8,H);let P=[];for(;P.length*8<H.length;)P.push(0);return H.forEach((F,ne)=>P[ne>>>3]|=F<<7-(ne&7)),new bt(z,m,P,k)}getModule(f,m){return 0<=f&&f<this.size&&0<=m&&m<this.size&&this.modules[m][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),m=f.length;for(let g=0;g<m;g++)for(let S=0;S<m;S++)g==0&&S==0||g==0&&S==m-1||g==m-1&&S==0||this.drawAlignmentPattern(f[g],f[S]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const m=this.errorCorrectionLevel.formatBits<<3|f;let g=m;for(let k=0;k<10;k++)g=g<<1^(g>>>9)*1335;const S=(m<<10|g)^21522;a(S>>>15==0);for(let k=0;k<=5;k++)this.setFunctionModule(8,k,s(S,k));this.setFunctionModule(8,7,s(S,6)),this.setFunctionModule(8,8,s(S,7)),this.setFunctionModule(7,8,s(S,8));for(let k=9;k<15;k++)this.setFunctionModule(14-k,8,s(S,k));for(let k=0;k<8;k++)this.setFunctionModule(this.size-1-k,8,s(S,k));for(let k=8;k<15;k++)this.setFunctionModule(8,this.size-15+k,s(S,k));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let g=0;g<12;g++)f=f<<1^(f>>>11)*7973;const m=this.version<<12|f;a(m>>>18==0);for(let g=0;g<18;g++){const S=s(m,g),k=this.size-11+g%3,j=Math.floor(g/3);this.setFunctionModule(k,j,S),this.setFunctionModule(j,k,S)}}drawFinderPattern(f,m){for(let g=-4;g<=4;g++)for(let S=-4;S<=4;S++){const k=Math.max(Math.abs(S),Math.abs(g)),j=f+S,z=m+g;0<=j&&j<this.size&&0<=z&&z<this.size&&this.setFunctionModule(j,z,k!=2&&k!=4)}}drawAlignmentPattern(f,m){for(let g=-2;g<=2;g++)for(let S=-2;S<=2;S++)this.setFunctionModule(f+S,m+g,Math.max(Math.abs(S),Math.abs(g))!=1)}setFunctionModule(f,m,g){this.modules[m][f]=g,this.isFunction[m][f]=!0}addEccAndInterleave(f){const m=this.version,g=this.errorCorrectionLevel;if(f.length!=bt.getNumDataCodewords(m,g))throw new RangeError("Invalid argument");const S=bt.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][m],k=bt.ECC_CODEWORDS_PER_BLOCK[g.ordinal][m],j=Math.floor(bt.getNumRawDataModules(m)/8),z=S-j%S,$=Math.floor(j/S);let H=[];const X=bt.reedSolomonComputeDivisor(k);for(let F=0,ne=0;F<S;F++){let he=f.slice(ne,ne+$-k+(F<z?0:1));ne+=he.length;const fe=bt.reedSolomonComputeRemainder(he,X);F<z&&he.push(0),H.push(he.concat(fe))}let P=[];for(let F=0;F<H[0].length;F++)H.forEach((ne,he)=>{(F!=$-k||he>=z)&&P.push(ne[F])});return a(P.length==j),P}drawCodewords(f){if(f.length!=Math.floor(bt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let S=0;S<this.size;S++)for(let k=0;k<2;k++){const j=g-k,$=(g+1&2)==0?this.size-1-S:S;!this.isFunction[$][j]&&m<f.length*8&&(this.modules[$][j]=s(f[m>>>3],7-(m&7)),m++)}}a(m==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let g=0;g<this.size;g++){let S;switch(f){case 0:S=(g+m)%2==0;break;case 1:S=m%2==0;break;case 2:S=g%3==0;break;case 3:S=(g+m)%3==0;break;case 4:S=(Math.floor(g/3)+Math.floor(m/2))%2==0;break;case 5:S=g*m%2+g*m%3==0;break;case 6:S=(g*m%2+g*m%3)%2==0;break;case 7:S=((g+m)%2+g*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][g]&&S&&(this.modules[m][g]=!this.modules[m][g])}}getPenaltyScore(){let f=0;for(let k=0;k<this.size;k++){let j=!1,z=0,$=[0,0,0,0,0,0,0];for(let H=0;H<this.size;H++)this.modules[k][H]==j?(z++,z==5?f+=bt.PENALTY_N1:z>5&&f++):(this.finderPenaltyAddHistory(z,$),j||(f+=this.finderPenaltyCountPatterns($)*bt.PENALTY_N3),j=this.modules[k][H],z=1);f+=this.finderPenaltyTerminateAndCount(j,z,$)*bt.PENALTY_N3}for(let k=0;k<this.size;k++){let j=!1,z=0,$=[0,0,0,0,0,0,0];for(let H=0;H<this.size;H++)this.modules[H][k]==j?(z++,z==5?f+=bt.PENALTY_N1:z>5&&f++):(this.finderPenaltyAddHistory(z,$),j||(f+=this.finderPenaltyCountPatterns($)*bt.PENALTY_N3),j=this.modules[H][k],z=1);f+=this.finderPenaltyTerminateAndCount(j,z,$)*bt.PENALTY_N3}for(let k=0;k<this.size-1;k++)for(let j=0;j<this.size-1;j++){const z=this.modules[k][j];z==this.modules[k][j+1]&&z==this.modules[k+1][j]&&z==this.modules[k+1][j+1]&&(f+=bt.PENALTY_N2)}let m=0;for(const k of this.modules)m=k.reduce((j,z)=>j+(z?1:0),m);const g=this.size*this.size,S=Math.ceil(Math.abs(m*20-g*10)/g)-1;return a(0<=S&&S<=9),f+=S*bt.PENALTY_N4,a(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let g=[6];for(let S=this.size-7;g.length<f;S-=m)g.splice(1,0,S);return g}}static getNumRawDataModules(f){if(f<bt.MIN_VERSION||f>bt.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*f+128)*f+64;if(f>=2){const g=Math.floor(f/7)+2;m-=(25*g-10)*g-55,f>=7&&(m-=36)}return a(208<=m&&m<=29648),m}static getNumDataCodewords(f,m){return Math.floor(bt.getNumRawDataModules(f)/8)-bt.ECC_CODEWORDS_PER_BLOCK[m.ordinal][f]*bt.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let m=[];for(let S=0;S<f-1;S++)m.push(0);m.push(1);let g=1;for(let S=0;S<f;S++){for(let k=0;k<m.length;k++)m[k]=bt.reedSolomonMultiply(m[k],g),k+1<m.length&&(m[k]^=m[k+1]);g=bt.reedSolomonMultiply(g,2)}return m}static reedSolomonComputeRemainder(f,m){let g=m.map(S=>0);for(const S of f){const k=S^g.shift();g.push(0),m.forEach((j,z)=>g[z]^=bt.reedSolomonMultiply(j,k))}return g}static reedSolomonMultiply(f,m){if(f>>>8||m>>>8)throw new RangeError("Byte out of range");let g=0;for(let S=7;S>=0;S--)g=g<<1^(g>>>7)*285,g^=(m>>>S&1)*f;return a(g>>>8==0),g}finderPenaltyCountPatterns(f){const m=f[1];a(m<=this.size*3);const g=m>0&&f[2]==m&&f[3]==m*3&&f[4]==m&&f[5]==m;return(g&&f[0]>=m*4&&f[6]>=m?1:0)+(g&&f[6]>=m*4&&f[0]>=m?1:0)}finderPenaltyTerminateAndCount(f,m,g){return f&&(this.finderPenaltyAddHistory(m,g),m=0),m+=this.size,this.finderPenaltyAddHistory(m,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(f,m){m[0]==0&&(f+=this.size),m.pop(),m.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function r(h,f,m){if(f<0||f>31||h>>>f)throw new RangeError("Value out of range");for(let g=f-1;g>=0;g--)m.push(h>>>g&1)}function s(h,f){return(h>>>f&1)!=0}function a(h){if(!h)throw new Error("Assertion error")}const l=class fn{constructor(f,m,g){if(this.mode=f,this.numChars=m,this.bitData=g,m<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(f){let m=[];for(const g of f)r(g,8,m);return new fn(fn.Mode.BYTE,f.length,m)}static makeNumeric(f){if(!fn.isNumeric(f))throw new RangeError("String contains non-numeric characters");let m=[];for(let g=0;g<f.length;){const S=Math.min(f.length-g,3);r(parseInt(f.substring(g,g+S),10),S*3+1,m),g+=S}return new fn(fn.Mode.NUMERIC,f.length,m)}static makeAlphanumeric(f){if(!fn.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],g;for(g=0;g+2<=f.length;g+=2){let S=fn.ALPHANUMERIC_CHARSET.indexOf(f.charAt(g))*45;S+=fn.ALPHANUMERIC_CHARSET.indexOf(f.charAt(g+1)),r(S,11,m)}return g<f.length&&r(fn.ALPHANUMERIC_CHARSET.indexOf(f.charAt(g)),6,m),new fn(fn.Mode.ALPHANUMERIC,f.length,m)}static makeSegments(f){return f==""?[]:fn.isNumeric(f)?[fn.makeNumeric(f)]:fn.isAlphanumeric(f)?[fn.makeAlphanumeric(f)]:[fn.makeBytes(fn.toUtf8ByteArray(f))]}static makeEci(f){let m=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)r(f,8,m);else if(f<16384)r(2,2,m),r(f,14,m);else if(f<1e6)r(6,3,m),r(f,21,m);else throw new RangeError("ECI assignment value out of range");return new fn(fn.Mode.ECI,0,m)}static isNumeric(f){return fn.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return fn.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,m){let g=0;for(const S of f){const k=S.mode.numCharCountBits(m);if(S.numChars>=1<<k)return 1/0;g+=4+k+S.bitData.length}return g}static toUtf8ByteArray(f){f=encodeURI(f);let m=[];for(let g=0;g<f.length;g++)f.charAt(g)!="%"?m.push(f.charCodeAt(g)):(m.push(parseInt(f.substring(g+1,g+3),16)),g+=2);return m}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=l;n.QrSegment=l})(Ea||(Ea={}));(n=>{(e=>{const r=class{constructor(a,l){this.ordinal=a,this.formatBits=l}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(n.QrCode||(n.QrCode={}))})(Ea||(Ea={}));(n=>{(e=>{const r=class{constructor(a,l){this.modeBits=a,this.numBitsCharCount=l}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(n.QrSegment||(n.QrSegment={}))})(Ea||(Ea={}));var Mo=Ea;var gk={L:Mo.QrCode.Ecc.LOW,M:Mo.QrCode.Ecc.MEDIUM,Q:Mo.QrCode.Ecc.QUARTILE,H:Mo.QrCode.Ecc.HIGH},Jw=128,Qw="L",ex="#FFFFFF",tx="#000000",nx=!1,rx=1,yk=4,bk=0,vk=.1;function ix(n,e=0){const r=[];return n.forEach(function(s,a){let l=null;s.forEach(function(u,h){if(!u&&l!==null){r.push(`M${l+e} ${a+e}h${h-l}v1H${l+e}z`),l=null;return}if(h===s.length-1){if(!u)return;l===null?r.push(`M${h+e},${a+e} h1v1H${h+e}z`):r.push(`M${l+e},${a+e} h${h+1-l}v1H${l+e}z`);return}u&&l===null&&(l=h)})}),r.join("")}function sx(n,e){return n.slice().map((r,s)=>s<e.y||s>=e.y+e.h?r:r.map((a,l)=>l<e.x||l>=e.x+e.w?a:!1))}function wk(n,e,r,s){if(s==null)return null;const a=n.length+r*2,l=Math.floor(e*vk),u=a/e,h=(s.width||l)*u,f=(s.height||l)*u,m=s.x==null?n.length/2-h/2:s.x*u,g=s.y==null?n.length/2-f/2:s.y*u,S=s.opacity==null?1:s.opacity;let k=null;if(s.excavate){let z=Math.floor(m),$=Math.floor(g),H=Math.ceil(h+m-z),X=Math.ceil(f+g-$);k={x:z,y:$,w:H,h:X}}const j=s.crossOrigin;return{x:m,y:g,h:f,w:h,excavation:k,opacity:S,crossOrigin:j}}function xk(n,e){return e!=null?Math.max(Math.floor(e),0):n?yk:bk}function ax({value:n,level:e,minVersion:r,includeMargin:s,marginSize:a,imageSettings:l,size:u,boostLevel:h}){let f=Cn.useMemo(()=>{const z=(Array.isArray(n)?n:[n]).reduce(($,H)=>($.push(...Mo.QrSegment.makeSegments(H)),$),[]);return Mo.QrCode.encodeSegments(z,gk[e],r,void 0,void 0,h)},[n,e,r,h]);const{cells:m,margin:g,numCells:S,calculatedImageSettings:k}=Cn.useMemo(()=>{let j=f.getModules();const z=xk(s,a),$=j.length+z*2,H=wk(j,u,z,l);return{cells:j,margin:z,numCells:$,calculatedImageSettings:H}},[f,u,l,s,a]);return{qrcode:f,margin:g,cells:m,numCells:S,calculatedImageSettings:k}}var _k=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Sk=Cn.forwardRef(function(e,r){const s=e,{value:a,size:l=Jw,level:u=Qw,bgColor:h=ex,fgColor:f=tx,includeMargin:m=nx,minVersion:g=rx,boostLevel:S,marginSize:k,imageSettings:j}=s,$=mm(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:H}=$,X=mm($,["style"]),P=j?.src,F=Cn.useRef(null),ne=Cn.useRef(null),he=Cn.useCallback(p=>{F.current=p,typeof r=="function"?r(p):r&&(r.current=p)},[r]),[fe,le]=Cn.useState(!1),{margin:D,cells:M,numCells:q,calculatedImageSettings:W}=ax({value:a,level:u,minVersion:g,boostLevel:S,includeMargin:m,marginSize:k,imageSettings:j,size:l});Cn.useEffect(()=>{if(F.current!=null){const p=F.current,v=p.getContext("2d");if(!v)return;let _=M;const N=ne.current,B=W!=null&&N!==null&&N.complete&&N.naturalHeight!==0&&N.naturalWidth!==0;B&&W.excavation!=null&&(_=sx(M,W.excavation));const G=window.devicePixelRatio||1;p.height=p.width=l*G;const J=l/q*G;v.scale(J,J),v.fillStyle=h,v.fillRect(0,0,q,q),v.fillStyle=f,_k?v.fill(new Path2D(ix(_,D))):M.forEach(function(T,b){T.forEach(function(x,L){x&&v.fillRect(L+D,b+D,1,1)})}),W&&(v.globalAlpha=W.opacity),B&&v.drawImage(N,W.x+D,W.y+D,W.w,W.h)}}),Cn.useEffect(()=>{le(!1)},[P]);const I=dm({height:l,width:l},H);let E=null;return P!=null&&(E=Cn.createElement("img",{src:P,key:P,style:{display:"none"},onLoad:()=>{le(!0)},ref:ne,crossOrigin:W?.crossOrigin})),Cn.createElement(Cn.Fragment,null,Cn.createElement("canvas",dm({style:I,height:l,width:l,ref:he,role:"img"},X)),E)});Sk.displayName="QRCodeCanvas";var ox=Cn.forwardRef(function(e,r){const s=e,{value:a,size:l=Jw,level:u=Qw,bgColor:h=ex,fgColor:f=tx,includeMargin:m=nx,minVersion:g=rx,boostLevel:S,title:k,marginSize:j,imageSettings:z}=s,$=mm(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:H,cells:X,numCells:P,calculatedImageSettings:F}=ax({value:a,level:u,minVersion:g,boostLevel:S,includeMargin:m,marginSize:j,imageSettings:z,size:l});let ne=X,he=null;z!=null&&F!=null&&(F.excavation!=null&&(ne=sx(X,F.excavation)),he=Cn.createElement("image",{href:z.src,height:F.h,width:F.w,x:F.x+H,y:F.y+H,preserveAspectRatio:"none",opacity:F.opacity,crossOrigin:F.crossOrigin}));const fe=ix(ne,H);return Cn.createElement("svg",dm({height:l,width:l,viewBox:`0 0 ${P} ${P}`,ref:r,role:"img"},$),!!k&&Cn.createElement("title",null,k),Cn.createElement("path",{fill:h,d:`M0,0 h${P}v${P}H0z`,shapeRendering:"crispEdges"}),Cn.createElement("path",{fill:f,d:fe,shapeRendering:"crispEdges"}),he)});ox.displayName="QRCodeSVG";const Eo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function xc(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function pm(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Ra(n,...e){if(!xc(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function lx(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");pm(n.outputLen),pm(n.blockLen)}function bf(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Ek(n,e){Ra(n);const r=e.outputLen;if(n.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Po(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function v0(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function ci(n,e){return n<<32-e|n>>>e}const cx=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ak=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function _a(n){if(Ra(n),cx)return n.toHex();let e="";for(let r=0;r<n.length;r++)e+=Ak[n[r]];return e}const Hi={_0:48,_9:57,A:65,F:70,a:97,f:102};function $b(n){if(n>=Hi._0&&n<=Hi._9)return n-Hi._0;if(n>=Hi.A&&n<=Hi.F)return n-(Hi.A-10);if(n>=Hi.a&&n<=Hi.f)return n-(Hi.a-10)}function vf(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(cx)return Uint8Array.fromHex(n);const e=n.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const s=new Uint8Array(r);for(let a=0,l=0;a<r;a++,l+=2){const u=$b(n.charCodeAt(l)),h=$b(n.charCodeAt(l+1));if(u===void 0||h===void 0){const f=n[l]+n[l+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+l)}s[a]=u*16+h}return s}function Rk(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function zm(n){return typeof n=="string"&&(n=Rk(n)),Ra(n),n}function mi(...n){let e=0;for(let s=0;s<n.length;s++){const a=n[s];Ra(a),e+=a.length}const r=new Uint8Array(e);for(let s=0,a=0;s<n.length;s++){const l=n[s];r.set(l,a),a+=l.length}return r}class ux{}function fx(n){const e=s=>n().update(zm(s)).digest(),r=n();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>n(),e}function qm(n=32){if(Eo&&typeof Eo.getRandomValues=="function")return Eo.getRandomValues(new Uint8Array(n));if(Eo&&typeof Eo.randomBytes=="function")return Uint8Array.from(Eo.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function kk(n,e,r,s){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,r,s);const a=BigInt(32),l=BigInt(4294967295),u=Number(r>>a&l),h=Number(r&l),f=s?4:0,m=s?0:4;n.setUint32(e+f,u,s),n.setUint32(e+m,h,s)}function Tk(n,e,r){return n&e^~n&r}function Nk(n,e,r){return n&e^n&r^e&r}class hx extends ux{constructor(e,r,s,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=s,this.isLE=a,this.buffer=new Uint8Array(e),this.view=v0(this.buffer)}update(e){bf(this),e=zm(e),Ra(e);const{view:r,buffer:s,blockLen:a}=this,l=e.length;for(let u=0;u<l;){const h=Math.min(a-this.pos,l-u);if(h===a){const f=v0(e);for(;a<=l-u;u+=a)this.process(f,u);continue}s.set(e.subarray(u,u+h),this.pos),this.pos+=h,u+=h,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){bf(this),Ek(e,this),this.finished=!0;const{buffer:r,view:s,blockLen:a,isLE:l}=this;let{pos:u}=this;r[u++]=128,Po(this.buffer.subarray(u)),this.padOffset>a-u&&(this.process(s,0),u=0);for(let S=u;S<a;S++)r[S]=0;kk(s,a-8,BigInt(this.length*8),l),this.process(s,0);const h=v0(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=f/4,g=this.get();if(m>g.length)throw new Error("_sha2: outputLen bigger than state");for(let S=0;S<m;S++)h.setUint32(4*S,g[S],l)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const s=e.slice(0,r);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:s,length:a,finished:l,destroyed:u,pos:h}=this;return e.destroyed=u,e.finished=l,e.length=a,e.pos=h,a%r&&e.buffer.set(s),e}clone(){return this._cloneInto()}}const Bs=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ku=BigInt(2**32-1),Hb=BigInt(32);function Bk(n,e=!1){return e?{h:Number(n&Ku),l:Number(n>>Hb&Ku)}:{h:Number(n>>Hb&Ku)|0,l:Number(n&Ku)|0}}function Ck(n,e=!1){const r=n.length;let s=new Uint32Array(r),a=new Uint32Array(r);for(let l=0;l<r;l++){const{h:u,l:h}=Bk(n[l],e);[s[l],a[l]]=[u,h]}return[s,a]}const Pb=(n,e,r)=>n>>>r,Fb=(n,e,r)=>n<<32-r|e>>>r,Ao=(n,e,r)=>n>>>r|e<<32-r,Ro=(n,e,r)=>n<<32-r|e>>>r,Yu=(n,e,r)=>n<<64-r|e>>>r-32,Wu=(n,e,r)=>n>>>r-32|e<<64-r;function Pi(n,e,r,s){const a=(e>>>0)+(s>>>0);return{h:n+r+(a/2**32|0)|0,l:a|0}}const Ok=(n,e,r)=>(n>>>0)+(e>>>0)+(r>>>0),jk=(n,e,r,s)=>e+r+s+(n/2**32|0)|0,Mk=(n,e,r,s)=>(n>>>0)+(e>>>0)+(r>>>0)+(s>>>0),Uk=(n,e,r,s,a)=>e+r+s+a+(n/2**32|0)|0,Lk=(n,e,r,s,a)=>(n>>>0)+(e>>>0)+(r>>>0)+(s>>>0)+(a>>>0),Ik=(n,e,r,s,a,l)=>e+r+s+a+l+(n/2**32|0)|0,Dk=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Cs=new Uint32Array(64);class zk extends hx{constructor(e=32){super(64,e,8,!1),this.A=Bs[0]|0,this.B=Bs[1]|0,this.C=Bs[2]|0,this.D=Bs[3]|0,this.E=Bs[4]|0,this.F=Bs[5]|0,this.G=Bs[6]|0,this.H=Bs[7]|0}get(){const{A:e,B:r,C:s,D:a,E:l,F:u,G:h,H:f}=this;return[e,r,s,a,l,u,h,f]}set(e,r,s,a,l,u,h,f){this.A=e|0,this.B=r|0,this.C=s|0,this.D=a|0,this.E=l|0,this.F=u|0,this.G=h|0,this.H=f|0}process(e,r){for(let S=0;S<16;S++,r+=4)Cs[S]=e.getUint32(r,!1);for(let S=16;S<64;S++){const k=Cs[S-15],j=Cs[S-2],z=ci(k,7)^ci(k,18)^k>>>3,$=ci(j,17)^ci(j,19)^j>>>10;Cs[S]=$+Cs[S-7]+z+Cs[S-16]|0}let{A:s,B:a,C:l,D:u,E:h,F:f,G:m,H:g}=this;for(let S=0;S<64;S++){const k=ci(h,6)^ci(h,11)^ci(h,25),j=g+k+Tk(h,f,m)+Dk[S]+Cs[S]|0,$=(ci(s,2)^ci(s,13)^ci(s,22))+Nk(s,a,l)|0;g=m,m=f,f=h,h=u+j|0,u=l,l=a,a=s,s=j+$|0}s=s+this.A|0,a=a+this.B|0,l=l+this.C|0,u=u+this.D|0,h=h+this.E|0,f=f+this.F|0,m=m+this.G|0,g=g+this.H|0,this.set(s,a,l,u,h,f,m,g)}roundClean(){Po(Cs)}destroy(){this.set(0,0,0,0,0,0,0,0),Po(this.buffer)}}const dx=Ck(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),qk=dx[0],$k=dx[1],Os=new Uint32Array(80),js=new Uint32Array(80);class Hk extends hx{constructor(e=64){super(128,e,16,!1),this.Ah=Zn[0]|0,this.Al=Zn[1]|0,this.Bh=Zn[2]|0,this.Bl=Zn[3]|0,this.Ch=Zn[4]|0,this.Cl=Zn[5]|0,this.Dh=Zn[6]|0,this.Dl=Zn[7]|0,this.Eh=Zn[8]|0,this.El=Zn[9]|0,this.Fh=Zn[10]|0,this.Fl=Zn[11]|0,this.Gh=Zn[12]|0,this.Gl=Zn[13]|0,this.Hh=Zn[14]|0,this.Hl=Zn[15]|0}get(){const{Ah:e,Al:r,Bh:s,Bl:a,Ch:l,Cl:u,Dh:h,Dl:f,Eh:m,El:g,Fh:S,Fl:k,Gh:j,Gl:z,Hh:$,Hl:H}=this;return[e,r,s,a,l,u,h,f,m,g,S,k,j,z,$,H]}set(e,r,s,a,l,u,h,f,m,g,S,k,j,z,$,H){this.Ah=e|0,this.Al=r|0,this.Bh=s|0,this.Bl=a|0,this.Ch=l|0,this.Cl=u|0,this.Dh=h|0,this.Dl=f|0,this.Eh=m|0,this.El=g|0,this.Fh=S|0,this.Fl=k|0,this.Gh=j|0,this.Gl=z|0,this.Hh=$|0,this.Hl=H|0}process(e,r){for(let F=0;F<16;F++,r+=4)Os[F]=e.getUint32(r),js[F]=e.getUint32(r+=4);for(let F=16;F<80;F++){const ne=Os[F-15]|0,he=js[F-15]|0,fe=Ao(ne,he,1)^Ao(ne,he,8)^Pb(ne,he,7),le=Ro(ne,he,1)^Ro(ne,he,8)^Fb(ne,he,7),D=Os[F-2]|0,M=js[F-2]|0,q=Ao(D,M,19)^Yu(D,M,61)^Pb(D,M,6),W=Ro(D,M,19)^Wu(D,M,61)^Fb(D,M,6),I=Mk(le,W,js[F-7],js[F-16]),E=Uk(I,fe,q,Os[F-7],Os[F-16]);Os[F]=E|0,js[F]=I|0}let{Ah:s,Al:a,Bh:l,Bl:u,Ch:h,Cl:f,Dh:m,Dl:g,Eh:S,El:k,Fh:j,Fl:z,Gh:$,Gl:H,Hh:X,Hl:P}=this;for(let F=0;F<80;F++){const ne=Ao(S,k,14)^Ao(S,k,18)^Yu(S,k,41),he=Ro(S,k,14)^Ro(S,k,18)^Wu(S,k,41),fe=S&j^~S&$,le=k&z^~k&H,D=Lk(P,he,le,$k[F],js[F]),M=Ik(D,X,ne,fe,qk[F],Os[F]),q=D|0,W=Ao(s,a,28)^Yu(s,a,34)^Yu(s,a,39),I=Ro(s,a,28)^Wu(s,a,34)^Wu(s,a,39),E=s&l^s&h^l&h,p=a&u^a&f^u&f;X=$|0,P=H|0,$=j|0,H=z|0,j=S|0,z=k|0,{h:S,l:k}=Pi(m|0,g|0,M|0,q|0),m=h|0,g=f|0,h=l|0,f=u|0,l=s|0,u=a|0;const v=Ok(q,I,p);s=jk(v,M,W,E),a=v|0}({h:s,l:a}=Pi(this.Ah|0,this.Al|0,s|0,a|0)),{h:l,l:u}=Pi(this.Bh|0,this.Bl|0,l|0,u|0),{h,l:f}=Pi(this.Ch|0,this.Cl|0,h|0,f|0),{h:m,l:g}=Pi(this.Dh|0,this.Dl|0,m|0,g|0),{h:S,l:k}=Pi(this.Eh|0,this.El|0,S|0,k|0),{h:j,l:z}=Pi(this.Fh|0,this.Fl|0,j|0,z|0),{h:$,l:H}=Pi(this.Gh|0,this.Gl|0,$|0,H|0),{h:X,l:P}=Pi(this.Hh|0,this.Hl|0,X|0,P|0),this.set(s,a,l,u,h,f,m,g,S,k,j,z,$,H,X,P)}roundClean(){Po(Os,js)}destroy(){Po(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const mx=fx(()=>new zk),Pk=fx(()=>new Hk);const $m=BigInt(0),gm=BigInt(1);function Aa(n,e=""){if(typeof n!="boolean"){const r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof n)}return n}function Jr(n,e,r=""){const s=xc(n),a=n?.length,l=e!==void 0;if(!s||l&&a!==e){const u=r&&`"${r}" `,h=l?` of length ${e}`:"",f=s?`length=${a}`:`type=${typeof n}`;throw new Error(u+"expected Uint8Array"+h+", got "+f)}return n}function Zu(n){const e=n.toString(16);return e.length&1?"0"+e:e}function px(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?$m:BigInt("0x"+n)}function Df(n){return px(_a(n))}function hc(n){return Ra(n),px(_a(Uint8Array.from(n).reverse()))}function Hm(n,e){return vf(n.toString(16).padStart(e*2,"0"))}function gx(n,e){return Hm(n,e).reverse()}function mn(n,e,r){let s;if(typeof e=="string")try{s=vf(e)}catch(l){throw new Error(n+" must be hex string or Uint8Array, cause: "+l)}else if(xc(e))s=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const a=s.length;if(typeof r=="number"&&a!==r)throw new Error(n+" of length "+r+" expected, got "+a);return s}function Gb(n){return Uint8Array.from(n)}const w0=n=>typeof n=="bigint"&&$m<=n;function Fk(n,e,r){return w0(n)&&w0(e)&&w0(r)&&e<=n&&n<r}function ym(n,e,r,s){if(!Fk(e,r,s))throw new Error("expected valid "+n+": "+r+" <= n < "+s+", got "+e)}function yx(n){let e;for(e=0;n>$m;n>>=gm,e+=1);return e}const _c=n=>(gm<<BigInt(n))-gm;function Gk(n,e,r){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const s=j=>new Uint8Array(j),a=j=>Uint8Array.of(j);let l=s(n),u=s(n),h=0;const f=()=>{l.fill(1),u.fill(0),h=0},m=(...j)=>r(u,l,...j),g=(j=s(0))=>{u=m(a(0),j),l=m(),j.length!==0&&(u=m(a(1),j),l=m())},S=()=>{if(h++>=1e3)throw new Error("drbg: tried 1000 values");let j=0;const z=[];for(;j<e;){l=m();const $=l.slice();z.push($),j+=l.length}return mi(...z)};return(j,z)=>{f(),g(j);let $;for(;!($=z(S()));)g();return f(),$}}function Sc(n,e,r={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function s(a,l,u){const h=n[a];if(u&&h===void 0)return;const f=typeof h;if(f!==l||h===null)throw new Error(`param "${a}" is invalid: expected ${l}, got ${f}`)}Object.entries(e).forEach(([a,l])=>s(a,l,!1)),Object.entries(r).forEach(([a,l])=>s(a,l,!0))}function wf(n){const e=new WeakMap;return(r,...s)=>{const a=e.get(r);if(a!==void 0)return a;const l=n(r,...s);return e.set(r,l),l}}const ur=BigInt(0),Kn=BigInt(1),va=BigInt(2),bx=BigInt(3),vx=BigInt(4),wx=BigInt(5),Vk=BigInt(7),xx=BigInt(8),Kk=BigInt(9),_x=BigInt(16);function Rn(n,e){const r=n%e;return r>=ur?r:e+r}function hn(n,e,r){let s=n;for(;e-- >ur;)s*=s,s%=r;return s}function Vb(n,e){if(n===ur)throw new Error("invert: expected non-zero number");if(e<=ur)throw new Error("invert: expected positive modulus, got "+e);let r=Rn(n,e),s=e,a=ur,l=Kn;for(;r!==ur;){const h=s/r,f=s%r,m=a-l*h;s=r,r=f,a=l,l=m}if(s!==Kn)throw new Error("invert: does not exist");return Rn(a,e)}function Pm(n,e,r){if(!n.eql(n.sqr(e),r))throw new Error("Cannot find square root")}function Sx(n,e){const r=(n.ORDER+Kn)/vx,s=n.pow(e,r);return Pm(n,s,e),s}function Yk(n,e){const r=(n.ORDER-wx)/xx,s=n.mul(e,va),a=n.pow(s,r),l=n.mul(e,a),u=n.mul(n.mul(l,va),a),h=n.mul(l,n.sub(u,n.ONE));return Pm(n,h,e),h}function Wk(n){const e=ka(n),r=Ex(n),s=r(e,e.neg(e.ONE)),a=r(e,s),l=r(e,e.neg(s)),u=(n+Vk)/_x;return(h,f)=>{let m=h.pow(f,u),g=h.mul(m,s);const S=h.mul(m,a),k=h.mul(m,l),j=h.eql(h.sqr(g),f),z=h.eql(h.sqr(S),f);m=h.cmov(m,g,j),g=h.cmov(k,S,z);const $=h.eql(h.sqr(g),f),H=h.cmov(m,g,$);return Pm(h,H,f),H}}function Ex(n){if(n<bx)throw new Error("sqrt is not defined for small field");let e=n-Kn,r=0;for(;e%va===ur;)e/=va,r++;let s=va;const a=ka(n);for(;Kb(a,s)===1;)if(s++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Sx;let l=a.pow(s,e);const u=(e+Kn)/va;return function(f,m){if(f.is0(m))return m;if(Kb(f,m)!==1)throw new Error("Cannot find square root");let g=r,S=f.mul(f.ONE,l),k=f.pow(m,e),j=f.pow(m,u);for(;!f.eql(k,f.ONE);){if(f.is0(k))return f.ZERO;let z=1,$=f.sqr(k);for(;!f.eql($,f.ONE);)if(z++,$=f.sqr($),z===g)throw new Error("Cannot find square root");const H=Kn<<BigInt(g-z-1),X=f.pow(S,H);g=z,S=f.sqr(X),k=f.mul(k,S),j=f.mul(j,X)}return j}}function Zk(n){return n%vx===bx?Sx:n%xx===wx?Yk:n%_x===Kk?Wk(n):Ex(n)}const Xk=(n,e)=>(Rn(n,e)&Kn)===Kn,Jk=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Qk(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=Jk.reduce((s,a)=>(s[a]="function",s),e);return Sc(n,r),n}function e5(n,e,r){if(r<ur)throw new Error("invalid exponent, negatives unsupported");if(r===ur)return n.ONE;if(r===Kn)return e;let s=n.ONE,a=e;for(;r>ur;)r&Kn&&(s=n.mul(s,a)),a=n.sqr(a),r>>=Kn;return s}function Ax(n,e,r=!1){const s=new Array(e.length).fill(r?n.ZERO:void 0),a=e.reduce((u,h,f)=>n.is0(h)?u:(s[f]=u,n.mul(u,h)),n.ONE),l=n.inv(a);return e.reduceRight((u,h,f)=>n.is0(h)?u:(s[f]=n.mul(u,s[f]),n.mul(u,h)),l),s}function Kb(n,e){const r=(n.ORDER-Kn)/va,s=n.pow(e,r),a=n.eql(s,n.ONE),l=n.eql(s,n.ZERO),u=n.eql(s,n.neg(n.ONE));if(!a&&!l&&!u)throw new Error("invalid Legendre symbol result");return a?1:l?0:-1}function Rx(n,e){e!==void 0&&pm(e);const r=e!==void 0?e:n.toString(2).length,s=Math.ceil(r/8);return{nBitLength:r,nByteLength:s}}function ka(n,e,r=!1,s={}){if(n<=ur)throw new Error("invalid field: expected ORDER > 0, got "+n);let a,l,u=!1,h;if(typeof e=="object"&&e!=null){if(s.sqrt||r)throw new Error("cannot specify opts in two arguments");const k=e;k.BITS&&(a=k.BITS),k.sqrt&&(l=k.sqrt),typeof k.isLE=="boolean"&&(r=k.isLE),typeof k.modFromBytes=="boolean"&&(u=k.modFromBytes),h=k.allowedLengths}else typeof e=="number"&&(a=e),s.sqrt&&(l=s.sqrt);const{nBitLength:f,nByteLength:m}=Rx(n,a);if(m>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let g;const S=Object.freeze({ORDER:n,isLE:r,BITS:f,BYTES:m,MASK:_c(f),ZERO:ur,ONE:Kn,allowedLengths:h,create:k=>Rn(k,n),isValid:k=>{if(typeof k!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof k);return ur<=k&&k<n},is0:k=>k===ur,isValidNot0:k=>!S.is0(k)&&S.isValid(k),isOdd:k=>(k&Kn)===Kn,neg:k=>Rn(-k,n),eql:(k,j)=>k===j,sqr:k=>Rn(k*k,n),add:(k,j)=>Rn(k+j,n),sub:(k,j)=>Rn(k-j,n),mul:(k,j)=>Rn(k*j,n),pow:(k,j)=>e5(S,k,j),div:(k,j)=>Rn(k*Vb(j,n),n),sqrN:k=>k*k,addN:(k,j)=>k+j,subN:(k,j)=>k-j,mulN:(k,j)=>k*j,inv:k=>Vb(k,n),sqrt:l||(k=>(g||(g=Zk(n)),g(S,k))),toBytes:k=>r?gx(k,m):Hm(k,m),fromBytes:(k,j=!0)=>{if(h){if(!h.includes(k.length)||k.length>m)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+k.length);const $=new Uint8Array(m);$.set(k,r?0:$.length-k.length),k=$}if(k.length!==m)throw new Error("Field.fromBytes: expected "+m+" bytes, got "+k.length);let z=r?hc(k):Df(k);if(u&&(z=Rn(z,n)),!j&&!S.isValid(z))throw new Error("invalid field element: outside of range 0..ORDER");return z},invertBatch:k=>Ax(S,k),cmov:(k,j,z)=>z?j:k});return Object.freeze(S)}function kx(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function Tx(n){const e=kx(n);return e+Math.ceil(e/2)}function t5(n,e,r=!1){const s=n.length,a=kx(e),l=Tx(e);if(s<16||s<l||s>1024)throw new Error("expected "+l+"-1024 bytes of input, got "+s);const u=r?hc(n):Df(n),h=Rn(u,e-Kn)+Kn;return r?gx(h,a):Hm(h,a)}const Fo=BigInt(0),wa=BigInt(1);function xf(n,e){const r=e.negate();return n?r:e}function xa(n,e){const r=Ax(n.Fp,e.map(s=>s.Z));return e.map((s,a)=>n.fromAffine(s.toAffine(r[a])))}function Nx(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function x0(n,e){Nx(n,e);const r=Math.ceil(e/n)+1,s=2**(n-1),a=2**n,l=_c(n),u=BigInt(n);return{windows:r,windowSize:s,mask:l,maxNumber:a,shiftBy:u}}function Yb(n,e,r){const{windowSize:s,mask:a,maxNumber:l,shiftBy:u}=r;let h=Number(n&a),f=n>>u;h>s&&(h-=l,f+=wa);const m=e*s,g=m+Math.abs(h)-1,S=h===0,k=h<0,j=e%2!==0;return{nextN:f,offset:g,isZero:S,isNeg:k,isNegF:j,offsetF:m}}function n5(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((r,s)=>{if(!(r instanceof e))throw new Error("invalid point at index "+s)})}function r5(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((r,s)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+s)})}const _0=new WeakMap,Bx=new WeakMap;function S0(n){return Bx.get(n)||1}function Wb(n){if(n!==Fo)throw new Error("invalid wNAF")}class Cx{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,s=this.ZERO){let a=e;for(;r>Fo;)r&wa&&(s=s.add(a)),a=a.double(),r>>=wa;return s}precomputeWindow(e,r){const{windows:s,windowSize:a}=x0(r,this.bits),l=[];let u=e,h=u;for(let f=0;f<s;f++){h=u,l.push(h);for(let m=1;m<a;m++)h=h.add(u),l.push(h);u=h.double()}return l}wNAF(e,r,s){if(!this.Fn.isValid(s))throw new Error("invalid scalar");let a=this.ZERO,l=this.BASE;const u=x0(e,this.bits);for(let h=0;h<u.windows;h++){const{nextN:f,offset:m,isZero:g,isNeg:S,isNegF:k,offsetF:j}=Yb(s,h,u);s=f,g?l=l.add(xf(k,r[j])):a=a.add(xf(S,r[m]))}return Wb(s),{p:a,f:l}}wNAFUnsafe(e,r,s,a=this.ZERO){const l=x0(e,this.bits);for(let u=0;u<l.windows&&s!==Fo;u++){const{nextN:h,offset:f,isZero:m,isNeg:g}=Yb(s,u,l);if(s=h,!m){const S=r[f];a=a.add(g?S.negate():S)}}return Wb(s),a}getPrecomputes(e,r,s){let a=_0.get(r);return a||(a=this.precomputeWindow(r,e),e!==1&&(typeof s=="function"&&(a=s(a)),_0.set(r,a))),a}cached(e,r,s){const a=S0(e);return this.wNAF(a,this.getPrecomputes(a,e,s),r)}unsafe(e,r,s,a){const l=S0(e);return l===1?this._unsafeLadder(e,r,a):this.wNAFUnsafe(l,this.getPrecomputes(l,e,s),r,a)}createCache(e,r){Nx(r,this.bits),Bx.set(e,r),_0.delete(e)}hasCache(e){return S0(e)!==1}}function i5(n,e,r,s){let a=e,l=n.ZERO,u=n.ZERO;for(;r>Fo||s>Fo;)r&wa&&(l=l.add(a)),s&wa&&(u=u.add(a)),a=a.double(),r>>=wa,s>>=wa;return{p1:l,p2:u}}function Ox(n,e,r,s){n5(r,n),r5(s,e);const a=r.length,l=s.length;if(a!==l)throw new Error("arrays of points and scalars must have equal length");const u=n.ZERO,h=yx(BigInt(a));let f=1;h>12?f=h-3:h>4?f=h-2:h>0&&(f=2);const m=_c(f),g=new Array(Number(m)+1).fill(u),S=Math.floor((e.BITS-1)/f)*f;let k=u;for(let j=S;j>=0;j-=f){g.fill(u);for(let $=0;$<l;$++){const H=s[$],X=Number(H>>BigInt(j)&m);g[X]=g[X].add(r[$])}let z=u;for(let $=g.length-1,H=u;$>0;$--)H=H.add(g[$]),z=z.add(H);if(k=k.add(z),j!==0)for(let $=0;$<f;$++)k=k.double()}return k}function Zb(n,e,r){if(e){if(e.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Qk(e),e}else return ka(n,{isLE:r})}function jx(n,e,r={},s){if(s===void 0&&(s=n==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${n} CURVE object`);for(const f of["p","n","h"]){const m=e[f];if(!(typeof m=="bigint"&&m>Fo))throw new Error(`CURVE.${f} must be positive bigint`)}const a=Zb(e.p,r.Fp,s),l=Zb(e.n,r.Fn,s),h=["Gx","Gy","a",n==="weierstrass"?"b":"d"];for(const f of h)if(!a.isValid(e[f]))throw new Error(`CURVE.${f} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:a,Fn:l}}const Ms=BigInt(0),Un=BigInt(1),E0=BigInt(2),s5=BigInt(8);function a5(n,e,r,s){const a=n.sqr(r),l=n.sqr(s),u=n.add(n.mul(e.a,a),l),h=n.add(n.ONE,n.mul(e.d,n.mul(a,l)));return n.eql(u,h)}function o5(n,e={}){const r=jx("edwards",n,e,e.FpFnLE),{Fp:s,Fn:a}=r;let l=r.CURVE;const{h:u}=l;Sc(e,{},{uvRatio:"function"});const h=E0<<BigInt(a.BYTES*8)-Un,f=H=>s.create(H),m=e.uvRatio||((H,X)=>{try{return{isValid:!0,value:s.sqrt(s.div(H,X))}}catch{return{isValid:!1,value:Ms}}});if(!a5(s,l,l.Gx,l.Gy))throw new Error("bad curve params: generator point");function g(H,X,P=!1){const F=P?Un:Ms;return ym("coordinate "+H,X,F,h),X}function S(H){if(!(H instanceof z))throw new Error("ExtendedPoint expected")}const k=wf((H,X)=>{const{X:P,Y:F,Z:ne}=H,he=H.is0();X==null&&(X=he?s5:s.inv(ne));const fe=f(P*X),le=f(F*X),D=s.mul(ne,X);if(he)return{x:Ms,y:Un};if(D!==Un)throw new Error("invZ was invalid");return{x:fe,y:le}}),j=wf(H=>{const{a:X,d:P}=l;if(H.is0())throw new Error("bad point: ZERO");const{X:F,Y:ne,Z:he,T:fe}=H,le=f(F*F),D=f(ne*ne),M=f(he*he),q=f(M*M),W=f(le*X),I=f(M*f(W+D)),E=f(q+f(P*f(le*D)));if(I!==E)throw new Error("bad point: equation left != right (1)");const p=f(F*ne),v=f(he*fe);if(p!==v)throw new Error("bad point: equation left != right (2)");return!0});class z{constructor(X,P,F,ne){this.X=g("x",X),this.Y=g("y",P),this.Z=g("z",F,!0),this.T=g("t",ne),Object.freeze(this)}static CURVE(){return l}static fromAffine(X){if(X instanceof z)throw new Error("extended point not allowed");const{x:P,y:F}=X||{};return g("x",P),g("y",F),new z(P,F,Un,f(P*F))}static fromBytes(X,P=!1){const F=s.BYTES,{a:ne,d:he}=l;X=Gb(Jr(X,F,"point")),Aa(P,"zip215");const fe=Gb(X),le=X[F-1];fe[F-1]=le&-129;const D=hc(fe),M=P?h:s.ORDER;ym("point.y",D,Ms,M);const q=f(D*D),W=f(q-Un),I=f(he*q-ne);let{isValid:E,value:p}=m(W,I);if(!E)throw new Error("bad point: invalid y coordinate");const v=(p&Un)===Un,_=(le&128)!==0;if(!P&&p===Ms&&_)throw new Error("bad point: x=0 and x_0=1");return _!==v&&(p=f(-p)),z.fromAffine({x:p,y:D})}static fromHex(X,P=!1){return z.fromBytes(mn("point",X),P)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(X=8,P=!0){return $.createCache(this,X),P||this.multiply(E0),this}assertValidity(){j(this)}equals(X){S(X);const{X:P,Y:F,Z:ne}=this,{X:he,Y:fe,Z:le}=X,D=f(P*le),M=f(he*ne),q=f(F*le),W=f(fe*ne);return D===M&&q===W}is0(){return this.equals(z.ZERO)}negate(){return new z(f(-this.X),this.Y,this.Z,f(-this.T))}double(){const{a:X}=l,{X:P,Y:F,Z:ne}=this,he=f(P*P),fe=f(F*F),le=f(E0*f(ne*ne)),D=f(X*he),M=P+F,q=f(f(M*M)-he-fe),W=D+fe,I=W-le,E=D-fe,p=f(q*I),v=f(W*E),_=f(q*E),N=f(I*W);return new z(p,v,N,_)}add(X){S(X);const{a:P,d:F}=l,{X:ne,Y:he,Z:fe,T:le}=this,{X:D,Y:M,Z:q,T:W}=X,I=f(ne*D),E=f(he*M),p=f(le*F*W),v=f(fe*q),_=f((ne+he)*(D+M)-I-E),N=v-p,B=v+p,G=f(E-P*I),J=f(_*N),T=f(B*G),b=f(_*G),x=f(N*B);return new z(J,T,x,b)}subtract(X){return this.add(X.negate())}multiply(X){if(!a.isValidNot0(X))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:P,f:F}=$.cached(this,X,ne=>xa(z,ne));return xa(z,[P,F])[0]}multiplyUnsafe(X,P=z.ZERO){if(!a.isValid(X))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return X===Ms?z.ZERO:this.is0()||X===Un?this:$.unsafe(this,X,F=>xa(z,F),P)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return $.unsafe(this,l.n).is0()}toAffine(X){return k(this,X)}clearCofactor(){return u===Un?this:this.multiplyUnsafe(u)}toBytes(){const{x:X,y:P}=this.toAffine(),F=s.toBytes(P);return F[F.length-1]|=X&Un?128:0,F}toHex(){return _a(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(X){return xa(z,X)}static msm(X,P){return Ox(z,a,X,P)}_setWindowSize(X){this.precompute(X)}toRawBytes(){return this.toBytes()}}z.BASE=new z(l.Gx,l.Gy,Un,f(l.Gx*l.Gy)),z.ZERO=new z(Ms,Un,Un,Ms),z.Fp=s,z.Fn=a;const $=new Cx(z,a.BITS);return z.BASE.precompute(8),z}function l5(n,e,r={}){if(typeof e!="function")throw new Error('"hash" function param is required');Sc(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:s}=r,{BASE:a,Fp:l,Fn:u}=n,h=r.randomBytes||qm,f=r.adjustScalarBytes||(M=>M),m=r.domain||((M,q,W)=>{if(Aa(W,"phflag"),q.length||W)throw new Error("Contexts/pre-hash are not supported");return M});function g(M){return u.create(hc(M))}function S(M){const q=F.secretKey;M=mn("private key",M,q);const W=mn("hashed private key",e(M),2*q),I=f(W.slice(0,q)),E=W.slice(q,2*q),p=g(I);return{head:I,prefix:E,scalar:p}}function k(M){const{head:q,prefix:W,scalar:I}=S(M),E=a.multiply(I),p=E.toBytes();return{head:q,prefix:W,scalar:I,point:E,pointBytes:p}}function j(M){return k(M).pointBytes}function z(M=Uint8Array.of(),...q){const W=mi(...q);return g(e(m(W,mn("context",M),!!s)))}function $(M,q,W={}){M=mn("message",M),s&&(M=s(M));const{prefix:I,scalar:E,pointBytes:p}=k(q),v=z(W.context,I,M),_=a.multiply(v).toBytes(),N=z(W.context,_,p,M),B=u.create(v+N*E);if(!u.isValid(B))throw new Error("sign failed: invalid s");const G=mi(_,u.toBytes(B));return Jr(G,F.signature,"result")}const H={zip215:!0};function X(M,q,W,I=H){const{context:E,zip215:p}=I,v=F.signature;M=mn("signature",M,v),q=mn("message",q),W=mn("publicKey",W,F.publicKey),p!==void 0&&Aa(p,"zip215"),s&&(q=s(q));const _=v/2,N=M.subarray(0,_),B=hc(M.subarray(_,v));let G,J,T;try{G=n.fromBytes(W,p),J=n.fromBytes(N,p),T=a.multiplyUnsafe(B)}catch{return!1}if(!p&&G.isSmallOrder())return!1;const b=z(E,J.toBytes(),G.toBytes(),q);return J.add(G.multiplyUnsafe(b)).subtract(T).clearCofactor().is0()}const P=l.BYTES,F={secretKey:P,publicKey:P,signature:2*P,seed:P};function ne(M=h(F.seed)){return Jr(M,F.seed,"seed")}function he(M){const q=D.randomSecretKey(M);return{secretKey:q,publicKey:j(q)}}function fe(M){return xc(M)&&M.length===u.BYTES}function le(M,q){try{return!!n.fromBytes(M,q)}catch{return!1}}const D={getExtendedPublicKey:k,randomSecretKey:ne,isValidSecretKey:fe,isValidPublicKey:le,toMontgomery(M){const{y:q}=n.fromBytes(M),W=F.publicKey,I=W===32;if(!I&&W!==57)throw new Error("only defined for 25519 and 448");const E=I?l.div(Un+q,Un-q):l.div(q-Un,q+Un);return l.toBytes(E)},toMontgomerySecret(M){const q=F.secretKey;Jr(M,q);const W=e(M.subarray(0,q));return f(W).subarray(0,q)},randomPrivateKey:ne,precompute(M=8,q=n.BASE){return q.precompute(M,!1)}};return Object.freeze({keygen:he,getPublicKey:j,sign:$,verify:X,utils:D,Point:n,lengths:F})}function c5(n){const e={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},r=n.Fp,s=ka(e.n,n.nBitLength,!0),a={Fp:r,Fn:s,uvRatio:n.uvRatio},l={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:e,curveOpts:a,hash:n.hash,eddsaOpts:l}}function u5(n,e){const r=e.Point;return Object.assign({},e,{ExtendedPoint:r,CURVE:n,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}function f5(n){const{CURVE:e,curveOpts:r,hash:s,eddsaOpts:a}=c5(n),l=o5(e,r),u=l5(l,s,a);return u5(n,u)}const h5=BigInt(1),Xb=BigInt(2);BigInt(3);const d5=BigInt(5),m5=BigInt(8),Fm=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Mx={p:Fm,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:m5,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function p5(n){const e=BigInt(10),r=BigInt(20),s=BigInt(40),a=BigInt(80),l=Fm,h=n*n%l*n%l,f=hn(h,Xb,l)*h%l,m=hn(f,h5,l)*n%l,g=hn(m,d5,l)*m%l,S=hn(g,e,l)*g%l,k=hn(S,r,l)*S%l,j=hn(k,s,l)*k%l,z=hn(j,a,l)*j%l,$=hn(z,a,l)*j%l,H=hn($,e,l)*g%l;return{pow_p_5_8:hn(H,Xb,l)*n%l,b2:h}}function g5(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const Jb=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function y5(n,e){const r=Fm,s=Rn(e*e*e,r),a=Rn(s*s*e,r),l=p5(n*a).pow_p_5_8;let u=Rn(n*s*l,r);const h=Rn(e*u*u,r),f=u,m=Rn(u*Jb,r),g=h===n,S=h===Rn(-n,r),k=h===Rn(-n*Jb,r);return g&&(u=f),(S||k)&&(u=m),Xk(u,r)&&(u=Rn(-u,r)),{isValid:g||S,value:u}}const b5=ka(Mx.p,{isLE:!0}),v5={...Mx,Fp:b5,hash:Pk,adjustScalarBytes:g5,uvRatio:y5},Qo=f5(v5);var of={exports:{}},A0={},Qb;function Gm(){return Qb||(Qb=1,(function(n){Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},r={};r.byteLength=g,r.toByteArray=k,r.fromByteArray=$;for(var s=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,f=u.length;h<f;++h)s[h]=u[h],a[u.charCodeAt(h)]=h;a[45]=62,a[95]=63;function m(P){var F=P.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ne=P.indexOf("=");ne===-1&&(ne=F);var he=ne===F?0:4-ne%4;return[ne,he]}function g(P){var F=m(P),ne=F[0],he=F[1];return(ne+he)*3/4-he}function S(P,F,ne){return(F+ne)*3/4-ne}function k(P){var F,ne=m(P),he=ne[0],fe=ne[1],le=new l(S(P,he,fe)),D=0,M=fe>0?he-4:he,q;for(q=0;q<M;q+=4)F=a[P.charCodeAt(q)]<<18|a[P.charCodeAt(q+1)]<<12|a[P.charCodeAt(q+2)]<<6|a[P.charCodeAt(q+3)],le[D++]=F>>16&255,le[D++]=F>>8&255,le[D++]=F&255;return fe===2&&(F=a[P.charCodeAt(q)]<<2|a[P.charCodeAt(q+1)]>>4,le[D++]=F&255),fe===1&&(F=a[P.charCodeAt(q)]<<10|a[P.charCodeAt(q+1)]<<4|a[P.charCodeAt(q+2)]>>2,le[D++]=F>>8&255,le[D++]=F&255),le}function j(P){return s[P>>18&63]+s[P>>12&63]+s[P>>6&63]+s[P&63]}function z(P,F,ne){for(var he,fe=[],le=F;le<ne;le+=3)he=(P[le]<<16&16711680)+(P[le+1]<<8&65280)+(P[le+2]&255),fe.push(j(he));return fe.join("")}function $(P){for(var F,ne=P.length,he=ne%3,fe=[],le=16383,D=0,M=ne-he;D<M;D+=le)fe.push(z(P,D,D+le>M?M:D+le));return he===1?(F=P[ne-1],fe.push(s[F>>2]+s[F<<4&63]+"==")):he===2&&(F=(P[ne-2]<<8)+P[ne-1],fe.push(s[F>>10]+s[F>>4&63]+s[F<<2&63]+"=")),fe.join("")}var H={};H.read=function(P,F,ne,he,fe){var le,D,M=fe*8-he-1,q=(1<<M)-1,W=q>>1,I=-7,E=ne?fe-1:0,p=ne?-1:1,v=P[F+E];for(E+=p,le=v&(1<<-I)-1,v>>=-I,I+=M;I>0;le=le*256+P[F+E],E+=p,I-=8);for(D=le&(1<<-I)-1,le>>=-I,I+=he;I>0;D=D*256+P[F+E],E+=p,I-=8);if(le===0)le=1-W;else{if(le===q)return D?NaN:(v?-1:1)*(1/0);D=D+Math.pow(2,he),le=le-W}return(v?-1:1)*D*Math.pow(2,le-he)},H.write=function(P,F,ne,he,fe,le){var D,M,q,W=le*8-fe-1,I=(1<<W)-1,E=I>>1,p=fe===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=he?0:le-1,_=he?1:-1,N=F<0||F===0&&1/F<0?1:0;for(F=Math.abs(F),isNaN(F)||F===1/0?(M=isNaN(F)?1:0,D=I):(D=Math.floor(Math.log(F)/Math.LN2),F*(q=Math.pow(2,-D))<1&&(D--,q*=2),D+E>=1?F+=p/q:F+=p*Math.pow(2,1-E),F*q>=2&&(D++,q/=2),D+E>=I?(M=0,D=I):D+E>=1?(M=(F*q-1)*Math.pow(2,fe),D=D+E):(M=F*Math.pow(2,E-1)*Math.pow(2,fe),D=0));fe>=8;P[ne+v]=M&255,v+=_,M/=256,fe-=8);for(D=D<<fe|M,W+=fe;W>0;P[ne+v]=D&255,v+=_,D/=256,W-=8);P[ne+v-_]|=N*128};(function(P){const F=r,ne=H,he=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;P.Buffer=I,P.SlowBuffer=x,P.INSPECT_MAX_BYTES=50;const fe=2147483647;P.kMaxLength=fe;const{Uint8Array:le,ArrayBuffer:D,SharedArrayBuffer:M}=globalThis;I.TYPED_ARRAY_SUPPORT=q(),!I.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function q(){try{const Y=new le(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,le.prototype),Object.setPrototypeOf(Y,A),Y.foo()===42}catch{return!1}}Object.defineProperty(I.prototype,"parent",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.buffer}}),Object.defineProperty(I.prototype,"offset",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.byteOffset}});function W(Y){if(Y>fe)throw new RangeError('The value "'+Y+'" is invalid for option "size"');const A=new le(Y);return Object.setPrototypeOf(A,I.prototype),A}function I(Y,A,O){if(typeof Y=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(Y)}return E(Y,A,O)}I.poolSize=8192;function E(Y,A,O){if(typeof Y=="string")return N(Y,A);if(D.isView(Y))return G(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(pn(Y,D)||Y&&pn(Y.buffer,D)||typeof M<"u"&&(pn(Y,M)||Y&&pn(Y.buffer,M)))return J(Y,A,O);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=Y.valueOf&&Y.valueOf();if(ee!=null&&ee!==Y)return I.from(ee,A,O);const ce=T(Y);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return I.from(Y[Symbol.toPrimitive]("string"),A,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}I.from=function(Y,A,O){return E(Y,A,O)},Object.setPrototypeOf(I.prototype,le.prototype),Object.setPrototypeOf(I,le);function p(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function v(Y,A,O){return p(Y),Y<=0?W(Y):A!==void 0?typeof O=="string"?W(Y).fill(A,O):W(Y).fill(A):W(Y)}I.alloc=function(Y,A,O){return v(Y,A,O)};function _(Y){return p(Y),W(Y<0?0:b(Y)|0)}I.allocUnsafe=function(Y){return _(Y)},I.allocUnsafeSlow=function(Y){return _(Y)};function N(Y,A){if((typeof A!="string"||A==="")&&(A="utf8"),!I.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const O=L(Y,A)|0;let ee=W(O);const ce=ee.write(Y,A);return ce!==O&&(ee=ee.slice(0,ce)),ee}function B(Y){const A=Y.length<0?0:b(Y.length)|0,O=W(A);for(let ee=0;ee<A;ee+=1)O[ee]=Y[ee]&255;return O}function G(Y){if(pn(Y,le)){const A=new le(Y);return J(A.buffer,A.byteOffset,A.byteLength)}return B(Y)}function J(Y,A,O){if(A<0||Y.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<A+(O||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return A===void 0&&O===void 0?ee=new le(Y):O===void 0?ee=new le(Y,A):ee=new le(Y,A,O),Object.setPrototypeOf(ee,I.prototype),ee}function T(Y){if(I.isBuffer(Y)){const A=b(Y.length)|0,O=W(A);return O.length===0||Y.copy(O,0,0,A),O}if(Y.length!==void 0)return typeof Y.length!="number"||Ut(Y.length)?W(0):B(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return B(Y.data)}function b(Y){if(Y>=fe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+fe.toString(16)+" bytes");return Y|0}function x(Y){return+Y!=Y&&(Y=0),I.alloc(+Y)}I.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==I.prototype},I.compare=function(A,O){if(pn(A,le)&&(A=I.from(A,A.offset,A.byteLength)),pn(O,le)&&(O=I.from(O,O.offset,O.byteLength)),!I.isBuffer(A)||!I.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===O)return 0;let ee=A.length,ce=O.length;for(let pe=0,Se=Math.min(ee,ce);pe<Se;++pe)if(A[pe]!==O[pe]){ee=A[pe],ce=O[pe];break}return ee<ce?-1:ce<ee?1:0},I.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},I.concat=function(A,O){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return I.alloc(0);let ee;if(O===void 0)for(O=0,ee=0;ee<A.length;++ee)O+=A[ee].length;const ce=I.allocUnsafe(O);let pe=0;for(ee=0;ee<A.length;++ee){let Se=A[ee];if(pn(Se,le))pe+Se.length>ce.length?(I.isBuffer(Se)||(Se=I.from(Se)),Se.copy(ce,pe)):le.prototype.set.call(ce,Se,pe);else if(I.isBuffer(Se))Se.copy(ce,pe);else throw new TypeError('"list" argument must be an Array of Buffers');pe+=Se.length}return ce};function L(Y,A){if(I.isBuffer(Y))return Y.length;if(D.isView(Y)||pn(Y,D))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);const O=Y.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&O===0)return 0;let ce=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return We(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return He(Y).length;default:if(ce)return ee?-1:We(Y).length;A=(""+A).toLowerCase(),ce=!0}}I.byteLength=L;function V(Y,A,O){let ee=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,A>>>=0,O<=A))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return Ct(this,A,O);case"utf8":case"utf-8":return Ge(this,A,O);case"ascii":return Gt(this,A,O);case"latin1":case"binary":return ei(this,A,O);case"base64":return Qe(this,A,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zt(this,A,O);default:if(ee)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),ee=!0}}I.prototype._isBuffer=!0;function te(Y,A,O){const ee=Y[A];Y[A]=Y[O],Y[O]=ee}I.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<A;O+=2)te(this,O,O+1);return this},I.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<A;O+=4)te(this,O,O+3),te(this,O+1,O+2);return this},I.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<A;O+=8)te(this,O,O+7),te(this,O+1,O+6),te(this,O+2,O+5),te(this,O+3,O+4);return this},I.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?Ge(this,0,A):V.apply(this,arguments)},I.prototype.toLocaleString=I.prototype.toString,I.prototype.equals=function(A){if(!I.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:I.compare(this,A)===0},I.prototype.inspect=function(){let A="";const O=P.INSPECT_MAX_BYTES;return A=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(A+=" ... "),"<Buffer "+A+">"},he&&(I.prototype[he]=I.prototype.inspect),I.prototype.compare=function(A,O,ee,ce,pe){if(pn(A,le)&&(A=I.from(A,A.offset,A.byteLength)),!I.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(O===void 0&&(O=0),ee===void 0&&(ee=A?A.length:0),ce===void 0&&(ce=0),pe===void 0&&(pe=this.length),O<0||ee>A.length||ce<0||pe>this.length)throw new RangeError("out of range index");if(ce>=pe&&O>=ee)return 0;if(ce>=pe)return-1;if(O>=ee)return 1;if(O>>>=0,ee>>>=0,ce>>>=0,pe>>>=0,this===A)return 0;let Se=pe-ce,it=ee-O;const tt=Math.min(Se,it),et=this.slice(ce,pe),Et=A.slice(O,ee);for(let Me=0;Me<tt;++Me)if(et[Me]!==Et[Me]){Se=et[Me],it=Et[Me];break}return Se<it?-1:it<Se?1:0};function ae(Y,A,O,ee,ce){if(Y.length===0)return-1;if(typeof O=="string"?(ee=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,Ut(O)&&(O=ce?0:Y.length-1),O<0&&(O=Y.length+O),O>=Y.length){if(ce)return-1;O=Y.length-1}else if(O<0)if(ce)O=0;else return-1;if(typeof A=="string"&&(A=I.from(A,ee)),I.isBuffer(A))return A.length===0?-1:Te(Y,A,O,ee,ce);if(typeof A=="number")return A=A&255,typeof le.prototype.indexOf=="function"?ce?le.prototype.indexOf.call(Y,A,O):le.prototype.lastIndexOf.call(Y,A,O):Te(Y,[A],O,ee,ce);throw new TypeError("val must be string, number or Buffer")}function Te(Y,A,O,ee,ce){let pe=1,Se=Y.length,it=A.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(Y.length<2||A.length<2)return-1;pe=2,Se/=2,it/=2,O/=2}function tt(Et,Me){return pe===1?Et[Me]:Et.readUInt16BE(Me*pe)}let et;if(ce){let Et=-1;for(et=O;et<Se;et++)if(tt(Y,et)===tt(A,Et===-1?0:et-Et)){if(Et===-1&&(Et=et),et-Et+1===it)return Et*pe}else Et!==-1&&(et-=et-Et),Et=-1}else for(O+it>Se&&(O=Se-it),et=O;et>=0;et--){let Et=!0;for(let Me=0;Me<it;Me++)if(tt(Y,et+Me)!==tt(A,Me)){Et=!1;break}if(Et)return et}return-1}I.prototype.includes=function(A,O,ee){return this.indexOf(A,O,ee)!==-1},I.prototype.indexOf=function(A,O,ee){return ae(this,A,O,ee,!0)},I.prototype.lastIndexOf=function(A,O,ee){return ae(this,A,O,ee,!1)};function ke(Y,A,O,ee){O=Number(O)||0;const ce=Y.length-O;ee?(ee=Number(ee),ee>ce&&(ee=ce)):ee=ce;const pe=A.length;ee>pe/2&&(ee=pe/2);let Se;for(Se=0;Se<ee;++Se){const it=parseInt(A.substr(Se*2,2),16);if(Ut(it))return Se;Y[O+Se]=it}return Se}function Je(Y,A,O,ee){return jt(We(A,Y.length-O),Y,O,ee)}function $e(Y,A,O,ee){return jt(Ze(A),Y,O,ee)}function nt(Y,A,O,ee){return jt(He(A),Y,O,ee)}function Kt(Y,A,O,ee){return jt(At(A,Y.length-O),Y,O,ee)}I.prototype.write=function(A,O,ee,ce){if(O===void 0)ce="utf8",ee=this.length,O=0;else if(ee===void 0&&typeof O=="string")ce=O,ee=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(ee)?(ee=ee>>>0,ce===void 0&&(ce="utf8")):(ce=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const pe=this.length-O;if((ee===void 0||ee>pe)&&(ee=pe),A.length>0&&(ee<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let Se=!1;for(;;)switch(ce){case"hex":return ke(this,A,O,ee);case"utf8":case"utf-8":return Je(this,A,O,ee);case"ascii":case"latin1":case"binary":return $e(this,A,O,ee);case"base64":return nt(this,A,O,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kt(this,A,O,ee);default:if(Se)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),Se=!0}},I.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qe(Y,A,O){return A===0&&O===Y.length?F.fromByteArray(Y):F.fromByteArray(Y.slice(A,O))}function Ge(Y,A,O){O=Math.min(Y.length,O);const ee=[];let ce=A;for(;ce<O;){const pe=Y[ce];let Se=null,it=pe>239?4:pe>223?3:pe>191?2:1;if(ce+it<=O){let tt,et,Et,Me;switch(it){case 1:pe<128&&(Se=pe);break;case 2:tt=Y[ce+1],(tt&192)===128&&(Me=(pe&31)<<6|tt&63,Me>127&&(Se=Me));break;case 3:tt=Y[ce+1],et=Y[ce+2],(tt&192)===128&&(et&192)===128&&(Me=(pe&15)<<12|(tt&63)<<6|et&63,Me>2047&&(Me<55296||Me>57343)&&(Se=Me));break;case 4:tt=Y[ce+1],et=Y[ce+2],Et=Y[ce+3],(tt&192)===128&&(et&192)===128&&(Et&192)===128&&(Me=(pe&15)<<18|(tt&63)<<12|(et&63)<<6|Et&63,Me>65535&&Me<1114112&&(Se=Me))}}Se===null?(Se=65533,it=1):Se>65535&&(Se-=65536,ee.push(Se>>>10&1023|55296),Se=56320|Se&1023),ee.push(Se),ce+=it}return Bt(ee)}const Yn=4096;function Bt(Y){const A=Y.length;if(A<=Yn)return String.fromCharCode.apply(String,Y);let O="",ee=0;for(;ee<A;)O+=String.fromCharCode.apply(String,Y.slice(ee,ee+=Yn));return O}function Gt(Y,A,O){let ee="";O=Math.min(Y.length,O);for(let ce=A;ce<O;++ce)ee+=String.fromCharCode(Y[ce]&127);return ee}function ei(Y,A,O){let ee="";O=Math.min(Y.length,O);for(let ce=A;ce<O;++ce)ee+=String.fromCharCode(Y[ce]);return ee}function Ct(Y,A,O){const ee=Y.length;(!A||A<0)&&(A=0),(!O||O<0||O>ee)&&(O=ee);let ce="";for(let pe=A;pe<O;++pe)ce+=$t[Y[pe]];return ce}function zt(Y,A,O){const ee=Y.slice(A,O);let ce="";for(let pe=0;pe<ee.length-1;pe+=2)ce+=String.fromCharCode(ee[pe]+ee[pe+1]*256);return ce}I.prototype.slice=function(A,O){const ee=this.length;A=~~A,O=O===void 0?ee:~~O,A<0?(A+=ee,A<0&&(A=0)):A>ee&&(A=ee),O<0?(O+=ee,O<0&&(O=0)):O>ee&&(O=ee),O<A&&(O=A);const ce=this.subarray(A,O);return Object.setPrototypeOf(ce,I.prototype),ce};function Zt(Y,A,O){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+A>O)throw new RangeError("Trying to access beyond buffer length")}I.prototype.readUintLE=I.prototype.readUIntLE=function(A,O,ee){A=A>>>0,O=O>>>0,ee||Zt(A,O,this.length);let ce=this[A],pe=1,Se=0;for(;++Se<O&&(pe*=256);)ce+=this[A+Se]*pe;return ce},I.prototype.readUintBE=I.prototype.readUIntBE=function(A,O,ee){A=A>>>0,O=O>>>0,ee||Zt(A,O,this.length);let ce=this[A+--O],pe=1;for(;O>0&&(pe*=256);)ce+=this[A+--O]*pe;return ce},I.prototype.readUint8=I.prototype.readUInt8=function(A,O){return A=A>>>0,O||Zt(A,1,this.length),this[A]},I.prototype.readUint16LE=I.prototype.readUInt16LE=function(A,O){return A=A>>>0,O||Zt(A,2,this.length),this[A]|this[A+1]<<8},I.prototype.readUint16BE=I.prototype.readUInt16BE=function(A,O){return A=A>>>0,O||Zt(A,2,this.length),this[A]<<8|this[A+1]},I.prototype.readUint32LE=I.prototype.readUInt32LE=function(A,O){return A=A>>>0,O||Zt(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},I.prototype.readUint32BE=I.prototype.readUInt32BE=function(A,O){return A=A>>>0,O||Zt(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},I.prototype.readBigUInt64LE=fr(function(A){A=A>>>0,se(A,"offset");const O=this[A],ee=this[A+7];(O===void 0||ee===void 0)&&de(A,this.length-8);const ce=O+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,pe=this[++A]+this[++A]*2**8+this[++A]*2**16+ee*2**24;return BigInt(ce)+(BigInt(pe)<<BigInt(32))}),I.prototype.readBigUInt64BE=fr(function(A){A=A>>>0,se(A,"offset");const O=this[A],ee=this[A+7];(O===void 0||ee===void 0)&&de(A,this.length-8);const ce=O*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],pe=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+ee;return(BigInt(ce)<<BigInt(32))+BigInt(pe)}),I.prototype.readIntLE=function(A,O,ee){A=A>>>0,O=O>>>0,ee||Zt(A,O,this.length);let ce=this[A],pe=1,Se=0;for(;++Se<O&&(pe*=256);)ce+=this[A+Se]*pe;return pe*=128,ce>=pe&&(ce-=Math.pow(2,8*O)),ce},I.prototype.readIntBE=function(A,O,ee){A=A>>>0,O=O>>>0,ee||Zt(A,O,this.length);let ce=O,pe=1,Se=this[A+--ce];for(;ce>0&&(pe*=256);)Se+=this[A+--ce]*pe;return pe*=128,Se>=pe&&(Se-=Math.pow(2,8*O)),Se},I.prototype.readInt8=function(A,O){return A=A>>>0,O||Zt(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},I.prototype.readInt16LE=function(A,O){A=A>>>0,O||Zt(A,2,this.length);const ee=this[A]|this[A+1]<<8;return ee&32768?ee|4294901760:ee},I.prototype.readInt16BE=function(A,O){A=A>>>0,O||Zt(A,2,this.length);const ee=this[A+1]|this[A]<<8;return ee&32768?ee|4294901760:ee},I.prototype.readInt32LE=function(A,O){return A=A>>>0,O||Zt(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},I.prototype.readInt32BE=function(A,O){return A=A>>>0,O||Zt(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},I.prototype.readBigInt64LE=fr(function(A){A=A>>>0,se(A,"offset");const O=this[A],ee=this[A+7];(O===void 0||ee===void 0)&&de(A,this.length-8);const ce=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(ee<<24);return(BigInt(ce)<<BigInt(32))+BigInt(O+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),I.prototype.readBigInt64BE=fr(function(A){A=A>>>0,se(A,"offset");const O=this[A],ee=this[A+7];(O===void 0||ee===void 0)&&de(A,this.length-8);const ce=(O<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(ce)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+ee)}),I.prototype.readFloatLE=function(A,O){return A=A>>>0,O||Zt(A,4,this.length),ne.read(this,A,!0,23,4)},I.prototype.readFloatBE=function(A,O){return A=A>>>0,O||Zt(A,4,this.length),ne.read(this,A,!1,23,4)},I.prototype.readDoubleLE=function(A,O){return A=A>>>0,O||Zt(A,8,this.length),ne.read(this,A,!0,52,8)},I.prototype.readDoubleBE=function(A,O){return A=A>>>0,O||Zt(A,8,this.length),ne.read(this,A,!1,52,8)};function ut(Y,A,O,ee,ce,pe){if(!I.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>ce||A<pe)throw new RangeError('"value" argument is out of bounds');if(O+ee>Y.length)throw new RangeError("Index out of range")}I.prototype.writeUintLE=I.prototype.writeUIntLE=function(A,O,ee,ce){if(A=+A,O=O>>>0,ee=ee>>>0,!ce){const it=Math.pow(2,8*ee)-1;ut(this,A,O,ee,it,0)}let pe=1,Se=0;for(this[O]=A&255;++Se<ee&&(pe*=256);)this[O+Se]=A/pe&255;return O+ee},I.prototype.writeUintBE=I.prototype.writeUIntBE=function(A,O,ee,ce){if(A=+A,O=O>>>0,ee=ee>>>0,!ce){const it=Math.pow(2,8*ee)-1;ut(this,A,O,ee,it,0)}let pe=ee-1,Se=1;for(this[O+pe]=A&255;--pe>=0&&(Se*=256);)this[O+pe]=A/Se&255;return O+ee},I.prototype.writeUint8=I.prototype.writeUInt8=function(A,O,ee){return A=+A,O=O>>>0,ee||ut(this,A,O,1,255,0),this[O]=A&255,O+1},I.prototype.writeUint16LE=I.prototype.writeUInt16LE=function(A,O,ee){return A=+A,O=O>>>0,ee||ut(this,A,O,2,65535,0),this[O]=A&255,this[O+1]=A>>>8,O+2},I.prototype.writeUint16BE=I.prototype.writeUInt16BE=function(A,O,ee){return A=+A,O=O>>>0,ee||ut(this,A,O,2,65535,0),this[O]=A>>>8,this[O+1]=A&255,O+2},I.prototype.writeUint32LE=I.prototype.writeUInt32LE=function(A,O,ee){return A=+A,O=O>>>0,ee||ut(this,A,O,4,4294967295,0),this[O+3]=A>>>24,this[O+2]=A>>>16,this[O+1]=A>>>8,this[O]=A&255,O+4},I.prototype.writeUint32BE=I.prototype.writeUInt32BE=function(A,O,ee){return A=+A,O=O>>>0,ee||ut(this,A,O,4,4294967295,0),this[O]=A>>>24,this[O+1]=A>>>16,this[O+2]=A>>>8,this[O+3]=A&255,O+4};function ot(Y,A,O,ee,ce){Q(A,ee,ce,Y,O,7);let pe=Number(A&BigInt(4294967295));Y[O++]=pe,pe=pe>>8,Y[O++]=pe,pe=pe>>8,Y[O++]=pe,pe=pe>>8,Y[O++]=pe;let Se=Number(A>>BigInt(32)&BigInt(4294967295));return Y[O++]=Se,Se=Se>>8,Y[O++]=Se,Se=Se>>8,Y[O++]=Se,Se=Se>>8,Y[O++]=Se,O}function On(Y,A,O,ee,ce){Q(A,ee,ce,Y,O,7);let pe=Number(A&BigInt(4294967295));Y[O+7]=pe,pe=pe>>8,Y[O+6]=pe,pe=pe>>8,Y[O+5]=pe,pe=pe>>8,Y[O+4]=pe;let Se=Number(A>>BigInt(32)&BigInt(4294967295));return Y[O+3]=Se,Se=Se>>8,Y[O+2]=Se,Se=Se>>8,Y[O+1]=Se,Se=Se>>8,Y[O]=Se,O+8}I.prototype.writeBigUInt64LE=fr(function(A,O=0){return ot(this,A,O,BigInt(0),BigInt("0xffffffffffffffff"))}),I.prototype.writeBigUInt64BE=fr(function(A,O=0){return On(this,A,O,BigInt(0),BigInt("0xffffffffffffffff"))}),I.prototype.writeIntLE=function(A,O,ee,ce){if(A=+A,O=O>>>0,!ce){const tt=Math.pow(2,8*ee-1);ut(this,A,O,ee,tt-1,-tt)}let pe=0,Se=1,it=0;for(this[O]=A&255;++pe<ee&&(Se*=256);)A<0&&it===0&&this[O+pe-1]!==0&&(it=1),this[O+pe]=(A/Se>>0)-it&255;return O+ee},I.prototype.writeIntBE=function(A,O,ee,ce){if(A=+A,O=O>>>0,!ce){const tt=Math.pow(2,8*ee-1);ut(this,A,O,ee,tt-1,-tt)}let pe=ee-1,Se=1,it=0;for(this[O+pe]=A&255;--pe>=0&&(Se*=256);)A<0&&it===0&&this[O+pe+1]!==0&&(it=1),this[O+pe]=(A/Se>>0)-it&255;return O+ee},I.prototype.writeInt8=function(A,O,ee){return A=+A,O=O>>>0,ee||ut(this,A,O,1,127,-128),A<0&&(A=255+A+1),this[O]=A&255,O+1},I.prototype.writeInt16LE=function(A,O,ee){return A=+A,O=O>>>0,ee||ut(this,A,O,2,32767,-32768),this[O]=A&255,this[O+1]=A>>>8,O+2},I.prototype.writeInt16BE=function(A,O,ee){return A=+A,O=O>>>0,ee||ut(this,A,O,2,32767,-32768),this[O]=A>>>8,this[O+1]=A&255,O+2},I.prototype.writeInt32LE=function(A,O,ee){return A=+A,O=O>>>0,ee||ut(this,A,O,4,2147483647,-2147483648),this[O]=A&255,this[O+1]=A>>>8,this[O+2]=A>>>16,this[O+3]=A>>>24,O+4},I.prototype.writeInt32BE=function(A,O,ee){return A=+A,O=O>>>0,ee||ut(this,A,O,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[O]=A>>>24,this[O+1]=A>>>16,this[O+2]=A>>>8,this[O+3]=A&255,O+4},I.prototype.writeBigInt64LE=fr(function(A,O=0){return ot(this,A,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),I.prototype.writeBigInt64BE=fr(function(A,O=0){return On(this,A,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ot(Y,A,O,ee,ce,pe){if(O+ee>Y.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function qt(Y,A,O,ee,ce){return A=+A,O=O>>>0,ce||Ot(Y,A,O,4),ne.write(Y,A,O,ee,23,4),O+4}I.prototype.writeFloatLE=function(A,O,ee){return qt(this,A,O,!0,ee)},I.prototype.writeFloatBE=function(A,O,ee){return qt(this,A,O,!1,ee)};function kn(Y,A,O,ee,ce){return A=+A,O=O>>>0,ce||Ot(Y,A,O,8),ne.write(Y,A,O,ee,52,8),O+8}I.prototype.writeDoubleLE=function(A,O,ee){return kn(this,A,O,!0,ee)},I.prototype.writeDoubleBE=function(A,O,ee){return kn(this,A,O,!1,ee)},I.prototype.copy=function(A,O,ee,ce){if(!I.isBuffer(A))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!ce&&ce!==0&&(ce=this.length),O>=A.length&&(O=A.length),O||(O=0),ce>0&&ce<ee&&(ce=ee),ce===ee||A.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),A.length-O<ce-ee&&(ce=A.length-O+ee);const pe=ce-ee;return this===A&&typeof le.prototype.copyWithin=="function"?this.copyWithin(O,ee,ce):le.prototype.set.call(A,this.subarray(ee,ce),O),pe},I.prototype.fill=function(A,O,ee,ce){if(typeof A=="string"){if(typeof O=="string"?(ce=O,O=0,ee=this.length):typeof ee=="string"&&(ce=ee,ee=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!I.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(A.length===1){const Se=A.charCodeAt(0);(ce==="utf8"&&Se<128||ce==="latin1")&&(A=Se)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(O<0||this.length<O||this.length<ee)throw new RangeError("Out of range index");if(ee<=O)return this;O=O>>>0,ee=ee===void 0?this.length:ee>>>0,A||(A=0);let pe;if(typeof A=="number")for(pe=O;pe<ee;++pe)this[pe]=A;else{const Se=I.isBuffer(A)?A:I.from(A,ce),it=Se.length;if(it===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(pe=0;pe<ee-O;++pe)this[pe+O]=Se[pe%it]}return this};const Tt={};function K(Y,A,O){Tt[Y]=class extends O{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Y}]`,this.stack,delete this.name}get code(){return Y}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${Y}]: ${this.message}`}}}K("ERR_BUFFER_OUT_OF_BOUNDS",function(Y){return Y?`${Y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),K("ERR_INVALID_ARG_TYPE",function(Y,A){return`The "${Y}" argument must be of type number. Received type ${typeof A}`},TypeError),K("ERR_OUT_OF_RANGE",function(Y,A,O){let ee=`The value of "${Y}" is out of range.`,ce=O;return Number.isInteger(O)&&Math.abs(O)>2**32?ce=R(String(O)):typeof O=="bigint"&&(ce=String(O),(O>BigInt(2)**BigInt(32)||O<-(BigInt(2)**BigInt(32)))&&(ce=R(ce)),ce+="n"),ee+=` It must be ${A}. Received ${ce}`,ee},RangeError);function R(Y){let A="",O=Y.length;const ee=Y[0]==="-"?1:0;for(;O>=ee+4;O-=3)A=`_${Y.slice(O-3,O)}${A}`;return`${Y.slice(0,O)}${A}`}function C(Y,A,O){se(A,"offset"),(Y[A]===void 0||Y[A+O]===void 0)&&de(A,Y.length-(O+1))}function Q(Y,A,O,ee,ce,pe){if(Y>O||Y<A){const Se=typeof A=="bigint"?"n":"";let it;throw A===0||A===BigInt(0)?it=`>= 0${Se} and < 2${Se} ** ${(pe+1)*8}${Se}`:it=`>= -(2${Se} ** ${(pe+1)*8-1}${Se}) and < 2 ** ${(pe+1)*8-1}${Se}`,new Tt.ERR_OUT_OF_RANGE("value",it,Y)}C(ee,ce,pe)}function se(Y,A){if(typeof Y!="number")throw new Tt.ERR_INVALID_ARG_TYPE(A,"number",Y)}function de(Y,A,O){throw Math.floor(Y)!==Y?(se(Y,O),new Tt.ERR_OUT_OF_RANGE("offset","an integer",Y)):A<0?new Tt.ERR_BUFFER_OUT_OF_BOUNDS:new Tt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,Y)}const xe=/[^+/0-9A-Za-z-_]/g;function rt(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(xe,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function We(Y,A){A=A||1/0;let O;const ee=Y.length;let ce=null;const pe=[];for(let Se=0;Se<ee;++Se){if(O=Y.charCodeAt(Se),O>55295&&O<57344){if(!ce){if(O>56319){(A-=3)>-1&&pe.push(239,191,189);continue}else if(Se+1===ee){(A-=3)>-1&&pe.push(239,191,189);continue}ce=O;continue}if(O<56320){(A-=3)>-1&&pe.push(239,191,189),ce=O;continue}O=(ce-55296<<10|O-56320)+65536}else ce&&(A-=3)>-1&&pe.push(239,191,189);if(ce=null,O<128){if((A-=1)<0)break;pe.push(O)}else if(O<2048){if((A-=2)<0)break;pe.push(O>>6|192,O&63|128)}else if(O<65536){if((A-=3)<0)break;pe.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((A-=4)<0)break;pe.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return pe}function Ze(Y){const A=[];for(let O=0;O<Y.length;++O)A.push(Y.charCodeAt(O)&255);return A}function At(Y,A){let O,ee,ce;const pe=[];for(let Se=0;Se<Y.length&&!((A-=2)<0);++Se)O=Y.charCodeAt(Se),ee=O>>8,ce=O%256,pe.push(ce),pe.push(ee);return pe}function He(Y){return F.toByteArray(rt(Y))}function jt(Y,A,O,ee){let ce;for(ce=0;ce<ee&&!(ce+O>=A.length||ce>=Y.length);++ce)A[ce+O]=Y[ce];return ce}function pn(Y,A){return Y instanceof A||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===A.name}function Ut(Y){return Y!==Y}const $t=(function(){const Y="0123456789abcdef",A=new Array(256);for(let O=0;O<16;++O){const ee=O*16;for(let ce=0;ce<16;++ce)A[ee+ce]=Y[O]+Y[ce]}return A})();function fr(Y){return typeof BigInt>"u"?Xt:Y}function Xt(){throw new Error("BigInt not supported")}})(e);const X=e.Buffer;n.Blob=e.Blob,n.BlobOptions=e.BlobOptions,n.Buffer=e.Buffer,n.File=e.File,n.FileOptions=e.FileOptions,n.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,n.SlowBuffer=e.SlowBuffer,n.TranscodeEncoding=e.TranscodeEncoding,n.atob=e.atob,n.btoa=e.btoa,n.constants=e.constants,n.default=X,n.isAscii=e.isAscii,n.isUtf8=e.isUtf8,n.kMaxLength=e.kMaxLength,n.kStringMaxLength=e.kStringMaxLength,n.resolveObjectURL=e.resolveObjectURL,n.transcode=e.transcode})(A0)),A0}var w5=of.exports,ev;function Ux(){return ev||(ev=1,(function(n){(function(e,r){function s(E,p){if(!E)throw new Error(p||"Assertion failed")}function a(E,p){E.super_=p;var v=function(){};v.prototype=p.prototype,E.prototype=new v,E.prototype.constructor=E}function l(E,p,v){if(l.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((p==="le"||p==="be")&&(v=p,p=10),this._init(E||0,p||10,v||"be"))}typeof e=="object"?e.exports=l:r.BN=l,l.BN=l,l.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=Gm().Buffer}catch{}l.isBN=function(p){return p instanceof l?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===l.wordSize&&Array.isArray(p.words)},l.max=function(p,v){return p.cmp(v)>0?p:v},l.min=function(p,v){return p.cmp(v)<0?p:v},l.prototype._init=function(p,v,_){if(typeof p=="number")return this._initNumber(p,v,_);if(typeof p=="object")return this._initArray(p,v,_);v==="hex"&&(v=16),s(v===(v|0)&&v>=2&&v<=36),p=p.toString().replace(/\s+/g,"");var N=0;p[0]==="-"&&(N++,this.negative=1),N<p.length&&(v===16?this._parseHex(p,N,_):(this._parseBase(p,v,N),_==="le"&&this._initArray(this.toArray(),v,_)))},l.prototype._initNumber=function(p,v,_){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(s(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),v,_)},l.prototype._initArray=function(p,v,_){if(s(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var B,G,J=0;if(_==="be")for(N=p.length-1,B=0;N>=0;N-=3)G=p[N]|p[N-1]<<8|p[N-2]<<16,this.words[B]|=G<<J&67108863,this.words[B+1]=G>>>26-J&67108863,J+=24,J>=26&&(J-=26,B++);else if(_==="le")for(N=0,B=0;N<p.length;N+=3)G=p[N]|p[N+1]<<8|p[N+2]<<16,this.words[B]|=G<<J&67108863,this.words[B+1]=G>>>26-J&67108863,J+=24,J>=26&&(J-=26,B++);return this._strip()};function h(E,p){var v=E.charCodeAt(p);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;s(!1,"Invalid character in "+E)}function f(E,p,v){var _=h(E,v);return v-1>=p&&(_|=h(E,v-1)<<4),_}l.prototype._parseHex=function(p,v,_){this.length=Math.ceil((p.length-v)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var B=0,G=0,J;if(_==="be")for(N=p.length-1;N>=v;N-=2)J=f(p,v,N)<<B,this.words[G]|=J&67108863,B>=18?(B-=18,G+=1,this.words[G]|=J>>>26):B+=8;else{var T=p.length-v;for(N=T%2===0?v+1:v;N<p.length;N+=2)J=f(p,v,N)<<B,this.words[G]|=J&67108863,B>=18?(B-=18,G+=1,this.words[G]|=J>>>26):B+=8}this._strip()};function m(E,p,v,_){for(var N=0,B=0,G=Math.min(E.length,v),J=p;J<G;J++){var T=E.charCodeAt(J)-48;N*=_,T>=49?B=T-49+10:T>=17?B=T-17+10:B=T,s(T>=0&&B<_,"Invalid character"),N+=B}return N}l.prototype._parseBase=function(p,v,_){this.words=[0],this.length=1;for(var N=0,B=1;B<=67108863;B*=v)N++;N--,B=B/v|0;for(var G=p.length-_,J=G%N,T=Math.min(G,G-J)+_,b=0,x=_;x<T;x+=N)b=m(p,x,x+N,v),this.imuln(B),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(J!==0){var L=1;for(b=m(p,x,p.length,v),x=0;x<J;x++)L*=v;this.imuln(L),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this._strip()},l.prototype.copy=function(p){p.words=new Array(this.length);for(var v=0;v<this.length;v++)p.words[v]=this.words[v];p.length=this.length,p.negative=this.negative,p.red=this.red};function g(E,p){E.words=p.words,E.length=p.length,E.negative=p.negative,E.red=p.red}if(l.prototype._move=function(p){g(p,this)},l.prototype.clone=function(){var p=new l(null);return this.copy(p),p},l.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{l.prototype.inspect=S}else l.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(p,v){p=p||10,v=v|0||1;var _;if(p===16||p==="hex"){_="";for(var N=0,B=0,G=0;G<this.length;G++){var J=this.words[G],T=((J<<N|B)&16777215).toString(16);B=J>>>24-N&16777215,N+=2,N>=26&&(N-=26,G--),B!==0||G!==this.length-1?_=k[6-T.length]+T+_:_=T+_}for(B!==0&&(_=B.toString(16)+_);_.length%v!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(p===(p|0)&&p>=2&&p<=36){var b=j[p],x=z[p];_="";var L=this.clone();for(L.negative=0;!L.isZero();){var V=L.modrn(x).toString(p);L=L.idivn(x),L.isZero()?_=V+_:_=k[b-V.length]+V+_}for(this.isZero()&&(_="0"+_);_.length%v!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}s(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},l.prototype.toJSON=function(){return this.toString(16,2)},u&&(l.prototype.toBuffer=function(p,v){return this.toArrayLike(u,p,v)}),l.prototype.toArray=function(p,v){return this.toArrayLike(Array,p,v)};var $=function(p,v){return p.allocUnsafe?p.allocUnsafe(v):new p(v)};l.prototype.toArrayLike=function(p,v,_){this._strip();var N=this.byteLength(),B=_||Math.max(1,N);s(N<=B,"byte array longer than desired length"),s(B>0,"Requested array length <= 0");var G=$(p,B),J=v==="le"?"LE":"BE";return this["_toArrayLike"+J](G,N),G},l.prototype._toArrayLikeLE=function(p,v){for(var _=0,N=0,B=0,G=0;B<this.length;B++){var J=this.words[B]<<G|N;p[_++]=J&255,_<p.length&&(p[_++]=J>>8&255),_<p.length&&(p[_++]=J>>16&255),G===6?(_<p.length&&(p[_++]=J>>24&255),N=0,G=0):(N=J>>>24,G+=2)}if(_<p.length)for(p[_++]=N;_<p.length;)p[_++]=0},l.prototype._toArrayLikeBE=function(p,v){for(var _=p.length-1,N=0,B=0,G=0;B<this.length;B++){var J=this.words[B]<<G|N;p[_--]=J&255,_>=0&&(p[_--]=J>>8&255),_>=0&&(p[_--]=J>>16&255),G===6?(_>=0&&(p[_--]=J>>24&255),N=0,G=0):(N=J>>>24,G+=2)}if(_>=0)for(p[_--]=N;_>=0;)p[_--]=0},Math.clz32?l.prototype._countBits=function(p){return 32-Math.clz32(p)}:l.prototype._countBits=function(p){var v=p,_=0;return v>=4096&&(_+=13,v>>>=13),v>=64&&(_+=7,v>>>=7),v>=8&&(_+=4,v>>>=4),v>=2&&(_+=2,v>>>=2),_+v},l.prototype._zeroBits=function(p){if(p===0)return 26;var v=p,_=0;return(v&8191)===0&&(_+=13,v>>>=13),(v&127)===0&&(_+=7,v>>>=7),(v&15)===0&&(_+=4,v>>>=4),(v&3)===0&&(_+=2,v>>>=2),(v&1)===0&&_++,_},l.prototype.bitLength=function(){var p=this.words[this.length-1],v=this._countBits(p);return(this.length-1)*26+v};function H(E){for(var p=new Array(E.bitLength()),v=0;v<p.length;v++){var _=v/26|0,N=v%26;p[v]=E.words[_]>>>N&1}return p}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,v=0;v<this.length;v++){var _=this._zeroBits(this.words[v]);if(p+=_,_!==26)break}return p},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},l.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]|p.words[v];return this._strip()},l.prototype.ior=function(p){return s((this.negative|p.negative)===0),this.iuor(p)},l.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},l.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},l.prototype.iuand=function(p){var v;this.length>p.length?v=p:v=this;for(var _=0;_<v.length;_++)this.words[_]=this.words[_]&p.words[_];return this.length=v.length,this._strip()},l.prototype.iand=function(p){return s((this.negative|p.negative)===0),this.iuand(p)},l.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},l.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},l.prototype.iuxor=function(p){var v,_;this.length>p.length?(v=this,_=p):(v=p,_=this);for(var N=0;N<_.length;N++)this.words[N]=v.words[N]^_.words[N];if(this!==v)for(;N<v.length;N++)this.words[N]=v.words[N];return this.length=v.length,this._strip()},l.prototype.ixor=function(p){return s((this.negative|p.negative)===0),this.iuxor(p)},l.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},l.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},l.prototype.inotn=function(p){s(typeof p=="number"&&p>=0);var v=Math.ceil(p/26)|0,_=p%26;this._expand(v),_>0&&v--;for(var N=0;N<v;N++)this.words[N]=~this.words[N]&67108863;return _>0&&(this.words[N]=~this.words[N]&67108863>>26-_),this._strip()},l.prototype.notn=function(p){return this.clone().inotn(p)},l.prototype.setn=function(p,v){s(typeof p=="number"&&p>=0);var _=p/26|0,N=p%26;return this._expand(_+1),v?this.words[_]=this.words[_]|1<<N:this.words[_]=this.words[_]&~(1<<N),this._strip()},l.prototype.iadd=function(p){var v;if(this.negative!==0&&p.negative===0)return this.negative=0,v=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,v=this.isub(p),p.negative=1,v._normSign();var _,N;this.length>p.length?(_=this,N=p):(_=p,N=this);for(var B=0,G=0;G<N.length;G++)v=(_.words[G]|0)+(N.words[G]|0)+B,this.words[G]=v&67108863,B=v>>>26;for(;B!==0&&G<_.length;G++)v=(_.words[G]|0)+B,this.words[G]=v&67108863,B=v>>>26;if(this.length=_.length,B!==0)this.words[this.length]=B,this.length++;else if(_!==this)for(;G<_.length;G++)this.words[G]=_.words[G];return this},l.prototype.add=function(p){var v;return p.negative!==0&&this.negative===0?(p.negative=0,v=this.sub(p),p.negative^=1,v):p.negative===0&&this.negative!==0?(this.negative=0,v=p.sub(this),this.negative=1,v):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},l.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var v=this.iadd(p);return p.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var _=this.cmp(p);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,B;_>0?(N=this,B=p):(N=p,B=this);for(var G=0,J=0;J<B.length;J++)v=(N.words[J]|0)-(B.words[J]|0)+G,G=v>>26,this.words[J]=v&67108863;for(;G!==0&&J<N.length;J++)v=(N.words[J]|0)+G,G=v>>26,this.words[J]=v&67108863;if(G===0&&J<N.length&&N!==this)for(;J<N.length;J++)this.words[J]=N.words[J];return this.length=Math.max(this.length,J),N!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(p){return this.clone().isub(p)};function X(E,p,v){v.negative=p.negative^E.negative;var _=E.length+p.length|0;v.length=_,_=_-1|0;var N=E.words[0]|0,B=p.words[0]|0,G=N*B,J=G&67108863,T=G/67108864|0;v.words[0]=J;for(var b=1;b<_;b++){for(var x=T>>>26,L=T&67108863,V=Math.min(b,p.length-1),te=Math.max(0,b-E.length+1);te<=V;te++){var ae=b-te|0;N=E.words[ae]|0,B=p.words[te]|0,G=N*B+L,x+=G/67108864|0,L=G&67108863}v.words[b]=L|0,T=x|0}return T!==0?v.words[b]=T|0:v.length--,v._strip()}var P=function(p,v,_){var N=p.words,B=v.words,G=_.words,J=0,T,b,x,L=N[0]|0,V=L&8191,te=L>>>13,ae=N[1]|0,Te=ae&8191,ke=ae>>>13,Je=N[2]|0,$e=Je&8191,nt=Je>>>13,Kt=N[3]|0,Qe=Kt&8191,Ge=Kt>>>13,Yn=N[4]|0,Bt=Yn&8191,Gt=Yn>>>13,ei=N[5]|0,Ct=ei&8191,zt=ei>>>13,Zt=N[6]|0,ut=Zt&8191,ot=Zt>>>13,On=N[7]|0,Ot=On&8191,qt=On>>>13,kn=N[8]|0,Tt=kn&8191,K=kn>>>13,R=N[9]|0,C=R&8191,Q=R>>>13,se=B[0]|0,de=se&8191,xe=se>>>13,rt=B[1]|0,We=rt&8191,Ze=rt>>>13,At=B[2]|0,He=At&8191,jt=At>>>13,pn=B[3]|0,Ut=pn&8191,$t=pn>>>13,fr=B[4]|0,Xt=fr&8191,Y=fr>>>13,A=B[5]|0,O=A&8191,ee=A>>>13,ce=B[6]|0,pe=ce&8191,Se=ce>>>13,it=B[7]|0,tt=it&8191,et=it>>>13,Et=B[8]|0,Me=Et&8191,_t=Et>>>13,wi=B[9]|0,en=wi&8191,on=wi>>>13;_.negative=p.negative^v.negative,_.length=19,T=Math.imul(V,de),b=Math.imul(V,xe),b=b+Math.imul(te,de)|0,x=Math.imul(te,xe);var nl=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(nl>>>26)|0,nl&=67108863,T=Math.imul(Te,de),b=Math.imul(Te,xe),b=b+Math.imul(ke,de)|0,x=Math.imul(ke,xe),T=T+Math.imul(V,We)|0,b=b+Math.imul(V,Ze)|0,b=b+Math.imul(te,We)|0,x=x+Math.imul(te,Ze)|0;var Ca=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,T=Math.imul($e,de),b=Math.imul($e,xe),b=b+Math.imul(nt,de)|0,x=Math.imul(nt,xe),T=T+Math.imul(Te,We)|0,b=b+Math.imul(Te,Ze)|0,b=b+Math.imul(ke,We)|0,x=x+Math.imul(ke,Ze)|0,T=T+Math.imul(V,He)|0,b=b+Math.imul(V,jt)|0,b=b+Math.imul(te,He)|0,x=x+Math.imul(te,jt)|0;var xi=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(xi>>>26)|0,xi&=67108863,T=Math.imul(Qe,de),b=Math.imul(Qe,xe),b=b+Math.imul(Ge,de)|0,x=Math.imul(Ge,xe),T=T+Math.imul($e,We)|0,b=b+Math.imul($e,Ze)|0,b=b+Math.imul(nt,We)|0,x=x+Math.imul(nt,Ze)|0,T=T+Math.imul(Te,He)|0,b=b+Math.imul(Te,jt)|0,b=b+Math.imul(ke,He)|0,x=x+Math.imul(ke,jt)|0,T=T+Math.imul(V,Ut)|0,b=b+Math.imul(V,$t)|0,b=b+Math.imul(te,Ut)|0,x=x+Math.imul(te,$t)|0;var Ks=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(Ks>>>26)|0,Ks&=67108863,T=Math.imul(Bt,de),b=Math.imul(Bt,xe),b=b+Math.imul(Gt,de)|0,x=Math.imul(Gt,xe),T=T+Math.imul(Qe,We)|0,b=b+Math.imul(Qe,Ze)|0,b=b+Math.imul(Ge,We)|0,x=x+Math.imul(Ge,Ze)|0,T=T+Math.imul($e,He)|0,b=b+Math.imul($e,jt)|0,b=b+Math.imul(nt,He)|0,x=x+Math.imul(nt,jt)|0,T=T+Math.imul(Te,Ut)|0,b=b+Math.imul(Te,$t)|0,b=b+Math.imul(ke,Ut)|0,x=x+Math.imul(ke,$t)|0,T=T+Math.imul(V,Xt)|0,b=b+Math.imul(V,Y)|0,b=b+Math.imul(te,Xt)|0,x=x+Math.imul(te,Y)|0;var ti=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(ti>>>26)|0,ti&=67108863,T=Math.imul(Ct,de),b=Math.imul(Ct,xe),b=b+Math.imul(zt,de)|0,x=Math.imul(zt,xe),T=T+Math.imul(Bt,We)|0,b=b+Math.imul(Bt,Ze)|0,b=b+Math.imul(Gt,We)|0,x=x+Math.imul(Gt,Ze)|0,T=T+Math.imul(Qe,He)|0,b=b+Math.imul(Qe,jt)|0,b=b+Math.imul(Ge,He)|0,x=x+Math.imul(Ge,jt)|0,T=T+Math.imul($e,Ut)|0,b=b+Math.imul($e,$t)|0,b=b+Math.imul(nt,Ut)|0,x=x+Math.imul(nt,$t)|0,T=T+Math.imul(Te,Xt)|0,b=b+Math.imul(Te,Y)|0,b=b+Math.imul(ke,Xt)|0,x=x+Math.imul(ke,Y)|0,T=T+Math.imul(V,O)|0,b=b+Math.imul(V,ee)|0,b=b+Math.imul(te,O)|0,x=x+Math.imul(te,ee)|0;var ni=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(ni>>>26)|0,ni&=67108863,T=Math.imul(ut,de),b=Math.imul(ut,xe),b=b+Math.imul(ot,de)|0,x=Math.imul(ot,xe),T=T+Math.imul(Ct,We)|0,b=b+Math.imul(Ct,Ze)|0,b=b+Math.imul(zt,We)|0,x=x+Math.imul(zt,Ze)|0,T=T+Math.imul(Bt,He)|0,b=b+Math.imul(Bt,jt)|0,b=b+Math.imul(Gt,He)|0,x=x+Math.imul(Gt,jt)|0,T=T+Math.imul(Qe,Ut)|0,b=b+Math.imul(Qe,$t)|0,b=b+Math.imul(Ge,Ut)|0,x=x+Math.imul(Ge,$t)|0,T=T+Math.imul($e,Xt)|0,b=b+Math.imul($e,Y)|0,b=b+Math.imul(nt,Xt)|0,x=x+Math.imul(nt,Y)|0,T=T+Math.imul(Te,O)|0,b=b+Math.imul(Te,ee)|0,b=b+Math.imul(ke,O)|0,x=x+Math.imul(ke,ee)|0,T=T+Math.imul(V,pe)|0,b=b+Math.imul(V,Se)|0,b=b+Math.imul(te,pe)|0,x=x+Math.imul(te,Se)|0;var _i=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(_i>>>26)|0,_i&=67108863,T=Math.imul(Ot,de),b=Math.imul(Ot,xe),b=b+Math.imul(qt,de)|0,x=Math.imul(qt,xe),T=T+Math.imul(ut,We)|0,b=b+Math.imul(ut,Ze)|0,b=b+Math.imul(ot,We)|0,x=x+Math.imul(ot,Ze)|0,T=T+Math.imul(Ct,He)|0,b=b+Math.imul(Ct,jt)|0,b=b+Math.imul(zt,He)|0,x=x+Math.imul(zt,jt)|0,T=T+Math.imul(Bt,Ut)|0,b=b+Math.imul(Bt,$t)|0,b=b+Math.imul(Gt,Ut)|0,x=x+Math.imul(Gt,$t)|0,T=T+Math.imul(Qe,Xt)|0,b=b+Math.imul(Qe,Y)|0,b=b+Math.imul(Ge,Xt)|0,x=x+Math.imul(Ge,Y)|0,T=T+Math.imul($e,O)|0,b=b+Math.imul($e,ee)|0,b=b+Math.imul(nt,O)|0,x=x+Math.imul(nt,ee)|0,T=T+Math.imul(Te,pe)|0,b=b+Math.imul(Te,Se)|0,b=b+Math.imul(ke,pe)|0,x=x+Math.imul(ke,Se)|0,T=T+Math.imul(V,tt)|0,b=b+Math.imul(V,et)|0,b=b+Math.imul(te,tt)|0,x=x+Math.imul(te,et)|0;var ri=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(ri>>>26)|0,ri&=67108863,T=Math.imul(Tt,de),b=Math.imul(Tt,xe),b=b+Math.imul(K,de)|0,x=Math.imul(K,xe),T=T+Math.imul(Ot,We)|0,b=b+Math.imul(Ot,Ze)|0,b=b+Math.imul(qt,We)|0,x=x+Math.imul(qt,Ze)|0,T=T+Math.imul(ut,He)|0,b=b+Math.imul(ut,jt)|0,b=b+Math.imul(ot,He)|0,x=x+Math.imul(ot,jt)|0,T=T+Math.imul(Ct,Ut)|0,b=b+Math.imul(Ct,$t)|0,b=b+Math.imul(zt,Ut)|0,x=x+Math.imul(zt,$t)|0,T=T+Math.imul(Bt,Xt)|0,b=b+Math.imul(Bt,Y)|0,b=b+Math.imul(Gt,Xt)|0,x=x+Math.imul(Gt,Y)|0,T=T+Math.imul(Qe,O)|0,b=b+Math.imul(Qe,ee)|0,b=b+Math.imul(Ge,O)|0,x=x+Math.imul(Ge,ee)|0,T=T+Math.imul($e,pe)|0,b=b+Math.imul($e,Se)|0,b=b+Math.imul(nt,pe)|0,x=x+Math.imul(nt,Se)|0,T=T+Math.imul(Te,tt)|0,b=b+Math.imul(Te,et)|0,b=b+Math.imul(ke,tt)|0,x=x+Math.imul(ke,et)|0,T=T+Math.imul(V,Me)|0,b=b+Math.imul(V,_t)|0,b=b+Math.imul(te,Me)|0,x=x+Math.imul(te,_t)|0;var ln=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(ln>>>26)|0,ln&=67108863,T=Math.imul(C,de),b=Math.imul(C,xe),b=b+Math.imul(Q,de)|0,x=Math.imul(Q,xe),T=T+Math.imul(Tt,We)|0,b=b+Math.imul(Tt,Ze)|0,b=b+Math.imul(K,We)|0,x=x+Math.imul(K,Ze)|0,T=T+Math.imul(Ot,He)|0,b=b+Math.imul(Ot,jt)|0,b=b+Math.imul(qt,He)|0,x=x+Math.imul(qt,jt)|0,T=T+Math.imul(ut,Ut)|0,b=b+Math.imul(ut,$t)|0,b=b+Math.imul(ot,Ut)|0,x=x+Math.imul(ot,$t)|0,T=T+Math.imul(Ct,Xt)|0,b=b+Math.imul(Ct,Y)|0,b=b+Math.imul(zt,Xt)|0,x=x+Math.imul(zt,Y)|0,T=T+Math.imul(Bt,O)|0,b=b+Math.imul(Bt,ee)|0,b=b+Math.imul(Gt,O)|0,x=x+Math.imul(Gt,ee)|0,T=T+Math.imul(Qe,pe)|0,b=b+Math.imul(Qe,Se)|0,b=b+Math.imul(Ge,pe)|0,x=x+Math.imul(Ge,Se)|0,T=T+Math.imul($e,tt)|0,b=b+Math.imul($e,et)|0,b=b+Math.imul(nt,tt)|0,x=x+Math.imul(nt,et)|0,T=T+Math.imul(Te,Me)|0,b=b+Math.imul(Te,_t)|0,b=b+Math.imul(ke,Me)|0,x=x+Math.imul(ke,_t)|0,T=T+Math.imul(V,en)|0,b=b+Math.imul(V,on)|0,b=b+Math.imul(te,en)|0,x=x+Math.imul(te,on)|0;var Oa=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(Oa>>>26)|0,Oa&=67108863,T=Math.imul(C,We),b=Math.imul(C,Ze),b=b+Math.imul(Q,We)|0,x=Math.imul(Q,Ze),T=T+Math.imul(Tt,He)|0,b=b+Math.imul(Tt,jt)|0,b=b+Math.imul(K,He)|0,x=x+Math.imul(K,jt)|0,T=T+Math.imul(Ot,Ut)|0,b=b+Math.imul(Ot,$t)|0,b=b+Math.imul(qt,Ut)|0,x=x+Math.imul(qt,$t)|0,T=T+Math.imul(ut,Xt)|0,b=b+Math.imul(ut,Y)|0,b=b+Math.imul(ot,Xt)|0,x=x+Math.imul(ot,Y)|0,T=T+Math.imul(Ct,O)|0,b=b+Math.imul(Ct,ee)|0,b=b+Math.imul(zt,O)|0,x=x+Math.imul(zt,ee)|0,T=T+Math.imul(Bt,pe)|0,b=b+Math.imul(Bt,Se)|0,b=b+Math.imul(Gt,pe)|0,x=x+Math.imul(Gt,Se)|0,T=T+Math.imul(Qe,tt)|0,b=b+Math.imul(Qe,et)|0,b=b+Math.imul(Ge,tt)|0,x=x+Math.imul(Ge,et)|0,T=T+Math.imul($e,Me)|0,b=b+Math.imul($e,_t)|0,b=b+Math.imul(nt,Me)|0,x=x+Math.imul(nt,_t)|0,T=T+Math.imul(Te,en)|0,b=b+Math.imul(Te,on)|0,b=b+Math.imul(ke,en)|0,x=x+Math.imul(ke,on)|0;var ja=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(ja>>>26)|0,ja&=67108863,T=Math.imul(C,He),b=Math.imul(C,jt),b=b+Math.imul(Q,He)|0,x=Math.imul(Q,jt),T=T+Math.imul(Tt,Ut)|0,b=b+Math.imul(Tt,$t)|0,b=b+Math.imul(K,Ut)|0,x=x+Math.imul(K,$t)|0,T=T+Math.imul(Ot,Xt)|0,b=b+Math.imul(Ot,Y)|0,b=b+Math.imul(qt,Xt)|0,x=x+Math.imul(qt,Y)|0,T=T+Math.imul(ut,O)|0,b=b+Math.imul(ut,ee)|0,b=b+Math.imul(ot,O)|0,x=x+Math.imul(ot,ee)|0,T=T+Math.imul(Ct,pe)|0,b=b+Math.imul(Ct,Se)|0,b=b+Math.imul(zt,pe)|0,x=x+Math.imul(zt,Se)|0,T=T+Math.imul(Bt,tt)|0,b=b+Math.imul(Bt,et)|0,b=b+Math.imul(Gt,tt)|0,x=x+Math.imul(Gt,et)|0,T=T+Math.imul(Qe,Me)|0,b=b+Math.imul(Qe,_t)|0,b=b+Math.imul(Ge,Me)|0,x=x+Math.imul(Ge,_t)|0,T=T+Math.imul($e,en)|0,b=b+Math.imul($e,on)|0,b=b+Math.imul(nt,en)|0,x=x+Math.imul(nt,on)|0;var Hr=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,T=Math.imul(C,Ut),b=Math.imul(C,$t),b=b+Math.imul(Q,Ut)|0,x=Math.imul(Q,$t),T=T+Math.imul(Tt,Xt)|0,b=b+Math.imul(Tt,Y)|0,b=b+Math.imul(K,Xt)|0,x=x+Math.imul(K,Y)|0,T=T+Math.imul(Ot,O)|0,b=b+Math.imul(Ot,ee)|0,b=b+Math.imul(qt,O)|0,x=x+Math.imul(qt,ee)|0,T=T+Math.imul(ut,pe)|0,b=b+Math.imul(ut,Se)|0,b=b+Math.imul(ot,pe)|0,x=x+Math.imul(ot,Se)|0,T=T+Math.imul(Ct,tt)|0,b=b+Math.imul(Ct,et)|0,b=b+Math.imul(zt,tt)|0,x=x+Math.imul(zt,et)|0,T=T+Math.imul(Bt,Me)|0,b=b+Math.imul(Bt,_t)|0,b=b+Math.imul(Gt,Me)|0,x=x+Math.imul(Gt,_t)|0,T=T+Math.imul(Qe,en)|0,b=b+Math.imul(Qe,on)|0,b=b+Math.imul(Ge,en)|0,x=x+Math.imul(Ge,on)|0;var ii=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(ii>>>26)|0,ii&=67108863,T=Math.imul(C,Xt),b=Math.imul(C,Y),b=b+Math.imul(Q,Xt)|0,x=Math.imul(Q,Y),T=T+Math.imul(Tt,O)|0,b=b+Math.imul(Tt,ee)|0,b=b+Math.imul(K,O)|0,x=x+Math.imul(K,ee)|0,T=T+Math.imul(Ot,pe)|0,b=b+Math.imul(Ot,Se)|0,b=b+Math.imul(qt,pe)|0,x=x+Math.imul(qt,Se)|0,T=T+Math.imul(ut,tt)|0,b=b+Math.imul(ut,et)|0,b=b+Math.imul(ot,tt)|0,x=x+Math.imul(ot,et)|0,T=T+Math.imul(Ct,Me)|0,b=b+Math.imul(Ct,_t)|0,b=b+Math.imul(zt,Me)|0,x=x+Math.imul(zt,_t)|0,T=T+Math.imul(Bt,en)|0,b=b+Math.imul(Bt,on)|0,b=b+Math.imul(Gt,en)|0,x=x+Math.imul(Gt,on)|0;var rl=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(rl>>>26)|0,rl&=67108863,T=Math.imul(C,O),b=Math.imul(C,ee),b=b+Math.imul(Q,O)|0,x=Math.imul(Q,ee),T=T+Math.imul(Tt,pe)|0,b=b+Math.imul(Tt,Se)|0,b=b+Math.imul(K,pe)|0,x=x+Math.imul(K,Se)|0,T=T+Math.imul(Ot,tt)|0,b=b+Math.imul(Ot,et)|0,b=b+Math.imul(qt,tt)|0,x=x+Math.imul(qt,et)|0,T=T+Math.imul(ut,Me)|0,b=b+Math.imul(ut,_t)|0,b=b+Math.imul(ot,Me)|0,x=x+Math.imul(ot,_t)|0,T=T+Math.imul(Ct,en)|0,b=b+Math.imul(Ct,on)|0,b=b+Math.imul(zt,en)|0,x=x+Math.imul(zt,on)|0;var Ma=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,T=Math.imul(C,pe),b=Math.imul(C,Se),b=b+Math.imul(Q,pe)|0,x=Math.imul(Q,Se),T=T+Math.imul(Tt,tt)|0,b=b+Math.imul(Tt,et)|0,b=b+Math.imul(K,tt)|0,x=x+Math.imul(K,et)|0,T=T+Math.imul(Ot,Me)|0,b=b+Math.imul(Ot,_t)|0,b=b+Math.imul(qt,Me)|0,x=x+Math.imul(qt,_t)|0,T=T+Math.imul(ut,en)|0,b=b+Math.imul(ut,on)|0,b=b+Math.imul(ot,en)|0,x=x+Math.imul(ot,on)|0;var Ua=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(Ua>>>26)|0,Ua&=67108863,T=Math.imul(C,tt),b=Math.imul(C,et),b=b+Math.imul(Q,tt)|0,x=Math.imul(Q,et),T=T+Math.imul(Tt,Me)|0,b=b+Math.imul(Tt,_t)|0,b=b+Math.imul(K,Me)|0,x=x+Math.imul(K,_t)|0,T=T+Math.imul(Ot,en)|0,b=b+Math.imul(Ot,on)|0,b=b+Math.imul(qt,en)|0,x=x+Math.imul(qt,on)|0;var il=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(il>>>26)|0,il&=67108863,T=Math.imul(C,Me),b=Math.imul(C,_t),b=b+Math.imul(Q,Me)|0,x=Math.imul(Q,_t),T=T+Math.imul(Tt,en)|0,b=b+Math.imul(Tt,on)|0,b=b+Math.imul(K,en)|0,x=x+Math.imul(K,on)|0;var is=(J+T|0)+((b&8191)<<13)|0;J=(x+(b>>>13)|0)+(is>>>26)|0,is&=67108863,T=Math.imul(C,en),b=Math.imul(C,on),b=b+Math.imul(Q,en)|0,x=Math.imul(Q,on);var ss=(J+T|0)+((b&8191)<<13)|0;return J=(x+(b>>>13)|0)+(ss>>>26)|0,ss&=67108863,G[0]=nl,G[1]=Ca,G[2]=xi,G[3]=Ks,G[4]=ti,G[5]=ni,G[6]=_i,G[7]=ri,G[8]=ln,G[9]=Oa,G[10]=ja,G[11]=Hr,G[12]=ii,G[13]=rl,G[14]=Ma,G[15]=Ua,G[16]=il,G[17]=is,G[18]=ss,J!==0&&(G[19]=J,_.length++),_};Math.imul||(P=X);function F(E,p,v){v.negative=p.negative^E.negative,v.length=E.length+p.length;for(var _=0,N=0,B=0;B<v.length-1;B++){var G=N;N=0;for(var J=_&67108863,T=Math.min(B,p.length-1),b=Math.max(0,B-E.length+1);b<=T;b++){var x=B-b,L=E.words[x]|0,V=p.words[b]|0,te=L*V,ae=te&67108863;G=G+(te/67108864|0)|0,ae=ae+J|0,J=ae&67108863,G=G+(ae>>>26)|0,N+=G>>>26,G&=67108863}v.words[B]=J,_=G,G=N}return _!==0?v.words[B]=_:v.length--,v._strip()}function ne(E,p,v){return F(E,p,v)}l.prototype.mulTo=function(p,v){var _,N=this.length+p.length;return this.length===10&&p.length===10?_=P(this,p,v):N<63?_=X(this,p,v):N<1024?_=F(this,p,v):_=ne(this,p,v),_},l.prototype.mul=function(p){var v=new l(null);return v.words=new Array(this.length+p.length),this.mulTo(p,v)},l.prototype.mulf=function(p){var v=new l(null);return v.words=new Array(this.length+p.length),ne(this,p,v)},l.prototype.imul=function(p){return this.clone().mulTo(p,this)},l.prototype.imuln=function(p){var v=p<0;v&&(p=-p),s(typeof p=="number"),s(p<67108864);for(var _=0,N=0;N<this.length;N++){var B=(this.words[N]|0)*p,G=(B&67108863)+(_&67108863);_>>=26,_+=B/67108864|0,_+=G>>>26,this.words[N]=G&67108863}return _!==0&&(this.words[N]=_,this.length++),this.length=p===0?1:this.length,v?this.ineg():this},l.prototype.muln=function(p){return this.clone().imuln(p)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(p){var v=H(p);if(v.length===0)return new l(1);for(var _=this,N=0;N<v.length&&v[N]===0;N++,_=_.sqr());if(++N<v.length)for(var B=_.sqr();N<v.length;N++,B=B.sqr())v[N]!==0&&(_=_.mul(B));return _},l.prototype.iushln=function(p){s(typeof p=="number"&&p>=0);var v=p%26,_=(p-v)/26,N=67108863>>>26-v<<26-v,B;if(v!==0){var G=0;for(B=0;B<this.length;B++){var J=this.words[B]&N,T=(this.words[B]|0)-J<<v;this.words[B]=T|G,G=J>>>26-v}G&&(this.words[B]=G,this.length++)}if(_!==0){for(B=this.length-1;B>=0;B--)this.words[B+_]=this.words[B];for(B=0;B<_;B++)this.words[B]=0;this.length+=_}return this._strip()},l.prototype.ishln=function(p){return s(this.negative===0),this.iushln(p)},l.prototype.iushrn=function(p,v,_){s(typeof p=="number"&&p>=0);var N;v?N=(v-v%26)/26:N=0;var B=p%26,G=Math.min((p-B)/26,this.length),J=67108863^67108863>>>B<<B,T=_;if(N-=G,N=Math.max(0,N),T){for(var b=0;b<G;b++)T.words[b]=this.words[b];T.length=G}if(G!==0)if(this.length>G)for(this.length-=G,b=0;b<this.length;b++)this.words[b]=this.words[b+G];else this.words[0]=0,this.length=1;var x=0;for(b=this.length-1;b>=0&&(x!==0||b>=N);b--){var L=this.words[b]|0;this.words[b]=x<<26-B|L>>>B,x=L&J}return T&&x!==0&&(T.words[T.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(p,v,_){return s(this.negative===0),this.iushrn(p,v,_)},l.prototype.shln=function(p){return this.clone().ishln(p)},l.prototype.ushln=function(p){return this.clone().iushln(p)},l.prototype.shrn=function(p){return this.clone().ishrn(p)},l.prototype.ushrn=function(p){return this.clone().iushrn(p)},l.prototype.testn=function(p){s(typeof p=="number"&&p>=0);var v=p%26,_=(p-v)/26,N=1<<v;if(this.length<=_)return!1;var B=this.words[_];return!!(B&N)},l.prototype.imaskn=function(p){s(typeof p=="number"&&p>=0);var v=p%26,_=(p-v)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(v!==0&&_++,this.length=Math.min(_,this.length),v!==0){var N=67108863^67108863>>>v<<v;this.words[this.length-1]&=N}return this._strip()},l.prototype.maskn=function(p){return this.clone().imaskn(p)},l.prototype.iaddn=function(p){return s(typeof p=="number"),s(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},l.prototype._iaddn=function(p){this.words[0]+=p;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},l.prototype.isubn=function(p){if(s(typeof p=="number"),s(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},l.prototype.addn=function(p){return this.clone().iaddn(p)},l.prototype.subn=function(p){return this.clone().isubn(p)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(p,v,_){var N=p.length+_,B;this._expand(N);var G,J=0;for(B=0;B<p.length;B++){G=(this.words[B+_]|0)+J;var T=(p.words[B]|0)*v;G-=T&67108863,J=(G>>26)-(T/67108864|0),this.words[B+_]=G&67108863}for(;B<this.length-_;B++)G=(this.words[B+_]|0)+J,J=G>>26,this.words[B+_]=G&67108863;if(J===0)return this._strip();for(s(J===-1),J=0,B=0;B<this.length;B++)G=-(this.words[B]|0)+J,J=G>>26,this.words[B]=G&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(p,v){var _=this.length-p.length,N=this.clone(),B=p,G=B.words[B.length-1]|0,J=this._countBits(G);_=26-J,_!==0&&(B=B.ushln(_),N.iushln(_),G=B.words[B.length-1]|0);var T=N.length-B.length,b;if(v!=="mod"){b=new l(null),b.length=T+1,b.words=new Array(b.length);for(var x=0;x<b.length;x++)b.words[x]=0}var L=N.clone()._ishlnsubmul(B,1,T);L.negative===0&&(N=L,b&&(b.words[T]=1));for(var V=T-1;V>=0;V--){var te=(N.words[B.length+V]|0)*67108864+(N.words[B.length+V-1]|0);for(te=Math.min(te/G|0,67108863),N._ishlnsubmul(B,te,V);N.negative!==0;)te--,N.negative=0,N._ishlnsubmul(B,1,V),N.isZero()||(N.negative^=1);b&&(b.words[V]=te)}return b&&b._strip(),N._strip(),v!=="div"&&_!==0&&N.iushrn(_),{div:b||null,mod:N}},l.prototype.divmod=function(p,v,_){if(s(!p.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var N,B,G;return this.negative!==0&&p.negative===0?(G=this.neg().divmod(p,v),v!=="mod"&&(N=G.div.neg()),v!=="div"&&(B=G.mod.neg(),_&&B.negative!==0&&B.iadd(p)),{div:N,mod:B}):this.negative===0&&p.negative!==0?(G=this.divmod(p.neg(),v),v!=="mod"&&(N=G.div.neg()),{div:N,mod:G.mod}):(this.negative&p.negative)!==0?(G=this.neg().divmod(p.neg(),v),v!=="div"&&(B=G.mod.neg(),_&&B.negative!==0&&B.isub(p)),{div:G.div,mod:B}):p.length>this.length||this.cmp(p)<0?{div:new l(0),mod:this}:p.length===1?v==="div"?{div:this.divn(p.words[0]),mod:null}:v==="mod"?{div:null,mod:new l(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new l(this.modrn(p.words[0]))}:this._wordDiv(p,v)},l.prototype.div=function(p){return this.divmod(p,"div",!1).div},l.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},l.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},l.prototype.divRound=function(p){var v=this.divmod(p);if(v.mod.isZero())return v.div;var _=v.div.negative!==0?v.mod.isub(p):v.mod,N=p.ushrn(1),B=p.andln(1),G=_.cmp(N);return G<0||B===1&&G===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},l.prototype.modrn=function(p){var v=p<0;v&&(p=-p),s(p<=67108863);for(var _=(1<<26)%p,N=0,B=this.length-1;B>=0;B--)N=(_*N+(this.words[B]|0))%p;return v?-N:N},l.prototype.modn=function(p){return this.modrn(p)},l.prototype.idivn=function(p){var v=p<0;v&&(p=-p),s(p<=67108863);for(var _=0,N=this.length-1;N>=0;N--){var B=(this.words[N]|0)+_*67108864;this.words[N]=B/p|0,_=B%p}return this._strip(),v?this.ineg():this},l.prototype.divn=function(p){return this.clone().idivn(p)},l.prototype.egcd=function(p){s(p.negative===0),s(!p.isZero());var v=this,_=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var N=new l(1),B=new l(0),G=new l(0),J=new l(1),T=0;v.isEven()&&_.isEven();)v.iushrn(1),_.iushrn(1),++T;for(var b=_.clone(),x=v.clone();!v.isZero();){for(var L=0,V=1;(v.words[0]&V)===0&&L<26;++L,V<<=1);if(L>0)for(v.iushrn(L);L-- >0;)(N.isOdd()||B.isOdd())&&(N.iadd(b),B.isub(x)),N.iushrn(1),B.iushrn(1);for(var te=0,ae=1;(_.words[0]&ae)===0&&te<26;++te,ae<<=1);if(te>0)for(_.iushrn(te);te-- >0;)(G.isOdd()||J.isOdd())&&(G.iadd(b),J.isub(x)),G.iushrn(1),J.iushrn(1);v.cmp(_)>=0?(v.isub(_),N.isub(G),B.isub(J)):(_.isub(v),G.isub(N),J.isub(B))}return{a:G,b:J,gcd:_.iushln(T)}},l.prototype._invmp=function(p){s(p.negative===0),s(!p.isZero());var v=this,_=p.clone();v.negative!==0?v=v.umod(p):v=v.clone();for(var N=new l(1),B=new l(0),G=_.clone();v.cmpn(1)>0&&_.cmpn(1)>0;){for(var J=0,T=1;(v.words[0]&T)===0&&J<26;++J,T<<=1);if(J>0)for(v.iushrn(J);J-- >0;)N.isOdd()&&N.iadd(G),N.iushrn(1);for(var b=0,x=1;(_.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0)for(_.iushrn(b);b-- >0;)B.isOdd()&&B.iadd(G),B.iushrn(1);v.cmp(_)>=0?(v.isub(_),N.isub(B)):(_.isub(v),B.isub(N))}var L;return v.cmpn(1)===0?L=N:L=B,L.cmpn(0)<0&&L.iadd(p),L},l.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var v=this.clone(),_=p.clone();v.negative=0,_.negative=0;for(var N=0;v.isEven()&&_.isEven();N++)v.iushrn(1),_.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;_.isEven();)_.iushrn(1);var B=v.cmp(_);if(B<0){var G=v;v=_,_=G}else if(B===0||_.cmpn(1)===0)break;v.isub(_)}while(!0);return _.iushln(N)},l.prototype.invm=function(p){return this.egcd(p).a.umod(p)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(p){return this.words[0]&p},l.prototype.bincn=function(p){s(typeof p=="number");var v=p%26,_=(p-v)/26,N=1<<v;if(this.length<=_)return this._expand(_+1),this.words[_]|=N,this;for(var B=N,G=_;B!==0&&G<this.length;G++){var J=this.words[G]|0;J+=B,B=J>>>26,J&=67108863,this.words[G]=J}return B!==0&&(this.words[G]=B,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(p){var v=p<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var _;if(this.length>1)_=1;else{v&&(p=-p),s(p<=67108863,"Number is too big");var N=this.words[0]|0;_=N===p?0:N<p?-1:1}return this.negative!==0?-_|0:_},l.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var v=this.ucmp(p);return this.negative!==0?-v|0:v},l.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var v=0,_=this.length-1;_>=0;_--){var N=this.words[_]|0,B=p.words[_]|0;if(N!==B){N<B?v=-1:N>B&&(v=1);break}}return v},l.prototype.gtn=function(p){return this.cmpn(p)===1},l.prototype.gt=function(p){return this.cmp(p)===1},l.prototype.gten=function(p){return this.cmpn(p)>=0},l.prototype.gte=function(p){return this.cmp(p)>=0},l.prototype.ltn=function(p){return this.cmpn(p)===-1},l.prototype.lt=function(p){return this.cmp(p)===-1},l.prototype.lten=function(p){return this.cmpn(p)<=0},l.prototype.lte=function(p){return this.cmp(p)<=0},l.prototype.eqn=function(p){return this.cmpn(p)===0},l.prototype.eq=function(p){return this.cmp(p)===0},l.red=function(p){return new W(p)},l.prototype.toRed=function(p){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},l.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(p){return this.red=p,this},l.prototype.forceRed=function(p){return s(!this.red,"Already a number in reduction context"),this._forceRed(p)},l.prototype.redAdd=function(p){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},l.prototype.redIAdd=function(p){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},l.prototype.redSub=function(p){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},l.prototype.redISub=function(p){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},l.prototype.redShl=function(p){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},l.prototype.redMul=function(p){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},l.prototype.redIMul=function(p){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},l.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(p){return s(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var he={k256:null,p224:null,p192:null,p25519:null};function fe(E,p){this.name=E,this.p=new l(p,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}fe.prototype._tmp=function(){var p=new l(null);return p.words=new Array(Math.ceil(this.n/13)),p},fe.prototype.ireduce=function(p){var v=p,_;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),_=v.bitLength();while(_>this.n);var N=_<this.n?-1:v.ucmp(this.p);return N===0?(v.words[0]=0,v.length=1):N>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},fe.prototype.split=function(p,v){p.iushrn(this.n,0,v)},fe.prototype.imulK=function(p){return p.imul(this.k)};function le(){fe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(le,fe),le.prototype.split=function(p,v){for(var _=4194303,N=Math.min(p.length,9),B=0;B<N;B++)v.words[B]=p.words[B];if(v.length=N,p.length<=9){p.words[0]=0,p.length=1;return}var G=p.words[9];for(v.words[v.length++]=G&_,B=10;B<p.length;B++){var J=p.words[B]|0;p.words[B-10]=(J&_)<<4|G>>>22,G=J}G>>>=22,p.words[B-10]=G,G===0&&p.length>10?p.length-=10:p.length-=9},le.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var v=0,_=0;_<p.length;_++){var N=p.words[_]|0;v+=N*977,p.words[_]=v&67108863,v=N*64+(v/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function D(){fe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(D,fe);function M(){fe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(M,fe);function q(){fe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(q,fe),q.prototype.imulK=function(p){for(var v=0,_=0;_<p.length;_++){var N=(p.words[_]|0)*19+v,B=N&67108863;N>>>=26,p.words[_]=B,v=N}return v!==0&&(p.words[p.length++]=v),p},l._prime=function(p){if(he[p])return he[p];var v;if(p==="k256")v=new le;else if(p==="p224")v=new D;else if(p==="p192")v=new M;else if(p==="p25519")v=new q;else throw new Error("Unknown prime "+p);return he[p]=v,v};function W(E){if(typeof E=="string"){var p=l._prime(E);this.m=p.p,this.prime=p}else s(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}W.prototype._verify1=function(p){s(p.negative===0,"red works only with positives"),s(p.red,"red works only with red numbers")},W.prototype._verify2=function(p,v){s((p.negative|v.negative)===0,"red works only with positives"),s(p.red&&p.red===v.red,"red works only with red numbers")},W.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(g(p,p.umod(this.m)._forceRed(this)),p)},W.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},W.prototype.add=function(p,v){this._verify2(p,v);var _=p.add(v);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},W.prototype.iadd=function(p,v){this._verify2(p,v);var _=p.iadd(v);return _.cmp(this.m)>=0&&_.isub(this.m),_},W.prototype.sub=function(p,v){this._verify2(p,v);var _=p.sub(v);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},W.prototype.isub=function(p,v){this._verify2(p,v);var _=p.isub(v);return _.cmpn(0)<0&&_.iadd(this.m),_},W.prototype.shl=function(p,v){return this._verify1(p),this.imod(p.ushln(v))},W.prototype.imul=function(p,v){return this._verify2(p,v),this.imod(p.imul(v))},W.prototype.mul=function(p,v){return this._verify2(p,v),this.imod(p.mul(v))},W.prototype.isqr=function(p){return this.imul(p,p.clone())},W.prototype.sqr=function(p){return this.mul(p,p)},W.prototype.sqrt=function(p){if(p.isZero())return p.clone();var v=this.m.andln(3);if(s(v%2===1),v===3){var _=this.m.add(new l(1)).iushrn(2);return this.pow(p,_)}for(var N=this.m.subn(1),B=0;!N.isZero()&&N.andln(1)===0;)B++,N.iushrn(1);s(!N.isZero());var G=new l(1).toRed(this),J=G.redNeg(),T=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new l(2*b*b).toRed(this);this.pow(b,T).cmp(J)!==0;)b.redIAdd(J);for(var x=this.pow(b,N),L=this.pow(p,N.addn(1).iushrn(1)),V=this.pow(p,N),te=B;V.cmp(G)!==0;){for(var ae=V,Te=0;ae.cmp(G)!==0;Te++)ae=ae.redSqr();s(Te<te);var ke=this.pow(x,new l(1).iushln(te-Te-1));L=L.redMul(ke),x=ke.redSqr(),V=V.redMul(x),te=Te}return L},W.prototype.invm=function(p){var v=p._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},W.prototype.pow=function(p,v){if(v.isZero())return new l(1).toRed(this);if(v.cmpn(1)===0)return p.clone();var _=4,N=new Array(1<<_);N[0]=new l(1).toRed(this),N[1]=p;for(var B=2;B<N.length;B++)N[B]=this.mul(N[B-1],p);var G=N[0],J=0,T=0,b=v.bitLength()%26;for(b===0&&(b=26),B=v.length-1;B>=0;B--){for(var x=v.words[B],L=b-1;L>=0;L--){var V=x>>L&1;if(G!==N[0]&&(G=this.sqr(G)),V===0&&J===0){T=0;continue}J<<=1,J|=V,T++,!(T!==_&&(B!==0||L!==0))&&(G=this.mul(G,N[J]),T=0,J=0)}b=26}return G},W.prototype.convertTo=function(p){var v=p.umod(this.m);return v===p?v.clone():v},W.prototype.convertFrom=function(p){var v=p.clone();return v.red=null,v},l.mont=function(p){return new I(p)};function I(E){W.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(I,W),I.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},I.prototype.convertFrom=function(p){var v=this.imod(p.mul(this.rinv));return v.red=null,v},I.prototype.imul=function(p,v){if(p.isZero()||v.isZero())return p.words[0]=0,p.length=1,p;var _=p.imul(v),N=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=_.isub(N).iushrn(this.shift),G=B;return B.cmp(this.m)>=0?G=B.isub(this.m):B.cmpn(0)<0&&(G=B.iadd(this.m)),G._forceRed(this)},I.prototype.mul=function(p,v){if(p.isZero()||v.isZero())return new l(0)._forceRed(this);var _=p.mul(v),N=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=_.isub(N).iushrn(this.shift),G=B;return B.cmp(this.m)>=0?G=B.isub(this.m):B.cmpn(0)<0&&(G=B.iadd(this.m)),G._forceRed(this)},I.prototype.invm=function(p){var v=this.imod(p._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(n,w5)})(of)),of.exports}var x5=Ux();const tv=mc(x5);var Xu={exports:{}};var nv;function _5(){return nv||(nv=1,(function(n,e){var r=Gm(),s=r.Buffer;function a(u,h){for(var f in u)h[f]=u[f]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=r:(a(r,e),e.Buffer=l);function l(u,h,f){return s(u,h,f)}l.prototype=Object.create(s.prototype),a(s,l),l.from=function(u,h,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,h,f)},l.alloc=function(u,h,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var m=s(u);return h!==void 0?typeof f=="string"?m.fill(h,f):m.fill(h):m.fill(0),m},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}})(Xu,Xu.exports)),Xu.exports}var R0,rv;function S5(){if(rv)return R0;rv=1;var n=_5().Buffer;function e(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var s=new Uint8Array(256),a=0;a<s.length;a++)s[a]=255;for(var l=0;l<r.length;l++){var u=r.charAt(l),h=u.charCodeAt(0);if(s[h]!==255)throw new TypeError(u+" is ambiguous");s[h]=l}var f=r.length,m=r.charAt(0),g=Math.log(f)/Math.log(256),S=Math.log(256)/Math.log(f);function k($){if((Array.isArray($)||$ instanceof Uint8Array)&&($=n.from($)),!n.isBuffer($))throw new TypeError("Expected Buffer");if($.length===0)return"";for(var H=0,X=0,P=0,F=$.length;P!==F&&$[P]===0;)P++,H++;for(var ne=(F-P)*S+1>>>0,he=new Uint8Array(ne);P!==F;){for(var fe=$[P],le=0,D=ne-1;(fe!==0||le<X)&&D!==-1;D--,le++)fe+=256*he[D]>>>0,he[D]=fe%f>>>0,fe=fe/f>>>0;if(fe!==0)throw new Error("Non-zero carry");X=le,P++}for(var M=ne-X;M!==ne&&he[M]===0;)M++;for(var q=m.repeat(H);M<ne;++M)q+=r.charAt(he[M]);return q}function j($){if(typeof $!="string")throw new TypeError("Expected String");if($.length===0)return n.alloc(0);for(var H=0,X=0,P=0;$[H]===m;)X++,H++;for(var F=($.length-H)*g+1>>>0,ne=new Uint8Array(F);H<$.length;){var he=$.charCodeAt(H);if(he>255)return;var fe=s[he];if(fe===255)return;for(var le=0,D=F-1;(fe!==0||le<P)&&D!==-1;D--,le++)fe+=f*ne[D]>>>0,ne[D]=fe%256>>>0,fe=fe/256>>>0;if(fe!==0)throw new Error("Non-zero carry");P=le,H++}for(var M=F-P;M!==F&&ne[M]===0;)M++;var q=n.allocUnsafe(X+(F-M));q.fill(0,0,X);for(var W=X;M!==F;)q[W++]=ne[M++];return q}function z($){var H=j($);if(H)return H;throw new Error("Non-base"+f+" character")}return{encode:k,decodeUnsafe:j,decode:z}}return R0=e,R0}var k0,iv;function Lx(){if(iv)return k0;iv=1;var n=S5(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return k0=n(e),k0}var E5=Lx();const Vn=mc(E5),sv=mx;var Dt={};function Ki(n,e,r){return e<=n&&n<=r}function zf(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function A5(n){for(var e=String(n),r=e.length,s=0,a=[];s<r;){var l=e.charCodeAt(s);if(l<55296||l>57343)a.push(l);else if(56320<=l&&l<=57343)a.push(65533);else if(55296<=l&&l<=56319)if(s===r-1)a.push(65533);else{var u=n.charCodeAt(s+1);if(56320<=u&&u<=57343){var h=l&1023,f=u&1023;a.push(65536+(h<<10)+f),s+=1}else a.push(65533)}s+=1}return a}function R5(n){for(var e="",r=0;r<n.length;++r){var s=n[r];s<=65535?e+=String.fromCharCode(s):(s-=65536,e+=String.fromCharCode((s>>10)+55296,(s&1023)+56320))}return e}var _f=-1;function Vm(n){this.tokens=[].slice.call(n)}Vm.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():_f},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var Go=-1;function T0(n,e){if(n)throw TypeError("Decoder error");return e||65533}var Sf="utf-8";function Ef(n,e){if(!(this instanceof Ef))return new Ef(n,e);if(n=n!==void 0?String(n).toLowerCase():Sf,n!==Sf)throw new Error("Encoding not supported. Only utf-8 is supported");e=zf(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Ef.prototype={decode:function(e,r){var s;typeof e=="object"&&e instanceof ArrayBuffer?s=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?s=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):s=new Uint8Array(0),r=zf(r),this._streaming||(this._decoder=new k5({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var a=new Vm(s),l=[],u;!a.endOfStream()&&(u=this._decoder.handler(a,a.read()),u!==Go);)u!==null&&(Array.isArray(u)?l.push.apply(l,u):l.push(u));if(!this._streaming){do{if(u=this._decoder.handler(a,a.read()),u===Go)break;u!==null&&(Array.isArray(u)?l.push.apply(l,u):l.push(u))}while(!a.endOfStream());this._decoder=null}return l.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(l[0]===65279?(this._BOMseen=!0,l.shift()):this._BOMseen=!0),R5(l)}};function Af(n,e){if(!(this instanceof Af))return new Af(n,e);if(n=n!==void 0?String(n).toLowerCase():Sf,n!==Sf)throw new Error("Encoding not supported. Only utf-8 is supported");e=zf(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Af.prototype={encode:function(e,r){e=e?String(e):"",r=zf(r),this._streaming||(this._encoder=new T5(this._options)),this._streaming=!!r.stream;for(var s=[],a=new Vm(A5(e)),l;!a.endOfStream()&&(l=this._encoder.handler(a,a.read()),l!==Go);)Array.isArray(l)?s.push.apply(s,l):s.push(l);if(!this._streaming){for(;l=this._encoder.handler(a,a.read()),l!==Go;)Array.isArray(l)?s.push.apply(s,l):s.push(l);this._encoder=null}return new Uint8Array(s)}};function k5(n){var e=n.fatal,r=0,s=0,a=0,l=128,u=191;this.handler=function(h,f){if(f===_f&&a!==0)return a=0,T0(e);if(f===_f)return Go;if(a===0){if(Ki(f,0,127))return f;if(Ki(f,194,223))a=1,r=f-192;else if(Ki(f,224,239))f===224&&(l=160),f===237&&(u=159),a=2,r=f-224;else if(Ki(f,240,244))f===240&&(l=144),f===244&&(u=143),a=3,r=f-240;else return T0(e);return r=r<<6*a,null}if(!Ki(f,l,u))return r=a=s=0,l=128,u=191,h.prepend(f),T0(e);if(l=128,u=191,s+=1,r+=f-128<<6*(a-s),s!==a)return null;var m=r;return r=a=s=0,m}}function T5(n){n.fatal,this.handler=function(e,r){if(r===_f)return Go;if(Ki(r,0,127))return r;var s,a;Ki(r,128,2047)?(s=1,a=192):Ki(r,2048,65535)?(s=2,a=224):Ki(r,65536,1114111)&&(s=3,a=240);for(var l=[(r>>6*s)+a];s>0;){var u=r>>6*(s-1);l.push(128|u&63),s-=1}return l}}const N5=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Ef,TextEncoder:Af},Symbol.toStringTag,{value:"Module"})),B5=Ov(N5);var av;function C5(){if(av)return Dt;av=1;var n=Dt&&Dt.__createBinding||(Object.create?(function(M,q,W,I){I===void 0&&(I=W),Object.defineProperty(M,I,{enumerable:!0,get:function(){return q[W]}})}):(function(M,q,W,I){I===void 0&&(I=W),M[I]=q[W]})),e=Dt&&Dt.__setModuleDefault||(Object.create?(function(M,q){Object.defineProperty(M,"default",{enumerable:!0,value:q})}):function(M,q){M.default=q}),r=Dt&&Dt.__decorate||function(M,q,W,I){var E=arguments.length,p=E<3?q:I===null?I=Object.getOwnPropertyDescriptor(q,W):I,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(M,q,W,I);else for(var _=M.length-1;_>=0;_--)(v=M[_])&&(p=(E<3?v(p):E>3?v(q,W,p):v(q,W))||p);return E>3&&p&&Object.defineProperty(q,W,p),p},s=Dt&&Dt.__importStar||function(M){if(M&&M.__esModule)return M;var q={};if(M!=null)for(var W in M)W!=="default"&&Object.hasOwnProperty.call(M,W)&&n(q,M,W);return e(q,M),q},a=Dt&&Dt.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.deserializeUnchecked=Dt.deserialize=Dt.serialize=Dt.BinaryReader=Dt.BinaryWriter=Dt.BorshError=Dt.baseDecode=Dt.baseEncode=void 0;const l=a(Ux()),u=a(Lx()),h=s(B5),f=typeof TextDecoder!="function"?h.TextDecoder:TextDecoder,m=new f("utf-8",{fatal:!0});function g(M){return typeof M=="string"&&(M=Hn.from(M,"utf8")),u.default.encode(Hn.from(M))}Dt.baseEncode=g;function S(M){return Hn.from(u.default.decode(M))}Dt.baseDecode=S;const k=1024;class j extends Error{constructor(q){super(q),this.fieldPath=[],this.originalMessage=q}addToFieldPath(q){this.fieldPath.splice(0,0,q),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Dt.BorshError=j;class z{constructor(){this.buf=Hn.alloc(k),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Hn.concat([this.buf,Hn.alloc(k)]))}writeU8(q){this.maybeResize(),this.buf.writeUInt8(q,this.length),this.length+=1}writeU16(q){this.maybeResize(),this.buf.writeUInt16LE(q,this.length),this.length+=2}writeU32(q){this.maybeResize(),this.buf.writeUInt32LE(q,this.length),this.length+=4}writeU64(q){this.maybeResize(),this.writeBuffer(Hn.from(new l.default(q).toArray("le",8)))}writeU128(q){this.maybeResize(),this.writeBuffer(Hn.from(new l.default(q).toArray("le",16)))}writeU256(q){this.maybeResize(),this.writeBuffer(Hn.from(new l.default(q).toArray("le",32)))}writeU512(q){this.maybeResize(),this.writeBuffer(Hn.from(new l.default(q).toArray("le",64)))}writeBuffer(q){this.buf=Hn.concat([Hn.from(this.buf.subarray(0,this.length)),q,Hn.alloc(k)]),this.length+=q.length}writeString(q){this.maybeResize();const W=Hn.from(q,"utf8");this.writeU32(W.length),this.writeBuffer(W)}writeFixedArray(q){this.writeBuffer(Hn.from(q))}writeArray(q,W){this.maybeResize(),this.writeU32(q.length);for(const I of q)this.maybeResize(),W(I)}toArray(){return this.buf.subarray(0,this.length)}}Dt.BinaryWriter=z;function $(M,q,W){const I=W.value;W.value=function(...E){try{return I.apply(this,E)}catch(p){if(p instanceof RangeError){const v=p.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(v)>=0)throw new j("Reached the end of buffer when deserializing")}throw p}}}class H{constructor(q){this.buf=q,this.offset=0}readU8(){const q=this.buf.readUInt8(this.offset);return this.offset+=1,q}readU16(){const q=this.buf.readUInt16LE(this.offset);return this.offset+=2,q}readU32(){const q=this.buf.readUInt32LE(this.offset);return this.offset+=4,q}readU64(){const q=this.readBuffer(8);return new l.default(q,"le")}readU128(){const q=this.readBuffer(16);return new l.default(q,"le")}readU256(){const q=this.readBuffer(32);return new l.default(q,"le")}readU512(){const q=this.readBuffer(64);return new l.default(q,"le")}readBuffer(q){if(this.offset+q>this.buf.length)throw new j(`Expected buffer length ${q} isn't within bounds`);const W=this.buf.slice(this.offset,this.offset+q);return this.offset+=q,W}readString(){const q=this.readU32(),W=this.readBuffer(q);try{return m.decode(W)}catch(I){throw new j(`Error decoding UTF-8 string: ${I}`)}}readFixedArray(q){return new Uint8Array(this.readBuffer(q))}readArray(q){const W=this.readU32(),I=Array();for(let E=0;E<W;++E)I.push(q());return I}}r([$],H.prototype,"readU8",null),r([$],H.prototype,"readU16",null),r([$],H.prototype,"readU32",null),r([$],H.prototype,"readU64",null),r([$],H.prototype,"readU128",null),r([$],H.prototype,"readU256",null),r([$],H.prototype,"readU512",null),r([$],H.prototype,"readString",null),r([$],H.prototype,"readFixedArray",null),r([$],H.prototype,"readArray",null),Dt.BinaryReader=H;function X(M){return M.charAt(0).toUpperCase()+M.slice(1)}function P(M,q,W,I,E){try{if(typeof I=="string")E[`write${X(I)}`](W);else if(I instanceof Array)if(typeof I[0]=="number"){if(W.length!==I[0])throw new j(`Expecting byte array of length ${I[0]}, but got ${W.length} bytes`);E.writeFixedArray(W)}else if(I.length===2&&typeof I[1]=="number"){if(W.length!==I[1])throw new j(`Expecting byte array of length ${I[1]}, but got ${W.length} bytes`);for(let p=0;p<I[1];p++)P(M,null,W[p],I[0],E)}else E.writeArray(W,p=>{P(M,q,p,I[0],E)});else if(I.kind!==void 0)switch(I.kind){case"option":{W==null?E.writeU8(0):(E.writeU8(1),P(M,q,W,I.type,E));break}case"map":{E.writeU32(W.size),W.forEach((p,v)=>{P(M,q,v,I.key,E),P(M,q,p,I.value,E)});break}default:throw new j(`FieldType ${I} unrecognized`)}else F(M,W,E)}catch(p){throw p instanceof j&&p.addToFieldPath(q),p}}function F(M,q,W){if(typeof q.borshSerialize=="function"){q.borshSerialize(W);return}const I=M.get(q.constructor);if(!I)throw new j(`Class ${q.constructor.name} is missing in schema`);if(I.kind==="struct")I.fields.map(([E,p])=>{P(M,E,q[E],p,W)});else if(I.kind==="enum"){const E=q[I.field];for(let p=0;p<I.values.length;++p){const[v,_]=I.values[p];if(v===E){W.writeU8(p),P(M,v,q[v],_,W);break}}}else throw new j(`Unexpected schema kind: ${I.kind} for ${q.constructor.name}`)}function ne(M,q,W=z){const I=new W;return F(M,q,I),I.toArray()}Dt.serialize=ne;function he(M,q,W,I){try{if(typeof W=="string")return I[`read${X(W)}`]();if(W instanceof Array){if(typeof W[0]=="number")return I.readFixedArray(W[0]);if(typeof W[1]=="number"){const E=[];for(let p=0;p<W[1];p++)E.push(he(M,null,W[0],I));return E}else return I.readArray(()=>he(M,q,W[0],I))}if(W.kind==="option")return I.readU8()?he(M,q,W.type,I):void 0;if(W.kind==="map"){let E=new Map;const p=I.readU32();for(let v=0;v<p;v++){const _=he(M,q,W.key,I),N=he(M,q,W.value,I);E.set(_,N)}return E}return fe(M,W,I)}catch(E){throw E instanceof j&&E.addToFieldPath(q),E}}function fe(M,q,W){if(typeof q.borshDeserialize=="function")return q.borshDeserialize(W);const I=M.get(q);if(!I)throw new j(`Class ${q.name} is missing in schema`);if(I.kind==="struct"){const E={};for(const[p,v]of M.get(q).fields)E[p]=he(M,p,v,W);return new q(E)}if(I.kind==="enum"){const E=W.readU8();if(E>=I.values.length)throw new j(`Enum index: ${E} is out of range`);const[p,v]=I.values[E],_=he(M,p,v,W);return new q({[p]:_})}throw new j(`Unexpected schema kind: ${I.kind} for ${q.constructor.name}`)}function le(M,q,W,I=H){const E=new I(W),p=fe(M,q,E);if(E.offset<W.length)throw new j(`Unexpected ${W.length-E.offset} bytes after deserialized data`);return p}Dt.deserialize=le;function D(M,q,W,I=H){const E=new I(W);return fe(M,q,E)}return Dt.deserializeUnchecked=D,Dt}var N0=C5(),we={},ov;function O5(){if(ov)return we;ov=1,Object.defineProperty(we,"__esModule",{value:!0}),we.s16=we.s8=we.nu64be=we.u48be=we.u40be=we.u32be=we.u24be=we.u16be=we.nu64=we.u48=we.u40=we.u32=we.u24=we.u16=we.u8=we.offset=we.greedy=we.Constant=we.UTF8=we.CString=we.Blob=we.Boolean=we.BitField=we.BitStructure=we.VariantLayout=we.Union=we.UnionLayoutDiscriminator=we.UnionDiscriminator=we.Structure=we.Sequence=we.DoubleBE=we.Double=we.FloatBE=we.Float=we.NearInt64BE=we.NearInt64=we.NearUInt64BE=we.NearUInt64=we.IntBE=we.Int=we.UIntBE=we.UInt=we.OffsetLayout=we.GreedyCount=we.ExternalLayout=we.bindConstructorLayout=we.nameWithProperty=we.Layout=we.uint8ArrayToBuffer=we.checkUint8Array=void 0,we.constant=we.utf8=we.cstr=we.blob=we.unionLayoutDiscriminator=we.union=we.seq=we.bits=we.struct=we.f64be=we.f64=we.f32be=we.f32=we.ns64be=we.s48be=we.s40be=we.s32be=we.s24be=we.s16be=we.ns64=we.s48=we.s40=we.s32=we.s24=void 0;const n=Gm();function e(b){if(!(b instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}we.checkUint8Array=e;function r(b){return e(b),n.Buffer.from(b.buffer,b.byteOffset,b.length)}we.uint8ArrayToBuffer=r;let s=class{constructor(x,L){if(!Number.isInteger(x))throw new TypeError("span must be an integer");this.span=x,this.property=L}makeDestinationObject(){return{}}getSpan(x,L){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(x){const L=Object.create(this.constructor.prototype);return Object.assign(L,this),L.property=x,L}fromArray(x){}};we.Layout=s;function a(b,x){return x.property?b+"["+x.property+"]":b}we.nameWithProperty=a;function l(b,x){if(typeof b!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(b,"layout_"))throw new Error("Class is already bound to a layout");if(!(x&&x instanceof s))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(x,"boundConstructor_"))throw new Error("layout is already bound to a constructor");b.layout_=x,x.boundConstructor_=b,x.makeDestinationObject=(()=>new b),Object.defineProperty(b.prototype,"encode",{value(L,V){return x.encode(this,L,V)},writable:!0}),Object.defineProperty(b,"decode",{value(L,V){return x.decode(L,V)},writable:!0})}we.bindConstructorLayout=l;class u extends s{isCount(){throw new Error("ExternalLayout is abstract")}}we.ExternalLayout=u;class h extends u{constructor(x=1,L){if(!Number.isInteger(x)||0>=x)throw new TypeError("elementSpan must be a (positive) integer");super(-1,L),this.elementSpan=x}isCount(){return!0}decode(x,L=0){e(x);const V=x.length-L;return Math.floor(V/this.elementSpan)}encode(x,L,V){return 0}}we.GreedyCount=h;class f extends u{constructor(x,L=0,V){if(!(x instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(L))throw new TypeError("offset must be integer or undefined");super(x.span,V||x.property),this.layout=x,this.offset=L}isCount(){return this.layout instanceof m||this.layout instanceof g}decode(x,L=0){return this.layout.decode(x,L+this.offset)}encode(x,L,V=0){return this.layout.encode(x,L,V+this.offset)}}we.OffsetLayout=f;class m extends s{constructor(x,L){if(super(x,L),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(x,L=0){return r(x).readUIntLE(L,this.span)}encode(x,L,V=0){return r(L).writeUIntLE(x,V,this.span),this.span}}we.UInt=m;class g extends s{constructor(x,L){if(super(x,L),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(x,L=0){return r(x).readUIntBE(L,this.span)}encode(x,L,V=0){return r(L).writeUIntBE(x,V,this.span),this.span}}we.UIntBE=g;class S extends s{constructor(x,L){if(super(x,L),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(x,L=0){return r(x).readIntLE(L,this.span)}encode(x,L,V=0){return r(L).writeIntLE(x,V,this.span),this.span}}we.Int=S;class k extends s{constructor(x,L){if(super(x,L),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(x,L=0){return r(x).readIntBE(L,this.span)}encode(x,L,V=0){return r(L).writeIntBE(x,V,this.span),this.span}}we.IntBE=k;const j=Math.pow(2,32);function z(b){const x=Math.floor(b/j),L=b-x*j;return{hi32:x,lo32:L}}function $(b,x){return b*j+x}class H extends s{constructor(x){super(8,x)}decode(x,L=0){const V=r(x),te=V.readUInt32LE(L),ae=V.readUInt32LE(L+4);return $(ae,te)}encode(x,L,V=0){const te=z(x),ae=r(L);return ae.writeUInt32LE(te.lo32,V),ae.writeUInt32LE(te.hi32,V+4),8}}we.NearUInt64=H;class X extends s{constructor(x){super(8,x)}decode(x,L=0){const V=r(x),te=V.readUInt32BE(L),ae=V.readUInt32BE(L+4);return $(te,ae)}encode(x,L,V=0){const te=z(x),ae=r(L);return ae.writeUInt32BE(te.hi32,V),ae.writeUInt32BE(te.lo32,V+4),8}}we.NearUInt64BE=X;class P extends s{constructor(x){super(8,x)}decode(x,L=0){const V=r(x),te=V.readUInt32LE(L),ae=V.readInt32LE(L+4);return $(ae,te)}encode(x,L,V=0){const te=z(x),ae=r(L);return ae.writeUInt32LE(te.lo32,V),ae.writeInt32LE(te.hi32,V+4),8}}we.NearInt64=P;class F extends s{constructor(x){super(8,x)}decode(x,L=0){const V=r(x),te=V.readInt32BE(L),ae=V.readUInt32BE(L+4);return $(te,ae)}encode(x,L,V=0){const te=z(x),ae=r(L);return ae.writeInt32BE(te.hi32,V),ae.writeUInt32BE(te.lo32,V+4),8}}we.NearInt64BE=F;class ne extends s{constructor(x){super(4,x)}decode(x,L=0){return r(x).readFloatLE(L)}encode(x,L,V=0){return r(L).writeFloatLE(x,V),4}}we.Float=ne;class he extends s{constructor(x){super(4,x)}decode(x,L=0){return r(x).readFloatBE(L)}encode(x,L,V=0){return r(L).writeFloatBE(x,V),4}}we.FloatBE=he;class fe extends s{constructor(x){super(8,x)}decode(x,L=0){return r(x).readDoubleLE(L)}encode(x,L,V=0){return r(L).writeDoubleLE(x,V),8}}we.Double=fe;class le extends s{constructor(x){super(8,x)}decode(x,L=0){return r(x).readDoubleBE(L)}encode(x,L,V=0){return r(L).writeDoubleBE(x,V),8}}we.DoubleBE=le;class D extends s{constructor(x,L,V){if(!(x instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(L instanceof u&&L.isCount()||Number.isInteger(L)&&0<=L))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let te=-1;!(L instanceof u)&&0<x.span&&(te=L*x.span),super(te,V),this.elementLayout=x,this.count=L}getSpan(x,L=0){if(0<=this.span)return this.span;let V=0,te=this.count;if(te instanceof u&&(te=te.decode(x,L)),0<this.elementLayout.span)V=te*this.elementLayout.span;else{let ae=0;for(;ae<te;)V+=this.elementLayout.getSpan(x,L+V),++ae}return V}decode(x,L=0){const V=[];let te=0,ae=this.count;for(ae instanceof u&&(ae=ae.decode(x,L));te<ae;)V.push(this.elementLayout.decode(x,L)),L+=this.elementLayout.getSpan(x,L),te+=1;return V}encode(x,L,V=0){const te=this.elementLayout,ae=x.reduce((Te,ke)=>Te+te.encode(ke,L,V+Te),0);return this.count instanceof u&&this.count.encode(x.length,L,V),ae}}we.Sequence=D;class M extends s{constructor(x,L,V){if(!(Array.isArray(x)&&x.reduce((ae,Te)=>ae&&Te instanceof s,!0)))throw new TypeError("fields must be array of Layout instances");typeof L=="boolean"&&V===void 0&&(V=L,L=void 0);for(const ae of x)if(0>ae.span&&ae.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let te=-1;try{te=x.reduce((ae,Te)=>ae+Te.getSpan(),0)}catch{}super(te,L),this.fields=x,this.decodePrefixes=!!V}getSpan(x,L=0){if(0<=this.span)return this.span;let V=0;try{V=this.fields.reduce((te,ae)=>{const Te=ae.getSpan(x,L);return L+=Te,te+Te},0)}catch{throw new RangeError("indeterminate span")}return V}decode(x,L=0){e(x);const V=this.makeDestinationObject();for(const te of this.fields)if(te.property!==void 0&&(V[te.property]=te.decode(x,L)),L+=te.getSpan(x,L),this.decodePrefixes&&x.length===L)break;return V}encode(x,L,V=0){const te=V;let ae=0,Te=0;for(const ke of this.fields){let Je=ke.span;if(Te=0<Je?Je:0,ke.property!==void 0){const $e=x[ke.property];$e!==void 0&&(Te=ke.encode($e,L,V),0>Je&&(Je=ke.getSpan(L,V)))}ae=V,V+=Je}return ae+Te-te}fromArray(x){const L=this.makeDestinationObject();for(const V of this.fields)V.property!==void 0&&0<x.length&&(L[V.property]=x.shift());return L}layoutFor(x){if(typeof x!="string")throw new TypeError("property must be string");for(const L of this.fields)if(L.property===x)return L}offsetOf(x){if(typeof x!="string")throw new TypeError("property must be string");let L=0;for(const V of this.fields){if(V.property===x)return L;0>V.span?L=-1:0<=L&&(L+=V.span)}}}we.Structure=M;class q{constructor(x){this.property=x}decode(x,L){throw new Error("UnionDiscriminator is abstract")}encode(x,L,V){throw new Error("UnionDiscriminator is abstract")}}we.UnionDiscriminator=q;class W extends q{constructor(x,L){if(!(x instanceof u&&x.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(L||x.property||"variant"),this.layout=x}decode(x,L){return this.layout.decode(x,L)}encode(x,L,V){return this.layout.encode(x,L,V)}}we.UnionLayoutDiscriminator=W;class I extends s{constructor(x,L,V){let te;if(x instanceof m||x instanceof g)te=new W(new f(x));else if(x instanceof u&&x.isCount())te=new W(x);else if(x instanceof q)te=x;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(L===void 0&&(L=null),!(L===null||L instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(L!==null){if(0>L.span)throw new Error("defaultLayout must have constant span");L.property===void 0&&(L=L.replicate("content"))}let ae=-1;L&&(ae=L.span,0<=ae&&(x instanceof m||x instanceof g)&&(ae+=te.layout.span)),super(ae,V),this.discriminator=te,this.usesPrefixDiscriminator=x instanceof m||x instanceof g,this.defaultLayout=L,this.registry={};let Te=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ke){return Te(ke)},this.configGetSourceVariant=function(ke){Te=ke.bind(this)}}getSpan(x,L=0){if(0<=this.span)return this.span;const V=this.getVariant(x,L);if(!V)throw new Error("unable to determine span for unrecognized variant");return V.getSpan(x,L)}defaultGetSourceVariant(x){if(Object.prototype.hasOwnProperty.call(x,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(x,this.defaultLayout.property))return;const L=this.registry[x[this.discriminator.property]];if(L&&(!L.layout||L.property&&Object.prototype.hasOwnProperty.call(x,L.property)))return L}else for(const L in this.registry){const V=this.registry[L];if(V.property&&Object.prototype.hasOwnProperty.call(x,V.property))return V}throw new Error("unable to infer src variant")}decode(x,L=0){let V;const te=this.discriminator,ae=te.decode(x,L),Te=this.registry[ae];if(Te===void 0){const ke=this.defaultLayout;let Je=0;this.usesPrefixDiscriminator&&(Je=te.layout.span),V=this.makeDestinationObject(),V[te.property]=ae,V[ke.property]=ke.decode(x,L+Je)}else V=Te.decode(x,L);return V}encode(x,L,V=0){const te=this.getSourceVariant(x);if(te===void 0){const ae=this.discriminator,Te=this.defaultLayout;let ke=0;return this.usesPrefixDiscriminator&&(ke=ae.layout.span),ae.encode(x[ae.property],L,V),ke+Te.encode(x[Te.property],L,V+ke)}return te.encode(x,L,V)}addVariant(x,L,V){const te=new E(this,x,L,V);return this.registry[x]=te,te}getVariant(x,L=0){let V;return x instanceof Uint8Array?V=this.discriminator.decode(x,L):V=x,this.registry[V]}}we.Union=I;class E extends s{constructor(x,L,V,te){if(!(x instanceof I))throw new TypeError("union must be a Union");if(!Number.isInteger(L)||0>L)throw new TypeError("variant must be a (non-negative) integer");if(typeof V=="string"&&te===void 0&&(te=V,V=null),V){if(!(V instanceof s))throw new TypeError("layout must be a Layout");if(x.defaultLayout!==null&&0<=V.span&&V.span>x.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof te!="string")throw new TypeError("variant must have a String property")}let ae=x.span;0>x.span&&(ae=V?V.span:0,0<=ae&&x.usesPrefixDiscriminator&&(ae+=x.discriminator.layout.span)),super(ae,te),this.union=x,this.variant=L,this.layout=V||null}getSpan(x,L=0){if(0<=this.span)return this.span;let V=0;this.union.usesPrefixDiscriminator&&(V=this.union.discriminator.layout.span);let te=0;return this.layout&&(te=this.layout.getSpan(x,L+V)),V+te}decode(x,L=0){const V=this.makeDestinationObject();if(this!==this.union.getVariant(x,L))throw new Error("variant mismatch");let te=0;return this.union.usesPrefixDiscriminator&&(te=this.union.discriminator.layout.span),this.layout?V[this.property]=this.layout.decode(x,L+te):this.property?V[this.property]=!0:this.union.usesPrefixDiscriminator&&(V[this.union.discriminator.property]=this.variant),V}encode(x,L,V=0){let te=0;if(this.union.usesPrefixDiscriminator&&(te=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(x,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,L,V);let ae=te;if(this.layout&&(this.layout.encode(x[this.property],L,V+te),ae+=this.layout.getSpan(L,V+te),0<=this.union.span&&ae>this.union.span))throw new Error("encoded variant overruns containing union");return ae}fromArray(x){if(this.layout)return this.layout.fromArray(x)}}we.VariantLayout=E;function p(b){return 0>b&&(b+=4294967296),b}class v extends s{constructor(x,L,V){if(!(x instanceof m||x instanceof g))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof L=="string"&&V===void 0&&(V=L,L=!1),4<x.span)throw new RangeError("word cannot exceed 32 bits");super(x.span,V),this.word=x,this.msb=!!L,this.fields=[];let te=0;this._packedSetValue=function(ae){return te=p(ae),this},this._packedGetValue=function(){return te}}decode(x,L=0){const V=this.makeDestinationObject(),te=this.word.decode(x,L);this._packedSetValue(te);for(const ae of this.fields)ae.property!==void 0&&(V[ae.property]=ae.decode(x));return V}encode(x,L,V=0){const te=this.word.decode(L,V);this._packedSetValue(te);for(const ae of this.fields)if(ae.property!==void 0){const Te=x[ae.property];Te!==void 0&&ae.encode(Te)}return this.word.encode(this._packedGetValue(),L,V)}addField(x,L){const V=new _(this,x,L);return this.fields.push(V),V}addBoolean(x){const L=new N(this,x);return this.fields.push(L),L}fieldFor(x){if(typeof x!="string")throw new TypeError("property must be string");for(const L of this.fields)if(L.property===x)return L}}we.BitStructure=v;class _{constructor(x,L,V){if(!(x instanceof v))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(L)||0>=L)throw new TypeError("bits must be positive integer");const te=8*x.span,ae=x.fields.reduce((Te,ke)=>Te+ke.bits,0);if(L+ae>te)throw new Error("bits too long for span remainder ("+(te-ae)+" of "+te+" remain)");this.container=x,this.bits=L,this.valueMask=(1<<L)-1,L===32&&(this.valueMask=4294967295),this.start=ae,this.container.msb&&(this.start=te-ae-L),this.wordMask=p(this.valueMask<<this.start),this.property=V}decode(x,L){const V=this.container._packedGetValue();return p(V&this.wordMask)>>>this.start}encode(x){if(typeof x!="number"||!Number.isInteger(x)||x!==p(x&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const L=this.container._packedGetValue(),V=p(x<<this.start);this.container._packedSetValue(p(L&~this.wordMask)|V)}}we.BitField=_;class N extends _{constructor(x,L){super(x,1,L)}decode(x,L){return!!super.decode(x,L)}encode(x){typeof x=="boolean"&&(x=+x),super.encode(x)}}we.Boolean=N;class B extends s{constructor(x,L){if(!(x instanceof u&&x.isCount()||Number.isInteger(x)&&0<=x))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let V=-1;x instanceof u||(V=x),super(V,L),this.length=x}getSpan(x,L){let V=this.span;return 0>V&&(V=this.length.decode(x,L)),V}decode(x,L=0){let V=this.span;return 0>V&&(V=this.length.decode(x,L)),r(x).slice(L,L+V)}encode(x,L,V){let te=this.length;if(this.length instanceof u&&(te=x.length),!(x instanceof Uint8Array&&te===x.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+te+") Uint8Array as src");if(V+te>L.length)throw new RangeError("encoding overruns Uint8Array");const ae=r(x);return r(L).write(ae.toString("hex"),V,te,"hex"),this.length instanceof u&&this.length.encode(te,L,V),te}}we.Blob=B;class G extends s{constructor(x){super(-1,x)}getSpan(x,L=0){e(x);let V=L;for(;V<x.length&&x[V]!==0;)V+=1;return 1+V-L}decode(x,L=0){const V=this.getSpan(x,L);return r(x).slice(L,L+V-1).toString("utf-8")}encode(x,L,V=0){typeof x!="string"&&(x=String(x));const te=n.Buffer.from(x,"utf8"),ae=te.length;if(V+ae>L.length)throw new RangeError("encoding overruns Buffer");const Te=r(L);return te.copy(Te,V),Te[V+ae]=0,ae+1}}we.CString=G;class J extends s{constructor(x,L){if(typeof x=="string"&&L===void 0&&(L=x,x=void 0),x===void 0)x=-1;else if(!Number.isInteger(x))throw new TypeError("maxSpan must be an integer");super(-1,L),this.maxSpan=x}getSpan(x,L=0){return e(x),x.length-L}decode(x,L=0){const V=this.getSpan(x,L);if(0<=this.maxSpan&&this.maxSpan<V)throw new RangeError("text length exceeds maxSpan");return r(x).slice(L,L+V).toString("utf-8")}encode(x,L,V=0){typeof x!="string"&&(x=String(x));const te=n.Buffer.from(x,"utf8"),ae=te.length;if(0<=this.maxSpan&&this.maxSpan<ae)throw new RangeError("text length exceeds maxSpan");if(V+ae>L.length)throw new RangeError("encoding overruns Buffer");return te.copy(r(L),V),ae}}we.UTF8=J;class T extends s{constructor(x,L){super(0,L),this.value=x}decode(x,L){return this.value}encode(x,L,V){return 0}}return we.Constant=T,we.greedy=((b,x)=>new h(b,x)),we.offset=((b,x,L)=>new f(b,x,L)),we.u8=(b=>new m(1,b)),we.u16=(b=>new m(2,b)),we.u24=(b=>new m(3,b)),we.u32=(b=>new m(4,b)),we.u40=(b=>new m(5,b)),we.u48=(b=>new m(6,b)),we.nu64=(b=>new H(b)),we.u16be=(b=>new g(2,b)),we.u24be=(b=>new g(3,b)),we.u32be=(b=>new g(4,b)),we.u40be=(b=>new g(5,b)),we.u48be=(b=>new g(6,b)),we.nu64be=(b=>new X(b)),we.s8=(b=>new S(1,b)),we.s16=(b=>new S(2,b)),we.s24=(b=>new S(3,b)),we.s32=(b=>new S(4,b)),we.s40=(b=>new S(5,b)),we.s48=(b=>new S(6,b)),we.ns64=(b=>new P(b)),we.s16be=(b=>new k(2,b)),we.s24be=(b=>new k(3,b)),we.s32be=(b=>new k(4,b)),we.s40be=(b=>new k(5,b)),we.s48be=(b=>new k(6,b)),we.ns64be=(b=>new F(b)),we.f32=(b=>new ne(b)),we.f32be=(b=>new he(b)),we.f64=(b=>new fe(b)),we.f64be=(b=>new le(b)),we.struct=((b,x,L)=>new M(b,x,L)),we.bits=((b,x,L)=>new v(b,x,L)),we.seq=((b,x,L)=>new D(b,x,L)),we.union=((b,x,L)=>new I(b,x,L)),we.unionLayoutDiscriminator=((b,x)=>new W(b,x)),we.blob=((b,x)=>new B(b,x)),we.cstr=(b=>new G(b)),we.utf8=((b,x)=>new J(b,x)),we.constant=((b,x)=>new T(b,x)),we}var ie=O5(),j5=8078e3,M5=8078001,U5=8078004,L5=8078005,I5=8078006,D5=8078011;function Ix(n){return Array.isArray(n)?"%5B"+n.map(Ix).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function z5([n,e]){return`${n}=${Ix(e)}`}function q5(n){const e=Object.entries(n).map(z5).join("&");return btoa(e)}function $5(n,e={}){{let r=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(e).length&&(r+=` '${q5(e)}'`),`${r}\``}}var qo=class extends Error{cause=this.cause;context;constructor(...[n,e]){let r,s;if(e){const{cause:l,...u}=e;l&&(s={cause:l}),Object.keys(u).length>0&&(r=u)}const a=$5(n,r);super(a,s),this.context={__code:n,...r},this.name="SolanaError"}};function H5(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function P5(n){return Object.freeze({...n,encode:e=>{const r=new Uint8Array(H5(e,n));return n.write(e,r,0),r}})}function F5(n){return Object.freeze({...n,decode:(e,r=0)=>n.read(e,r)[0]})}function ko(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function G5(n,e){if(ko(n)!==ko(e))throw new qo(U5);if(ko(n)&&ko(e)&&n.fixedSize!==e.fixedSize)throw new qo(L5,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!ko(n)&&!ko(e)&&n.maxSize!==e.maxSize)throw new qo(I5,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return{...e,...n,decode:e.decode,encode:n.encode,read:e.read,write:n.write}}function V5(n,e,r=0){if(e.length-r<=0)throw new qo(j5,{codecDescription:n})}function K5(n,e,r,s=0){const a=r.length-s;if(a<e)throw new qo(M5,{bytesLength:a,codecDescription:n,expected:e})}function Y5(n,e,r,s){if(s<e||s>r)throw new qo(D5,{codecDescription:n,max:r,min:e,value:s})}function Dx(n){return n?.endian!==1}function W5(n){return P5({fixedSize:n.size,write(e,r,s){n.range&&Y5(n.name,n.range[0],n.range[1],e);const a=new ArrayBuffer(n.size);return n.set(new DataView(a),e,Dx(n.config)),r.set(new Uint8Array(a),s),s+n.size}})}function Z5(n){return F5({fixedSize:n.size,read(e,r=0){V5(n.name,e,r),K5(n.name,n.size,e,r);const s=new DataView(X5(e,r,n.size));return[n.get(s,Dx(n.config)),r+n.size]}})}function X5(n,e,r){const s=n.byteOffset+(e??0),a=r??n.byteLength;return n.buffer.slice(s,s+a)}var J5=(n={})=>W5({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,r,s)=>e.setBigUint64(0,BigInt(r),s),size:8}),Q5=(n={})=>Z5({config:n,get:(e,r)=>e.getBigUint64(0,r),name:"u64",size:8}),eT=(n={})=>G5(J5(n),Q5(n));class tT extends TypeError{constructor(e,r){let s;const{message:a,explanation:l,...u}=e,{path:h}=e,f=h.length===0?a:`At path: ${h.join(".")} -- ${a}`;super(l??f),l!=null&&(this.cause=f),Object.assign(this,u),this.name=this.constructor.name,this.failures=()=>s??(s=[e,...r()])}}function nT(n){return Ec(n)&&typeof n[Symbol.iterator]=="function"}function Ec(n){return typeof n=="object"&&n!=null}function Rf(n){return Ec(n)&&!Array.isArray(n)}function Qr(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function rT(n){const{done:e,value:r}=n.next();return e?void 0:r}function iT(n,e,r,s){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:a,branch:l}=e,{type:u}=r,{refinement:h,message:f=`Expected a value of type \`${u}\`${h?` with refinement \`${h}\``:""}, but received: \`${Qr(s)}\``}=n;return{value:s,type:u,refinement:h,key:a[a.length-1],path:a,branch:l,...n,message:f}}function*lv(n,e,r,s){nT(n)||(n=[n]);for(const a of n){const l=iT(a,e,r,s);l&&(yield l)}}function*Km(n,e,r={}){const{path:s=[],branch:a=[n],coerce:l=!1,mask:u=!1}=r,h={path:s,branch:a,mask:u};l&&(n=e.coercer(n,h));let f="valid";for(const m of e.validator(n,h))m.explanation=r.message,f="not_valid",yield[m,void 0];for(let[m,g,S]of e.entries(n,h)){const k=Km(g,S,{path:m===void 0?s:[...s,m],branch:m===void 0?a:[...a,g],coerce:l,mask:u,message:r.message});for(const j of k)j[0]?(f=j[0].refinement!=null?"not_refined":"not_valid",yield[j[0],void 0]):l&&(g=j[1],m===void 0?n=g:n instanceof Map?n.set(m,g):n instanceof Set?n.add(g):Ec(n)&&(g!==void 0||m in n)&&(n[m]=g))}if(f!=="not_valid")for(const m of e.refiner(n,h))m.explanation=r.message,f="not_refined",yield[m,void 0];f==="valid"&&(yield[void 0,n])}let vi=class{constructor(e){const{type:r,schema:s,validator:a,refiner:l,coercer:u=f=>f,entries:h=function*(){}}=e;this.type=r,this.schema=s,this.entries=h,this.coercer=u,a?this.validator=(f,m)=>{const g=a(f,m);return lv(g,m,this,f)}:this.validator=()=>[],l?this.refiner=(f,m)=>{const g=l(f,m);return lv(g,m,this,f)}:this.refiner=()=>[]}assert(e,r){return sT(e,this,r)}create(e,r){return Ce(e,this,r)}is(e){return zx(e,this)}mask(e,r){return aT(e,this,r)}validate(e,r={}){return Ac(e,this,r)}};function sT(n,e,r){const s=Ac(n,e,{message:r});if(s[0])throw s[0]}function Ce(n,e,r){const s=Ac(n,e,{coerce:!0,message:r});if(s[0])throw s[0];return s[1]}function aT(n,e,r){const s=Ac(n,e,{coerce:!0,mask:!0,message:r});if(s[0])throw s[0];return s[1]}function zx(n,e){return!Ac(n,e)[0]}function Ac(n,e,r={}){const s=Km(n,e,r),a=rT(s);return a[0]?[new tT(a[0],function*(){for(const u of s)u[0]&&(yield u[0])}),void 0]:[void 0,a[1]]}function Ta(n,e){return new vi({type:n,schema:null,validator:e})}function oT(){return Ta("any",()=>!0)}function Oe(n){return new vi({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[r,s]of e.entries())yield[r,s,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Qr(e)}`}})}function yi(){return Ta("boolean",n=>typeof n=="boolean")}function Ym(n){return Ta("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Qr(e)}`)}function rn(n){const e=Qr(n),r=typeof n;return new vi({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?n:null,validator(s){return s===n||`Expected the literal \`${e}\`, but received: ${Qr(s)}`}})}function lT(){return Ta("never",()=>!1)}function je(n){return new vi({...n,validator:(e,r)=>e===null||n.validator(e,r),refiner:(e,r)=>e===null||n.refiner(e,r)})}function ge(){return Ta("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Qr(n)}`)}function Fe(n){return new vi({...n,validator:(e,r)=>e===void 0||n.validator(e,r),refiner:(e,r)=>e===void 0||n.refiner(e,r)})}function qx(n,e){return new vi({type:"record",schema:null,*entries(r){if(Ec(r))for(const s in r){const a=r[s];yield[s,s,n],yield[s,a,e]}},validator(r){return Rf(r)||`Expected an object, but received: ${Qr(r)}`},coercer(r){return Rf(r)?{...r}:r}})}function Be(){return Ta("string",n=>typeof n=="string"||`Expected a string, but received: ${Qr(n)}`)}function Wm(n){const e=lT();return new vi({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const s=Math.max(n.length,r.length);for(let a=0;a<s;a++)yield[a,r[a],n[a]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Qr(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function Ne(n){const e=Object.keys(n);return new vi({type:"type",schema:n,*entries(r){if(Ec(r))for(const s of e)yield[s,r[s],n[s]]},validator(r){return Rf(r)||`Expected an object, but received: ${Qr(r)}`},coercer(r){return Rf(r)?{...r}:r}})}function nr(n){const e=n.map(r=>r.type).join(" | ");return new vi({type:"union",schema:null,coercer(r,s){for(const a of n){const[l,u]=a.validate(r,{coerce:!0,mask:s.mask});if(!l)return u}return r},validator(r,s){const a=[];for(const l of n){const[...u]=Km(r,l,s),[h]=u;if(h[0])for(const[f]of u)f&&a.push(f);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Qr(r)}`,...a]}})}function el(){return Ta("unknown",()=>!0)}function Rc(n,e,r){return new vi({...n,coercer:(s,a)=>zx(s,e)?n.coercer(r(s,a),a):n.coercer(s,a)})}var Ju,cT=new Uint8Array(16);function $x(){if(!Ju&&(Ju=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ju))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ju(cT)}const uT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qf(n){return typeof n=="string"&&uT.test(n)}var $n=[];for(var B0=0;B0<256;++B0)$n.push((B0+256).toString(16).substr(1));function $f(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=($n[n[e+0]]+$n[n[e+1]]+$n[n[e+2]]+$n[n[e+3]]+"-"+$n[n[e+4]]+$n[n[e+5]]+"-"+$n[n[e+6]]+$n[n[e+7]]+"-"+$n[n[e+8]]+$n[n[e+9]]+"-"+$n[n[e+10]]+$n[n[e+11]]+$n[n[e+12]]+$n[n[e+13]]+$n[n[e+14]]+$n[n[e+15]]).toLowerCase();if(!qf(r))throw TypeError("Stringified UUID is invalid");return r}var cv,C0,O0=0,j0=0;function fT(n,e,r){var s=e&&r||0,a=e||new Array(16);n=n||{};var l=n.node||cv,u=n.clockseq!==void 0?n.clockseq:C0;if(l==null||u==null){var h=n.random||(n.rng||$x)();l==null&&(l=cv=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),u==null&&(u=C0=(h[6]<<8|h[7])&16383)}var f=n.msecs!==void 0?n.msecs:Date.now(),m=n.nsecs!==void 0?n.nsecs:j0+1,g=f-O0+(m-j0)/1e4;if(g<0&&n.clockseq===void 0&&(u=u+1&16383),(g<0||f>O0)&&n.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");O0=f,j0=m,C0=u,f+=122192928e5;var S=((f&268435455)*1e4+m)%4294967296;a[s++]=S>>>24&255,a[s++]=S>>>16&255,a[s++]=S>>>8&255,a[s++]=S&255;var k=f/4294967296*1e4&268435455;a[s++]=k>>>8&255,a[s++]=k&255,a[s++]=k>>>24&15|16,a[s++]=k>>>16&255,a[s++]=u>>>8|128,a[s++]=u&255;for(var j=0;j<6;++j)a[s+j]=l[j];return e||$f(a)}function Hx(n){if(!qf(n))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(n.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(n.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(n.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(n.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function hT(n){n=unescape(encodeURIComponent(n));for(var e=[],r=0;r<n.length;++r)e.push(n.charCodeAt(r));return e}var dT="6ba7b810-9dad-11d1-80b4-00c04fd430c8",mT="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Px(n,e,r){function s(a,l,u,h){if(typeof a=="string"&&(a=hT(a)),typeof l=="string"&&(l=Hx(l)),l.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var f=new Uint8Array(16+a.length);if(f.set(l),f.set(a,l.length),f=r(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,u){h=h||0;for(var m=0;m<16;++m)u[h+m]=f[m];return u}return $f(f)}try{s.name=n}catch{}return s.DNS=dT,s.URL=mT,s}function pT(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var r=0;r<e.length;++r)n[r]=e.charCodeAt(r)}return gT(yT(bT(n),n.length*8))}function gT(n){for(var e=[],r=n.length*32,s="0123456789abcdef",a=0;a<r;a+=8){var l=n[a>>5]>>>a%32&255,u=parseInt(s.charAt(l>>>4&15)+s.charAt(l&15),16);e.push(u)}return e}function Fx(n){return(n+64>>>9<<4)+14+1}function yT(n,e){n[e>>5]|=128<<e%32,n[Fx(e)-1]=e;for(var r=1732584193,s=-271733879,a=-1732584194,l=271733878,u=0;u<n.length;u+=16){var h=r,f=s,m=a,g=l;r=Xn(r,s,a,l,n[u],7,-680876936),l=Xn(l,r,s,a,n[u+1],12,-389564586),a=Xn(a,l,r,s,n[u+2],17,606105819),s=Xn(s,a,l,r,n[u+3],22,-1044525330),r=Xn(r,s,a,l,n[u+4],7,-176418897),l=Xn(l,r,s,a,n[u+5],12,1200080426),a=Xn(a,l,r,s,n[u+6],17,-1473231341),s=Xn(s,a,l,r,n[u+7],22,-45705983),r=Xn(r,s,a,l,n[u+8],7,1770035416),l=Xn(l,r,s,a,n[u+9],12,-1958414417),a=Xn(a,l,r,s,n[u+10],17,-42063),s=Xn(s,a,l,r,n[u+11],22,-1990404162),r=Xn(r,s,a,l,n[u+12],7,1804603682),l=Xn(l,r,s,a,n[u+13],12,-40341101),a=Xn(a,l,r,s,n[u+14],17,-1502002290),s=Xn(s,a,l,r,n[u+15],22,1236535329),r=Jn(r,s,a,l,n[u+1],5,-165796510),l=Jn(l,r,s,a,n[u+6],9,-1069501632),a=Jn(a,l,r,s,n[u+11],14,643717713),s=Jn(s,a,l,r,n[u],20,-373897302),r=Jn(r,s,a,l,n[u+5],5,-701558691),l=Jn(l,r,s,a,n[u+10],9,38016083),a=Jn(a,l,r,s,n[u+15],14,-660478335),s=Jn(s,a,l,r,n[u+4],20,-405537848),r=Jn(r,s,a,l,n[u+9],5,568446438),l=Jn(l,r,s,a,n[u+14],9,-1019803690),a=Jn(a,l,r,s,n[u+3],14,-187363961),s=Jn(s,a,l,r,n[u+8],20,1163531501),r=Jn(r,s,a,l,n[u+13],5,-1444681467),l=Jn(l,r,s,a,n[u+2],9,-51403784),a=Jn(a,l,r,s,n[u+7],14,1735328473),s=Jn(s,a,l,r,n[u+12],20,-1926607734),r=Qn(r,s,a,l,n[u+5],4,-378558),l=Qn(l,r,s,a,n[u+8],11,-2022574463),a=Qn(a,l,r,s,n[u+11],16,1839030562),s=Qn(s,a,l,r,n[u+14],23,-35309556),r=Qn(r,s,a,l,n[u+1],4,-1530992060),l=Qn(l,r,s,a,n[u+4],11,1272893353),a=Qn(a,l,r,s,n[u+7],16,-155497632),s=Qn(s,a,l,r,n[u+10],23,-1094730640),r=Qn(r,s,a,l,n[u+13],4,681279174),l=Qn(l,r,s,a,n[u],11,-358537222),a=Qn(a,l,r,s,n[u+3],16,-722521979),s=Qn(s,a,l,r,n[u+6],23,76029189),r=Qn(r,s,a,l,n[u+9],4,-640364487),l=Qn(l,r,s,a,n[u+12],11,-421815835),a=Qn(a,l,r,s,n[u+15],16,530742520),s=Qn(s,a,l,r,n[u+2],23,-995338651),r=er(r,s,a,l,n[u],6,-198630844),l=er(l,r,s,a,n[u+7],10,1126891415),a=er(a,l,r,s,n[u+14],15,-1416354905),s=er(s,a,l,r,n[u+5],21,-57434055),r=er(r,s,a,l,n[u+12],6,1700485571),l=er(l,r,s,a,n[u+3],10,-1894986606),a=er(a,l,r,s,n[u+10],15,-1051523),s=er(s,a,l,r,n[u+1],21,-2054922799),r=er(r,s,a,l,n[u+8],6,1873313359),l=er(l,r,s,a,n[u+15],10,-30611744),a=er(a,l,r,s,n[u+6],15,-1560198380),s=er(s,a,l,r,n[u+13],21,1309151649),r=er(r,s,a,l,n[u+4],6,-145523070),l=er(l,r,s,a,n[u+11],10,-1120210379),a=er(a,l,r,s,n[u+2],15,718787259),s=er(s,a,l,r,n[u+9],21,-343485551),r=Hs(r,h),s=Hs(s,f),a=Hs(a,m),l=Hs(l,g)}return[r,s,a,l]}function bT(n){if(n.length===0)return[];for(var e=n.length*8,r=new Uint32Array(Fx(e)),s=0;s<e;s+=8)r[s>>5]|=(n[s/8]&255)<<s%32;return r}function Hs(n,e){var r=(n&65535)+(e&65535),s=(n>>16)+(e>>16)+(r>>16);return s<<16|r&65535}function vT(n,e){return n<<e|n>>>32-e}function Hf(n,e,r,s,a,l){return Hs(vT(Hs(Hs(e,n),Hs(s,l)),a),r)}function Xn(n,e,r,s,a,l,u){return Hf(e&r|~e&s,n,e,a,l,u)}function Jn(n,e,r,s,a,l,u){return Hf(e&s|r&~s,n,e,a,l,u)}function Qn(n,e,r,s,a,l,u){return Hf(e^r^s,n,e,a,l,u)}function er(n,e,r,s,a,l,u){return Hf(r^(e|~s),n,e,a,l,u)}var wT=Px("v3",48,pT);function xT(n,e,r){n=n||{};var s=n.random||(n.rng||$x)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){r=r||0;for(var a=0;a<16;++a)e[r+a]=s[a];return e}return $f(s)}function _T(n,e,r,s){switch(n){case 0:return e&r^~e&s;case 1:return e^r^s;case 2:return e&r^e&s^r&s;case 3:return e^r^s}}function M0(n,e){return n<<e|n>>>32-e}function ST(n){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var s=unescape(encodeURIComponent(n));n=[];for(var a=0;a<s.length;++a)n.push(s.charCodeAt(a))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var l=n.length/4+2,u=Math.ceil(l/16),h=new Array(u),f=0;f<u;++f){for(var m=new Uint32Array(16),g=0;g<16;++g)m[g]=n[f*64+g*4]<<24|n[f*64+g*4+1]<<16|n[f*64+g*4+2]<<8|n[f*64+g*4+3];h[f]=m}h[u-1][14]=(n.length-1)*8/Math.pow(2,32),h[u-1][14]=Math.floor(h[u-1][14]),h[u-1][15]=(n.length-1)*8&4294967295;for(var S=0;S<u;++S){for(var k=new Uint32Array(80),j=0;j<16;++j)k[j]=h[S][j];for(var z=16;z<80;++z)k[z]=M0(k[z-3]^k[z-8]^k[z-14]^k[z-16],1);for(var $=r[0],H=r[1],X=r[2],P=r[3],F=r[4],ne=0;ne<80;++ne){var he=Math.floor(ne/20),fe=M0($,5)+_T(he,H,X,P)+F+e[he]+k[ne]>>>0;F=P,P=X,X=M0(H,30)>>>0,H=$,$=fe}r[0]=r[0]+$>>>0,r[1]=r[1]+H>>>0,r[2]=r[2]+X>>>0,r[3]=r[3]+P>>>0,r[4]=r[4]+F>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var ET=Px("v5",80,ST);const AT="00000000-0000-0000-0000-000000000000";function RT(n){if(!qf(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const kT=Object.freeze(Object.defineProperty({__proto__:null,NIL:AT,parse:Hx,stringify:$f,v1:fT,v3:wT,v4:xT,v5:ET,validate:qf,version:RT},Symbol.toStringTag,{value:"Module"})),Gx=Ov(kT);var U0,uv;function TT(){if(uv)return U0;uv=1;const n=Gx.v4;return U0=function(r,s,a,l){if(typeof r!="string")throw new TypeError(r+" must be a string");l=l||{};const u=typeof l.version=="number"?l.version:2;if(u!==1&&u!==2)throw new TypeError(u+" must be 1 or 2");const h={method:r};if(u===2&&(h.jsonrpc="2.0"),s){if(typeof s!="object"&&!Array.isArray(s))throw new TypeError(s+" must be an object, array or omitted");h.params=s}if(typeof a>"u"){const f=typeof l.generator=="function"?l.generator:function(){return n()};h.id=f(h,l)}else u===2&&a===null?l.notificationIdNull&&(h.id=null):h.id=a;return h},U0}var L0,fv;function NT(){if(fv)return L0;fv=1;const n=Gx.v4,e=TT(),r=function(s,a){if(!(this instanceof r))return new r(s,a);a||(a={}),this.options={reviver:typeof a.reviver<"u"?a.reviver:null,replacer:typeof a.replacer<"u"?a.replacer:null,generator:typeof a.generator<"u"?a.generator:function(){return n()},version:typeof a.version<"u"?a.version:2,notificationIdNull:typeof a.notificationIdNull=="boolean"?a.notificationIdNull:!1},this.callServer=s};return L0=r,r.prototype.request=function(s,a,l,u){const h=this;let f=null;const m=Array.isArray(s)&&typeof a=="function";if(this.options.version===1&&m)throw new TypeError("JSON-RPC 1.0 does not support batching");if(m||!m&&s&&typeof s=="object"&&typeof a=="function")u=a,f=s;else{typeof l=="function"&&(u=l,l=void 0);const k=typeof u=="function";try{f=e(s,a,l,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(j){if(k){u(j);return}throw j}if(!k)return f}let S;try{S=JSON.stringify(f,this.options.replacer)}catch(k){u(k);return}return this.callServer(S,function(k,j){h._parseResponse(k,j,u)}),f},r.prototype._parseResponse=function(s,a,l){if(s){l(s);return}if(!a){l();return}let u;try{u=JSON.parse(a,this.options.reviver)}catch(h){l(h);return}if(l.length===3)if(Array.isArray(u)){const h=function(m){return typeof m.error<"u"},f=function(m){return!h(m)};l(null,u.filter(h),u.filter(f));return}else{l(null,u.error,u.result);return}l(null,u)},L0}var BT=NT();const CT=mc(BT);var I0={exports:{}},hv;function OT(){return hv||(hv=1,(function(n){var e=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(f,m,g){this.fn=f,this.context=m,this.once=g||!1}function l(f,m,g,S,k){if(typeof g!="function")throw new TypeError("The listener must be a function");var j=new a(g,S||f,k),z=r?r+m:m;return f._events[z]?f._events[z].fn?f._events[z]=[f._events[z],j]:f._events[z].push(j):(f._events[z]=j,f._eventsCount++),f}function u(f,m){--f._eventsCount===0?f._events=new s:delete f._events[m]}function h(){this._events=new s,this._eventsCount=0}h.prototype.eventNames=function(){var m=[],g,S;if(this._eventsCount===0)return m;for(S in g=this._events)e.call(g,S)&&m.push(r?S.slice(1):S);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},h.prototype.listeners=function(m){var g=r?r+m:m,S=this._events[g];if(!S)return[];if(S.fn)return[S.fn];for(var k=0,j=S.length,z=new Array(j);k<j;k++)z[k]=S[k].fn;return z},h.prototype.listenerCount=function(m){var g=r?r+m:m,S=this._events[g];return S?S.fn?1:S.length:0},h.prototype.emit=function(m,g,S,k,j,z){var $=r?r+m:m;if(!this._events[$])return!1;var H=this._events[$],X=arguments.length,P,F;if(H.fn){switch(H.once&&this.removeListener(m,H.fn,void 0,!0),X){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,g),!0;case 3:return H.fn.call(H.context,g,S),!0;case 4:return H.fn.call(H.context,g,S,k),!0;case 5:return H.fn.call(H.context,g,S,k,j),!0;case 6:return H.fn.call(H.context,g,S,k,j,z),!0}for(F=1,P=new Array(X-1);F<X;F++)P[F-1]=arguments[F];H.fn.apply(H.context,P)}else{var ne=H.length,he;for(F=0;F<ne;F++)switch(H[F].once&&this.removeListener(m,H[F].fn,void 0,!0),X){case 1:H[F].fn.call(H[F].context);break;case 2:H[F].fn.call(H[F].context,g);break;case 3:H[F].fn.call(H[F].context,g,S);break;case 4:H[F].fn.call(H[F].context,g,S,k);break;default:if(!P)for(he=1,P=new Array(X-1);he<X;he++)P[he-1]=arguments[he];H[F].fn.apply(H[F].context,P)}}return!0},h.prototype.on=function(m,g,S){return l(this,m,g,S,!1)},h.prototype.once=function(m,g,S){return l(this,m,g,S,!0)},h.prototype.removeListener=function(m,g,S,k){var j=r?r+m:m;if(!this._events[j])return this;if(!g)return u(this,j),this;var z=this._events[j];if(z.fn)z.fn===g&&(!k||z.once)&&(!S||z.context===S)&&u(this,j);else{for(var $=0,H=[],X=z.length;$<X;$++)(z[$].fn!==g||k&&!z[$].once||S&&z[$].context!==S)&&H.push(z[$]);H.length?this._events[j]=H.length===1?H[0]:H:u(this,j)}return this},h.prototype.removeAllListeners=function(m){var g;return m?(g=r?r+m:m,this._events[g]&&u(this,g)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=r,h.EventEmitter=h,n.exports=h})(I0)),I0.exports}var jT=OT();const Vx=mc(jT);var MT=class extends Vx{socket;constructor(n,e){super(),this.socket=new window.WebSocket(n,e.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(n,e,r){const s=r||e;try{this.socket.send(n),s()}catch(a){s(a)}}close(n,e){this.socket.close(n,e)}addEventListener(n,e,r){this.socket.addEventListener(n,e,r)}};function UT(n,e){return new MT(n,e)}var LT=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},IT=class extends Vx{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(n,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:a=1e3,max_reconnects:l=5,...u}={},h,f){super(),this.webSocketFactory=n,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=a,this.max_reconnects=l,this.rest_options=u,this.current_reconnects=0,this.generate_request_id=h||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),f?this.dataPack=f:this.dataPack=new LT,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(n,e,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((a,l)=>{if(!this.ready)return l(new Error("socket not ready"));const u=this.generate_request_id(n,e),h={jsonrpc:"2.0",method:n,params:e||void 0,id:u};this.socket.send(this.dataPack.encode(h),s,f=>{if(f)return l(f);this.queue[u]={promise:[a,l]},r&&(this.queue[u].timeout=setTimeout(()=>{delete this.queue[u],l(new Error("reply timeout"))},r))})})}async login(n){const e=await this.call("rpc.login",n);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(n,e){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a={jsonrpc:"2.0",method:n,params:e};this.socket.send(this.dataPack.encode(a),l=>{if(l)return s(l);r()})})}async subscribe(n){typeof n=="string"&&(n=[n]);const e=await this.call("rpc.on",n);if(typeof n=="string"&&e[n]!=="ok")throw new Error("Failed subscribing to an event '"+n+"' with: "+e[n]);return e}async unsubscribe(n){typeof n=="string"&&(n=[n]);const e=await this.call("rpc.off",n);if(typeof n=="string"&&e[n]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(n,e){this.socket&&this.socket.close(n||1e3,e)}setAutoReconnect(n){this.reconnect=n}setReconnectInterval(n){this.reconnect_interval=n}setMaxReconnects(n){this.max_reconnects=n}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(n,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(n,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=dt.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let a=0;a<r.params.length;a++)s.push(r.params[a]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r?.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(n,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,s),1))})}};class Kx extends ux{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,lx(e);const s=zm(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,l=new Uint8Array(a);l.set(s.length>a?e.create().update(s).digest():s);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=e.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),Po(l)}update(e){return bf(this),this.iHash.update(e),this}digestInto(e){bf(this),Ra(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:s,finished:a,destroyed:l,blockLen:u,outputLen:h}=this;return e=e,e.finished=a,e.destroyed=l,e.blockLen=u,e.outputLen=h,e.oHash=r._cloneInto(e.oHash),e.iHash=s._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Yx=(n,e,r)=>new Kx(n,e).update(r).digest();Yx.create=(n,e)=>new Kx(n,e);const dv=(n,e)=>(n+(n>=0?e:-e)/Wx)/e;function DT(n,e,r){const[[s,a],[l,u]]=e,h=dv(u*n,r),f=dv(-a*n,r);let m=n-h*s-f*l,g=-h*a-f*u;const S=m<Xi,k=g<Xi;S&&(m=-m),k&&(g=-g);const j=_c(Math.ceil(yx(r)/2))+$o;if(m<Xi||m>=j||g<Xi||g>=j)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:S,k1:m,k2neg:k,k2:g}}function bm(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function D0(n,e){const r={};for(let s of Object.keys(e))r[s]=n[s]===void 0?e[s]:n[s];return Aa(r.lowS,"lowS"),Aa(r.prehash,"prehash"),r.format!==void 0&&bm(r.format),r}class zT extends Error{constructor(e=""){super(e)}}const Vi={Err:zT,_tlv:{encode:(n,e)=>{const{Err:r}=Vi;if(n<0||n>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const s=e.length/2,a=Zu(s);if(a.length/2&128)throw new r("tlv.encode: long form length too big");const l=s>127?Zu(a.length/2|128):"";return Zu(n)+l+a+e},decode(n,e){const{Err:r}=Vi;let s=0;if(n<0||n>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[s++]!==n)throw new r("tlv.decode: wrong tlv");const a=e[s++],l=!!(a&128);let u=0;if(!l)u=a;else{const f=a&127;if(!f)throw new r("tlv.decode(long): indefinite length not supported");if(f>4)throw new r("tlv.decode(long): byte length is too big");const m=e.subarray(s,s+f);if(m.length!==f)throw new r("tlv.decode: length bytes not complete");if(m[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const g of m)u=u<<8|g;if(s+=f,u<128)throw new r("tlv.decode(long): not minimal encoding")}const h=e.subarray(s,s+u);if(h.length!==u)throw new r("tlv.decode: wrong value length");return{v:h,l:e.subarray(s+u)}}},_int:{encode(n){const{Err:e}=Vi;if(n<Xi)throw new e("integer: negative integers are not allowed");let r=Zu(n);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(n){const{Err:e}=Vi;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Df(n)}},toSig(n){const{Err:e,_int:r,_tlv:s}=Vi,a=mn("signature",n),{v:l,l:u}=s.decode(48,a);if(u.length)throw new e("invalid signature: left bytes after parsing");const{v:h,l:f}=s.decode(2,l),{v:m,l:g}=s.decode(2,f);if(g.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(h),s:r.decode(m)}},hexFromSig(n){const{_tlv:e,_int:r}=Vi,s=e.encode(2,r.encode(n.r)),a=e.encode(2,r.encode(n.s)),l=s+a;return e.encode(48,l)}},Xi=BigInt(0),$o=BigInt(1),Wx=BigInt(2),Qu=BigInt(3),qT=BigInt(4);function Uo(n,e){const{BYTES:r}=n;let s;if(typeof e=="bigint")s=e;else{let a=mn("private key",e);try{s=n.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!n.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}function $T(n,e={}){const r=jx("weierstrass",n,e),{Fp:s,Fn:a}=r;let l=r.CURVE;const{h:u,n:h}=l;Sc(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=e;if(f&&(!s.is0(l.a)||typeof f.beta!="bigint"||!Array.isArray(f.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const m=Xx(s,a);function g(){if(!s.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function S(I,E,p){const{x:v,y:_}=E.toAffine(),N=s.toBytes(v);if(Aa(p,"isCompressed"),p){g();const B=!s.isOdd(_);return mi(Zx(B),N)}else return mi(Uint8Array.of(4),N,s.toBytes(_))}function k(I){Jr(I,void 0,"Point");const{publicKey:E,publicKeyUncompressed:p}=m,v=I.length,_=I[0],N=I.subarray(1);if(v===E&&(_===2||_===3)){const B=s.fromBytes(N);if(!s.isValid(B))throw new Error("bad point: is not on curve, wrong x");const G=$(B);let J;try{J=s.sqrt(G)}catch(x){const L=x instanceof Error?": "+x.message:"";throw new Error("bad point: is not on curve, sqrt error"+L)}g();const T=s.isOdd(J);return(_&1)===1!==T&&(J=s.neg(J)),{x:B,y:J}}else if(v===p&&_===4){const B=s.BYTES,G=s.fromBytes(N.subarray(0,B)),J=s.fromBytes(N.subarray(B,B*2));if(!H(G,J))throw new Error("bad point: is not on curve");return{x:G,y:J}}else throw new Error(`bad point: got length ${v}, expected compressed=${E} or uncompressed=${p}`)}const j=e.toBytes||S,z=e.fromBytes||k;function $(I){const E=s.sqr(I),p=s.mul(E,I);return s.add(s.add(p,s.mul(I,l.a)),l.b)}function H(I,E){const p=s.sqr(E),v=$(I);return s.eql(p,v)}if(!H(l.Gx,l.Gy))throw new Error("bad curve params: generator point");const X=s.mul(s.pow(l.a,Qu),qT),P=s.mul(s.sqr(l.b),BigInt(27));if(s.is0(s.add(X,P)))throw new Error("bad curve params: a or b");function F(I,E,p=!1){if(!s.isValid(E)||p&&s.is0(E))throw new Error(`bad point coordinate ${I}`);return E}function ne(I){if(!(I instanceof M))throw new Error("ProjectivePoint expected")}function he(I){if(!f||!f.basises)throw new Error("no endo");return DT(I,f.basises,a.ORDER)}const fe=wf((I,E)=>{const{X:p,Y:v,Z:_}=I;if(s.eql(_,s.ONE))return{x:p,y:v};const N=I.is0();E==null&&(E=N?s.ONE:s.inv(_));const B=s.mul(p,E),G=s.mul(v,E),J=s.mul(_,E);if(N)return{x:s.ZERO,y:s.ZERO};if(!s.eql(J,s.ONE))throw new Error("invZ was invalid");return{x:B,y:G}}),le=wf(I=>{if(I.is0()){if(e.allowInfinityPoint&&!s.is0(I.Y))return;throw new Error("bad point: ZERO")}const{x:E,y:p}=I.toAffine();if(!s.isValid(E)||!s.isValid(p))throw new Error("bad point: x or y not field elements");if(!H(E,p))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function D(I,E,p,v,_){return p=new M(s.mul(p.X,I),p.Y,p.Z),E=xf(v,E),p=xf(_,p),E.add(p)}class M{constructor(E,p,v){this.X=F("x",E),this.Y=F("y",p,!0),this.Z=F("z",v),Object.freeze(this)}static CURVE(){return l}static fromAffine(E){const{x:p,y:v}=E||{};if(!E||!s.isValid(p)||!s.isValid(v))throw new Error("invalid affine point");if(E instanceof M)throw new Error("projective point not allowed");return s.is0(p)&&s.is0(v)?M.ZERO:new M(p,v,s.ONE)}static fromBytes(E){const p=M.fromAffine(z(Jr(E,void 0,"point")));return p.assertValidity(),p}static fromHex(E){return M.fromBytes(mn("pointHex",E))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(E=8,p=!0){return W.createCache(this,E),p||this.multiply(Qu),this}assertValidity(){le(this)}hasEvenY(){const{y:E}=this.toAffine();if(!s.isOdd)throw new Error("Field doesn't support isOdd");return!s.isOdd(E)}equals(E){ne(E);const{X:p,Y:v,Z:_}=this,{X:N,Y:B,Z:G}=E,J=s.eql(s.mul(p,G),s.mul(N,_)),T=s.eql(s.mul(v,G),s.mul(B,_));return J&&T}negate(){return new M(this.X,s.neg(this.Y),this.Z)}double(){const{a:E,b:p}=l,v=s.mul(p,Qu),{X:_,Y:N,Z:B}=this;let G=s.ZERO,J=s.ZERO,T=s.ZERO,b=s.mul(_,_),x=s.mul(N,N),L=s.mul(B,B),V=s.mul(_,N);return V=s.add(V,V),T=s.mul(_,B),T=s.add(T,T),G=s.mul(E,T),J=s.mul(v,L),J=s.add(G,J),G=s.sub(x,J),J=s.add(x,J),J=s.mul(G,J),G=s.mul(V,G),T=s.mul(v,T),L=s.mul(E,L),V=s.sub(b,L),V=s.mul(E,V),V=s.add(V,T),T=s.add(b,b),b=s.add(T,b),b=s.add(b,L),b=s.mul(b,V),J=s.add(J,b),L=s.mul(N,B),L=s.add(L,L),b=s.mul(L,V),G=s.sub(G,b),T=s.mul(L,x),T=s.add(T,T),T=s.add(T,T),new M(G,J,T)}add(E){ne(E);const{X:p,Y:v,Z:_}=this,{X:N,Y:B,Z:G}=E;let J=s.ZERO,T=s.ZERO,b=s.ZERO;const x=l.a,L=s.mul(l.b,Qu);let V=s.mul(p,N),te=s.mul(v,B),ae=s.mul(_,G),Te=s.add(p,v),ke=s.add(N,B);Te=s.mul(Te,ke),ke=s.add(V,te),Te=s.sub(Te,ke),ke=s.add(p,_);let Je=s.add(N,G);return ke=s.mul(ke,Je),Je=s.add(V,ae),ke=s.sub(ke,Je),Je=s.add(v,_),J=s.add(B,G),Je=s.mul(Je,J),J=s.add(te,ae),Je=s.sub(Je,J),b=s.mul(x,ke),J=s.mul(L,ae),b=s.add(J,b),J=s.sub(te,b),b=s.add(te,b),T=s.mul(J,b),te=s.add(V,V),te=s.add(te,V),ae=s.mul(x,ae),ke=s.mul(L,ke),te=s.add(te,ae),ae=s.sub(V,ae),ae=s.mul(x,ae),ke=s.add(ke,ae),V=s.mul(te,ke),T=s.add(T,V),V=s.mul(Je,ke),J=s.mul(Te,J),J=s.sub(J,V),V=s.mul(Te,te),b=s.mul(Je,b),b=s.add(b,V),new M(J,T,b)}subtract(E){return this.add(E.negate())}is0(){return this.equals(M.ZERO)}multiply(E){const{endo:p}=e;if(!a.isValidNot0(E))throw new Error("invalid scalar: out of range");let v,_;const N=B=>W.cached(this,B,G=>xa(M,G));if(p){const{k1neg:B,k1:G,k2neg:J,k2:T}=he(E),{p:b,f:x}=N(G),{p:L,f:V}=N(T);_=x.add(V),v=D(p.beta,b,L,B,J)}else{const{p:B,f:G}=N(E);v=B,_=G}return xa(M,[v,_])[0]}multiplyUnsafe(E){const{endo:p}=e,v=this;if(!a.isValid(E))throw new Error("invalid scalar: out of range");if(E===Xi||v.is0())return M.ZERO;if(E===$o)return v;if(W.hasCache(this))return this.multiply(E);if(p){const{k1neg:_,k1:N,k2neg:B,k2:G}=he(E),{p1:J,p2:T}=i5(M,v,N,G);return D(p.beta,J,T,_,B)}else return W.unsafe(v,E)}multiplyAndAddUnsafe(E,p,v){const _=this.multiplyUnsafe(p).add(E.multiplyUnsafe(v));return _.is0()?void 0:_}toAffine(E){return fe(this,E)}isTorsionFree(){const{isTorsionFree:E}=e;return u===$o?!0:E?E(M,this):W.unsafe(this,h).is0()}clearCofactor(){const{clearCofactor:E}=e;return u===$o?this:E?E(M,this):this.multiplyUnsafe(u)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}toBytes(E=!0){return Aa(E,"isCompressed"),this.assertValidity(),j(M,this,E)}toHex(E=!0){return _a(this.toBytes(E))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(E=!0){return this.toBytes(E)}_setWindowSize(E){this.precompute(E)}static normalizeZ(E){return xa(M,E)}static msm(E,p){return Ox(M,a,E,p)}static fromPrivateKey(E){return M.BASE.multiply(Uo(a,E))}}M.BASE=new M(l.Gx,l.Gy,s.ONE),M.ZERO=new M(s.ZERO,s.ONE,s.ZERO),M.Fp=s,M.Fn=a;const q=a.BITS,W=new Cx(M,e.endo?Math.ceil(q/2):q);return M.BASE.precompute(8),M}function Zx(n){return Uint8Array.of(n?2:3)}function Xx(n,e){return{secretKey:e.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function HT(n,e={}){const{Fn:r}=n,s=e.randomBytes||qm,a=Object.assign(Xx(n.Fp,r),{seed:Tx(r.ORDER)});function l(j){try{return!!Uo(r,j)}catch{return!1}}function u(j,z){const{publicKey:$,publicKeyUncompressed:H}=a;try{const X=j.length;return z===!0&&X!==$||z===!1&&X!==H?!1:!!n.fromBytes(j)}catch{return!1}}function h(j=s(a.seed)){return t5(Jr(j,a.seed,"seed"),r.ORDER)}function f(j,z=!0){return n.BASE.multiply(Uo(r,j)).toBytes(z)}function m(j){const z=h(j);return{secretKey:z,publicKey:f(z)}}function g(j){if(typeof j=="bigint")return!1;if(j instanceof n)return!0;const{secretKey:z,publicKey:$,publicKeyUncompressed:H}=a;if(r.allowedLengths||z===$)return;const X=mn("key",j).length;return X===$||X===H}function S(j,z,$=!0){if(g(j)===!0)throw new Error("first arg must be private key");if(g(z)===!1)throw new Error("second arg must be public key");const H=Uo(r,j);return n.fromHex(z).multiply(H).toBytes($)}return Object.freeze({getPublicKey:f,getSharedSecret:S,keygen:m,Point:n,utils:{isValidSecretKey:l,isValidPublicKey:u,randomSecretKey:h,isValidPrivateKey:l,randomPrivateKey:h,normPrivateKeyToScalar:j=>Uo(r,j),precompute(j=8,z=n.BASE){return z.precompute(j,!1)}},lengths:a})}function PT(n,e,r={}){lx(e),Sc(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const s=r.randomBytes||qm,a=r.hmac||((p,...v)=>Yx(e,p,mi(...v))),{Fp:l,Fn:u}=n,{ORDER:h,BITS:f}=u,{keygen:m,getPublicKey:g,getSharedSecret:S,utils:k,lengths:j}=HT(n,r),z={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},$="compact";function H(p){const v=h>>$o;return p>v}function X(p,v){if(!u.isValidNot0(v))throw new Error(`invalid signature ${p}: out of range 1..Point.Fn.ORDER`);return v}function P(p,v){bm(v);const _=j.signature,N=v==="compact"?_:v==="recovered"?_+1:void 0;return Jr(p,N,`${v} signature`)}class F{constructor(v,_,N){this.r=X("r",v),this.s=X("s",_),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(v,_=$){P(v,_);let N;if(_==="der"){const{r:T,s:b}=Vi.toSig(Jr(v));return new F(T,b)}_==="recovered"&&(N=v[0],_="compact",v=v.subarray(1));const B=u.BYTES,G=v.subarray(0,B),J=v.subarray(B,B*2);return new F(u.fromBytes(G),u.fromBytes(J),N)}static fromHex(v,_){return this.fromBytes(vf(v),_)}addRecoveryBit(v){return new F(this.r,this.s,v)}recoverPublicKey(v){const _=l.ORDER,{r:N,s:B,recovery:G}=this;if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");if(h*Wx<_&&G>1)throw new Error("recovery id is ambiguous for h>1 curve");const T=G===2||G===3?N+h:N;if(!l.isValid(T))throw new Error("recovery id 2 or 3 invalid");const b=l.toBytes(T),x=n.fromBytes(mi(Zx((G&1)===0),b)),L=u.inv(T),V=he(mn("msgHash",v)),te=u.create(-V*L),ae=u.create(B*L),Te=n.BASE.multiplyUnsafe(te).add(x.multiplyUnsafe(ae));if(Te.is0())throw new Error("point at infinify");return Te.assertValidity(),Te}hasHighS(){return H(this.s)}toBytes(v=$){if(bm(v),v==="der")return vf(Vi.hexFromSig(this));const _=u.toBytes(this.r),N=u.toBytes(this.s);if(v==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return mi(Uint8Array.of(this.recovery),_,N)}return mi(_,N)}toHex(v){return _a(this.toBytes(v))}assertValidity(){}static fromCompact(v){return F.fromBytes(mn("sig",v),"compact")}static fromDER(v){return F.fromBytes(mn("sig",v),"der")}normalizeS(){return this.hasHighS()?new F(this.r,u.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return _a(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return _a(this.toBytes("compact"))}}const ne=r.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const _=Df(v),N=v.length*8-f;return N>0?_>>BigInt(N):_},he=r.bits2int_modN||function(v){return u.create(ne(v))},fe=_c(f);function le(p){return ym("num < 2^"+f,p,Xi,fe),u.toBytes(p)}function D(p,v){return Jr(p,void 0,"message"),v?Jr(e(p),void 0,"prehashed message"):p}function M(p,v,_){if(["recovered","canonical"].some(te=>te in _))throw new Error("sign() legacy options not supported");const{lowS:N,prehash:B,extraEntropy:G}=D0(_,z);p=D(p,B);const J=he(p),T=Uo(u,v),b=[le(T),le(J)];if(G!=null&&G!==!1){const te=G===!0?s(j.secretKey):G;b.push(mn("extraEntropy",te))}const x=mi(...b),L=J;function V(te){const ae=ne(te);if(!u.isValidNot0(ae))return;const Te=u.inv(ae),ke=n.BASE.multiply(ae).toAffine(),Je=u.create(ke.x);if(Je===Xi)return;const $e=u.create(Te*u.create(L+Je*T));if($e===Xi)return;let nt=(ke.x===Je?0:2)|Number(ke.y&$o),Kt=$e;return N&&H($e)&&(Kt=u.neg($e),nt^=1),new F(Je,Kt,nt)}return{seed:x,k2sig:V}}function q(p,v,_={}){p=mn("message",p);const{seed:N,k2sig:B}=M(p,v,_);return Gk(e.outputLen,u.BYTES,a)(N,B)}function W(p){let v;const _=typeof p=="string"||xc(p),N=!_&&p!==null&&typeof p=="object"&&typeof p.r=="bigint"&&typeof p.s=="bigint";if(!_&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)v=new F(p.r,p.s);else if(_){try{v=F.fromBytes(mn("sig",p),"der")}catch(B){if(!(B instanceof Vi.Err))throw B}if(!v)try{v=F.fromBytes(mn("sig",p),"compact")}catch{return!1}}return v||!1}function I(p,v,_,N={}){const{lowS:B,prehash:G,format:J}=D0(N,z);if(_=mn("publicKey",_),v=D(mn("message",v),G),"strict"in N)throw new Error("options.strict was renamed to lowS");const T=J===void 0?W(p):F.fromBytes(mn("sig",p),J);if(T===!1)return!1;try{const b=n.fromBytes(_);if(B&&T.hasHighS())return!1;const{r:x,s:L}=T,V=he(v),te=u.inv(L),ae=u.create(V*te),Te=u.create(x*te),ke=n.BASE.multiplyUnsafe(ae).add(b.multiplyUnsafe(Te));return ke.is0()?!1:u.create(ke.x)===x}catch{return!1}}function E(p,v,_={}){const{prehash:N}=D0(_,z);return v=D(v,N),F.fromBytes(p,"recovered").recoverPublicKey(v).toBytes()}return Object.freeze({keygen:m,getPublicKey:g,getSharedSecret:S,utils:k,lengths:j,Point:n,sign:q,verify:I,recoverPublicKey:E,Signature:F,hash:e})}function FT(n){const e={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},r=n.Fp;let s=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(u=>Math.ceil(u/2)))):void 0;const a=ka(e.n,{BITS:n.nBitLength,allowedLengths:s,modFromBytes:n.wrapPrivateKey}),l={Fp:r,Fn:a,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:e,curveOpts:l}}function GT(n){const{CURVE:e,curveOpts:r}=FT(n),s={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:e,curveOpts:r,hash:n.hash,ecdsaOpts:s}}function VT(n,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},n,Rx(r.Fn.ORDER,r.Fn.BITS))})}function KT(n){const{CURVE:e,curveOpts:r,hash:s,ecdsaOpts:a}=GT(n),l=$T(e,r),u=PT(l,s,a);return VT(n,u)}function YT(n,e){const r=s=>KT({...n,hash:s});return{...r(e),create:r}}const Zm={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},WT={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},mv=BigInt(2);function ZT(n){const e=Zm.p,r=BigInt(3),s=BigInt(6),a=BigInt(11),l=BigInt(22),u=BigInt(23),h=BigInt(44),f=BigInt(88),m=n*n*n%e,g=m*m*n%e,S=hn(g,r,e)*g%e,k=hn(S,r,e)*g%e,j=hn(k,mv,e)*m%e,z=hn(j,a,e)*j%e,$=hn(z,l,e)*z%e,H=hn($,h,e)*$%e,X=hn(H,f,e)*H%e,P=hn(X,h,e)*$%e,F=hn(P,r,e)*g%e,ne=hn(F,u,e)*z%e,he=hn(ne,s,e)*m%e,fe=hn(he,mv,e);if(!vm.eql(vm.sqr(fe),n))throw new Error("Cannot find square root");return fe}const vm=ka(Zm.p,{sqrt:ZT}),XT=YT({...Zm,Fp:vm,lowS:!0,endo:WT},mx);Qo.utils.randomPrivateKey;const pv=()=>{const n=Qo.utils.randomPrivateKey(),e=wm(n),r=new Uint8Array(64);return r.set(n),r.set(e,32),{publicKey:e,secretKey:r}},wm=Qo.getPublicKey;function gv(n){try{return Qo.ExtendedPoint.fromHex(n),!0}catch{return!1}}const JT=(n,e)=>Qo.sign(n,e.slice(0,32)),QT=Qo.verify,Vo=n=>dt.isBuffer(n)?n:n instanceof Uint8Array?dt.from(n.buffer,n.byteOffset,n.byteLength):dt.from(n);class eN{constructor(e){Object.assign(this,e)}encode(){return dt.from(N0.serialize(lf,this))}static decode(e){return N0.deserialize(lf,this,e)}static decodeUnchecked(e){return N0.deserializeUnchecked(lf,this,e)}}const lf=new Map;var Jx;const tN=32,Ps=32;function nN(n){return n._bn!==void 0}let yv=1;class Ve extends eN{constructor(e){if(super({}),this._bn=void 0,nN(e))this._bn=e._bn;else{if(typeof e=="string"){const r=Vn.decode(e);if(r.length!=Ps)throw new Error("Invalid public key input");this._bn=new tv(r)}else this._bn=new tv(e);if(this._bn.byteLength()>Ps)throw new Error("Invalid public key input")}}static unique(){const e=new Ve(yv);return yv+=1,new Ve(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Vn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(dt);if(e.length===Ps)return e;const r=dt.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,s){const a=dt.concat([e.toBuffer(),dt.from(r),s.toBuffer()]),l=sv(a);return new Ve(l)}static createProgramAddressSync(e,r){let s=dt.alloc(0);e.forEach(function(l){if(l.length>tN)throw new TypeError("Max seed length exceeded");s=dt.concat([s,Vo(l)])}),s=dt.concat([s,r.toBuffer(),dt.from("ProgramDerivedAddress")]);const a=sv(s);if(gv(a))throw new Error("Invalid seeds, address must fall off the curve");return new Ve(a)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let s=255,a;for(;s!=0;){try{const l=e.concat(dt.from([s]));a=this.createProgramAddressSync(l,r)}catch(l){if(l instanceof TypeError)throw l;s--;continue}return[a,s]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new Ve(e);return gv(r.toBytes())}}Jx=Ve;Ve.default=new Jx("11111111111111111111111111111111");lf.set(Ve,{kind:"struct",fields:[["_bn","u256"]]});new Ve("BPFLoader1111111111111111111111111111111111");const Ho=1232,Qx=127,e2=64;class t2 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(t2.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class n2 extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(n2.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ec extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ec.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class kf{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const s=new Map;this.keySegments().flat().forEach((l,u)=>{s.set(l.toBase58(),u)});const a=l=>{const u=s.get(l.toBase58());if(u===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return u};return e.map(l=>({programIdIndex:a(l.programId),accountKeyIndexes:l.keys.map(u=>a(u.pubkey)),data:l.data}))}}const vt=(n="publicKey")=>ie.blob(32,n),Lo=(n="string")=>{const e=ie.struct([ie.u32("length"),ie.u32("lengthPadding"),ie.blob(ie.offset(ie.u32(),-8),"chars")],n),r=e.decode.bind(e),s=e.encode.bind(e),a=e;return a.decode=(l,u)=>r(l,u).chars.toString(),a.encode=(l,u,h)=>{const f={chars:dt.from(l,"utf8")};return s(f,u,h)},a.alloc=l=>ie.u32().span+ie.u32().span+dt.from(l,"utf8").length,a},rN=(n="authorized")=>ie.struct([vt("staker"),vt("withdrawer")],n),iN=(n="lockup")=>ie.struct([ie.ns64("unixTimestamp"),ie.ns64("epoch"),vt("custodian")],n),sN=(n="voteInit")=>ie.struct([vt("nodePubkey"),vt("authorizedVoter"),vt("authorizedWithdrawer"),ie.u8("commission")],n),aN=(n="voteAuthorizeWithSeedArgs")=>ie.struct([ie.u32("voteAuthorizationType"),vt("currentAuthorityDerivedKeyOwnerPubkey"),Lo("currentAuthorityDerivedKeySeed"),vt("newAuthorized")],n);function Lr(n){let e=0,r=0;for(;;){let s=n.shift();if(e|=(s&127)<<r*7,r+=1,(s&128)===0)break}return e}function Ir(n,e){let r=e;for(;;){let s=r&127;if(r>>=7,r==0){n.push(s);break}else s|=128,n.push(s)}}function An(n,e){if(!n)throw new Error(e||"Assertion failed")}class Pf{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const s=new Map,a=u=>{const h=u.toBase58();let f=s.get(h);return f===void 0&&(f={isSigner:!1,isWritable:!1,isInvoked:!1},s.set(h,f)),f},l=a(r);l.isSigner=!0,l.isWritable=!0;for(const u of e){a(u.programId).isInvoked=!0;for(const h of u.keys){const f=a(h.pubkey);f.isSigner||=h.isSigner,f.isWritable||=h.isWritable}}return new Pf(r,s)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];An(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,f])=>f.isSigner&&f.isWritable),s=e.filter(([,f])=>f.isSigner&&!f.isWritable),a=e.filter(([,f])=>!f.isSigner&&f.isWritable),l=e.filter(([,f])=>!f.isSigner&&!f.isWritable),u={numRequiredSignatures:r.length+s.length,numReadonlySignedAccounts:s.length,numReadonlyUnsignedAccounts:l.length};{An(r.length>0,"Expected at least one writable signer key");const[f]=r[0];An(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const h=[...r.map(([f])=>new Ve(f)),...s.map(([f])=>new Ve(f)),...a.map(([f])=>new Ve(f)),...l.map(([f])=>new Ve(f))];return[u,h]}extractTableLookup(e){const[r,s]=this.drainKeysFoundInLookupTable(e.state.addresses,u=>!u.isSigner&&!u.isInvoked&&u.isWritable),[a,l]=this.drainKeysFoundInLookupTable(e.state.addresses,u=>!u.isSigner&&!u.isInvoked&&!u.isWritable);if(!(r.length===0&&a.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:a},{writable:s,readonly:l}]}drainKeysFoundInLookupTable(e,r){const s=new Array,a=new Array;for(const[l,u]of this.keyMetaMap.entries())if(r(u)){const h=new Ve(l),f=e.findIndex(m=>m.equals(h));f>=0&&(An(f<256,"Max lookup table index exceeded"),s.push(f),a.push(h),this.keyMetaMap.delete(l))}return[s,a]}}const r2="Reached end of buffer unexpectedly";function Yi(n){if(n.length===0)throw new Error(r2);return n.shift()}function Dr(n,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>n.length:r>=n.length)throw new Error(r2);return n.splice(...e)}class Gs{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new Ve(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Vn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new kf(this.staticAccountKeys)}static compile(e){const r=Pf.compile(e.instructions,e.payerKey),[s,a]=r.getMessageComponents(),u=new kf(a).compileInstructions(e.instructions).map(h=>({programIdIndex:h.programIdIndex,accounts:h.accountKeyIndexes,data:Vn.encode(h.data)}));return new Gs({header:s,accountKeys:a,recentBlockhash:e.recentBlockhash,instructions:u})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const s=e-r,l=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return s<l}else{const s=r-this.header.numReadonlySignedAccounts;return e<s}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];Ir(r,e);const s=this.instructions.map(S=>{const{accounts:k,programIdIndex:j}=S,z=Array.from(Vn.decode(S.data));let $=[];Ir($,k.length);let H=[];return Ir(H,z.length),{programIdIndex:j,keyIndicesCount:dt.from($),keyIndices:k,dataLength:dt.from(H),data:z}});let a=[];Ir(a,s.length);let l=dt.alloc(Ho);dt.from(a).copy(l);let u=a.length;s.forEach(S=>{const j=ie.struct([ie.u8("programIdIndex"),ie.blob(S.keyIndicesCount.length,"keyIndicesCount"),ie.seq(ie.u8("keyIndex"),S.keyIndices.length,"keyIndices"),ie.blob(S.dataLength.length,"dataLength"),ie.seq(ie.u8("userdatum"),S.data.length,"data")]).encode(S,l,u);u+=j}),l=l.slice(0,u);const h=ie.struct([ie.blob(1,"numRequiredSignatures"),ie.blob(1,"numReadonlySignedAccounts"),ie.blob(1,"numReadonlyUnsignedAccounts"),ie.blob(r.length,"keyCount"),ie.seq(vt("key"),e,"keys"),vt("recentBlockhash")]),f={numRequiredSignatures:dt.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:dt.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:dt.from([this.header.numReadonlyUnsignedAccounts]),keyCount:dt.from(r),keys:this.accountKeys.map(S=>Vo(S.toBytes())),recentBlockhash:Vn.decode(this.recentBlockhash)};let m=dt.alloc(2048);const g=h.encode(f,m);return l.copy(m,g),m.slice(0,g+l.length)}static from(e){let r=[...e];const s=Yi(r);if(s!==(s&Qx))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const a=Yi(r),l=Yi(r),u=Lr(r);let h=[];for(let k=0;k<u;k++){const j=Dr(r,0,Ps);h.push(new Ve(dt.from(j)))}const f=Dr(r,0,Ps),m=Lr(r);let g=[];for(let k=0;k<m;k++){const j=Yi(r),z=Lr(r),$=Dr(r,0,z),H=Lr(r),X=Dr(r,0,H),P=Vn.encode(dt.from(X));g.push({programIdIndex:j,accounts:$,data:P})}const S={header:{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l},recentBlockhash:Vn.encode(dt.from(f)),accountKeys:h,instructions:g};return new Gs(S)}}class Tf{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new kf(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,s=this.staticAccountKeys.length;if(e>=s){const a=e-s,l=this.addressTableLookups.reduce((u,h)=>u+h.writableIndexes.length,0);return a<l}else if(e>=this.header.numRequiredSignatures){const a=e-r,u=s-r-this.header.numReadonlyUnsignedAccounts;return a<u}else{const a=r-this.header.numReadonlySignedAccounts;return e<a}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const s of this.addressTableLookups){const a=e.find(l=>l.key.equals(s.accountKey));if(!a)throw new Error(`Failed to find address lookup table account for table key ${s.accountKey.toBase58()}`);for(const l of s.writableIndexes)if(l<a.state.addresses.length)r.writable.push(a.state.addresses[l]);else throw new Error(`Failed to find address for index ${l} in address lookup table ${s.accountKey.toBase58()}`);for(const l of s.readonlyIndexes)if(l<a.state.addresses.length)r.readonly.push(a.state.addresses[l]);else throw new Error(`Failed to find address for index ${l} in address lookup table ${s.accountKey.toBase58()}`)}return r}static compile(e){const r=Pf.compile(e.instructions,e.payerKey),s=new Array,a={writable:new Array,readonly:new Array},l=e.addressLookupTableAccounts||[];for(const g of l){const S=r.extractTableLookup(g);if(S!==void 0){const[k,{writable:j,readonly:z}]=S;s.push(k),a.writable.push(...j),a.readonly.push(...z)}}const[u,h]=r.getMessageComponents(),m=new kf(h,a).compileInstructions(e.instructions);return new Tf({header:u,staticAccountKeys:h,recentBlockhash:e.recentBlockhash,compiledInstructions:m,addressTableLookups:s})}serialize(){const e=Array();Ir(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),s=Array();Ir(s,this.compiledInstructions.length);const a=this.serializeAddressTableLookups(),l=Array();Ir(l,this.addressTableLookups.length);const u=ie.struct([ie.u8("prefix"),ie.struct([ie.u8("numRequiredSignatures"),ie.u8("numReadonlySignedAccounts"),ie.u8("numReadonlyUnsignedAccounts")],"header"),ie.blob(e.length,"staticAccountKeysLength"),ie.seq(vt(),this.staticAccountKeys.length,"staticAccountKeys"),vt("recentBlockhash"),ie.blob(s.length,"instructionsLength"),ie.blob(r.length,"serializedInstructions"),ie.blob(l.length,"addressTableLookupsLength"),ie.blob(a.length,"serializedAddressTableLookups")]),h=new Uint8Array(Ho),m=u.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(g=>g.toBytes()),recentBlockhash:Vn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(s),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(l),serializedAddressTableLookups:a},h);return h.slice(0,m)}serializeInstructions(){let e=0;const r=new Uint8Array(Ho);for(const s of this.compiledInstructions){const a=Array();Ir(a,s.accountKeyIndexes.length);const l=Array();Ir(l,s.data.length);const u=ie.struct([ie.u8("programIdIndex"),ie.blob(a.length,"encodedAccountKeyIndexesLength"),ie.seq(ie.u8(),s.accountKeyIndexes.length,"accountKeyIndexes"),ie.blob(l.length,"encodedDataLength"),ie.blob(s.data.length,"data")]);e+=u.encode({programIdIndex:s.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(a),accountKeyIndexes:s.accountKeyIndexes,encodedDataLength:new Uint8Array(l),data:s.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(Ho);for(const s of this.addressTableLookups){const a=Array();Ir(a,s.writableIndexes.length);const l=Array();Ir(l,s.readonlyIndexes.length);const u=ie.struct([vt("accountKey"),ie.blob(a.length,"encodedWritableIndexesLength"),ie.seq(ie.u8(),s.writableIndexes.length,"writableIndexes"),ie.blob(l.length,"encodedReadonlyIndexesLength"),ie.seq(ie.u8(),s.readonlyIndexes.length,"readonlyIndexes")]);e+=u.encode({accountKey:s.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(a),writableIndexes:s.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(l),readonlyIndexes:s.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const s=Yi(r),a=s&Qx;An(s!==a,"Expected versioned message but received legacy message");const l=a;An(l===0,`Expected versioned message with version 0 but found version ${l}`);const u={numRequiredSignatures:Yi(r),numReadonlySignedAccounts:Yi(r),numReadonlyUnsignedAccounts:Yi(r)},h=[],f=Lr(r);for(let z=0;z<f;z++)h.push(new Ve(Dr(r,0,Ps)));const m=Vn.encode(Dr(r,0,Ps)),g=Lr(r),S=[];for(let z=0;z<g;z++){const $=Yi(r),H=Lr(r),X=Dr(r,0,H),P=Lr(r),F=new Uint8Array(Dr(r,0,P));S.push({programIdIndex:$,accountKeyIndexes:X,data:F})}const k=Lr(r),j=[];for(let z=0;z<k;z++){const $=new Ve(Dr(r,0,Ps)),H=Lr(r),X=Dr(r,0,H),P=Lr(r),F=Dr(r,0,P);j.push({accountKey:$,writableIndexes:X,readonlyIndexes:F})}return new Tf({header:u,staticAccountKeys:h,recentBlockhash:m,compiledInstructions:S,addressTableLookups:j})}}let Us=(function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n})({});const oN=dt.alloc(e2).fill(0);class bv{constructor(e){this.keys=void 0,this.programId=void 0,this.data=dt.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:s})=>({pubkey:e.toJSON(),isSigner:r,isWritable:s})),programId:this.programId.toJSON(),data:[...this.data]}}}class $s{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:s}=e;this.minNonceContextSlot=r,this.nonceInfo=s}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:s}=e;this.recentBlockhash=r,this.lastValidBlockHeight=s}else{const{recentBlockhash:r,nonceInfo:s}=e;s&&(this.nonceInfo=s),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new bv(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let s;if(this.feePayer)s=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)s=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let $=0;$<r.length;$++)if(r[$].programId===void 0)throw new Error(`Transaction instruction index ${$} has undefined program id`);const a=[],l=[];r.forEach($=>{$.keys.forEach(X=>{l.push({...X})});const H=$.programId.toString();a.includes(H)||a.push(H)}),a.forEach($=>{l.push({pubkey:new Ve($),isSigner:!1,isWritable:!1})});const u=[];l.forEach($=>{const H=$.pubkey.toString(),X=u.findIndex(P=>P.pubkey.toString()===H);X>-1?(u[X].isWritable=u[X].isWritable||$.isWritable,u[X].isSigner=u[X].isSigner||$.isSigner):u.push($)}),u.sort(function($,H){if($.isSigner!==H.isSigner)return $.isSigner?-1:1;if($.isWritable!==H.isWritable)return $.isWritable?-1:1;const X={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return $.pubkey.toBase58().localeCompare(H.pubkey.toBase58(),"en",X)});const h=u.findIndex($=>$.pubkey.equals(s));if(h>-1){const[$]=u.splice(h,1);$.isSigner=!0,$.isWritable=!0,u.unshift($)}else u.unshift({pubkey:s,isSigner:!0,isWritable:!0});for(const $ of this.signatures){const H=u.findIndex(X=>X.pubkey.equals($.publicKey));if(H>-1)u[H].isSigner||(u[H].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${$.publicKey.toString()}`)}let f=0,m=0,g=0;const S=[],k=[];u.forEach(({pubkey:$,isSigner:H,isWritable:X})=>{H?(S.push($.toString()),f+=1,X||(m+=1)):(k.push($.toString()),X||(g+=1))});const j=S.concat(k),z=r.map($=>{const{data:H,programId:X}=$;return{programIdIndex:j.indexOf(X.toString()),accounts:$.keys.map(P=>j.indexOf(P.pubkey.toString())),data:Vn.encode(H)}});return z.forEach($=>{An($.programIdIndex>=0),$.accounts.forEach(H=>An(H>=0))}),new Gs({header:{numRequiredSignatures:f,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:g},accountKeys:j,recentBlockhash:e,instructions:z})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((a,l)=>r[l].equals(a.publicKey))||(this.signatures=r.map(s=>({signature:null,publicKey:s}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(s=>{const a=s.toString();return r.has(a)?!1:(r.add(a),!0)}).map(s=>({signature:null,publicKey:s}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,s=[];for(const l of e){const u=l.publicKey.toString();r.has(u)||(r.add(u),s.push(l))}this.signatures=s.map(l=>({signature:null,publicKey:l.publicKey}));const a=this._compile();this._partialSign(a,...s)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,s=[];for(const l of e){const u=l.publicKey.toString();r.has(u)||(r.add(u),s.push(l))}const a=this._compile();this._partialSign(a,...s)}_partialSign(e,...r){const s=e.serialize();r.forEach(a=>{const l=JT(s,a.secretKey);this._addSignature(a.publicKey,Vo(l))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){An(r.length===64);const s=this.signatures.findIndex(a=>e.equals(a.publicKey));if(s<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[s].signature=dt.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const s={};for(const{signature:a,publicKey:l}of this.signatures)a===null?r&&(s.missing||=[]).push(l):QT(a,e,l.toBytes())||(s.invalid||=[]).push(l);return s.invalid||s.missing?s:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:s}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),a=this.serializeMessage();if(s){const l=this._getMessageSignednessErrors(a,r);if(l){let u="Signature verification failed.";throw l.invalid&&(u+=`
Invalid signature for public key${l.invalid.length===1?"":"(s)"} [\`${l.invalid.map(h=>h.toBase58()).join("`, `")}\`].`),l.missing&&(u+=`
Missing signature for public key${l.missing.length===1?"":"(s)"} [\`${l.missing.map(h=>h.toBase58()).join("`, `")}\`].`),new Error(u)}}return this._serialize(a)}_serialize(e){const{signatures:r}=this,s=[];Ir(s,r.length);const a=s.length+r.length*64+e.length,l=dt.alloc(a);return An(r.length<256),dt.from(s).copy(l,0),r.forEach(({signature:u},h)=>{u!==null&&(An(u.length===64,"signature has invalid length"),dt.from(u).copy(l,s.length+h*64))}),e.copy(l,s.length+r.length*64),An(l.length<=Ho,`Transaction too large: ${l.length} > ${Ho}`),l}get keys(){return An(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return An(this.instructions.length===1),this.instructions[0].programId}get data(){return An(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const s=Lr(r);let a=[];for(let l=0;l<s;l++){const u=Dr(r,0,e2);a.push(Vn.encode(dt.from(u)))}return $s.populate(Gs.from(r),a)}static populate(e,r=[]){const s=new $s;return s.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(s.feePayer=e.accountKeys[0]),r.forEach((a,l)=>{const u={signature:a==Vn.encode(oN)?null:Vn.decode(a),publicKey:e.accountKeys[l]};s.signatures.push(u)}),e.instructions.forEach(a=>{const l=a.accounts.map(u=>{const h=e.accountKeys[u];return{pubkey:h,isSigner:s.signatures.some(f=>f.publicKey.toString()===h.toString())||e.isAccountSigner(u),isWritable:e.isAccountWritable(u)}});s.instructions.push(new bv({keys:l,programId:e.accountKeys[a.programIdIndex],data:Vn.decode(a.data)}))}),s._message=e,s._json=s.toJSON(),s}}const lN=160,cN=64,uN=lN/cN,fN=1e3/uN;new Ve("SysvarC1ock11111111111111111111111111111111");new Ve("SysvarEpochSchedu1e111111111111111111111111");new Ve("Sysvar1nstructions1111111111111111111111111");new Ve("SysvarRecentB1ockHashes11111111111111111111");new Ve("SysvarRent111111111111111111111111111111111");new Ve("SysvarRewards111111111111111111111111111111");new Ve("SysvarS1otHashes111111111111111111111111111");new Ve("SysvarS1otHistory11111111111111111111111111");new Ve("SysvarStakeHistory1111111111111111111111111");class vv extends Error{constructor({action:e,signature:r,transactionMessage:s,logs:a}){const l=a?`Logs: 
${JSON.stringify(a.slice(-10),null,2)}. `:"",u="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let h;switch(e){case"send":h=`Transaction ${r} resulted in an error. 
${s}. `+l+u;break;case"simulate":h=`Simulation failed. 
Message: ${s}. 
`+l+u;break;default:h=`Unknown action '${(f=>f)(e)}'`}super(h),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=s,this.transactionLogs=a||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,s)=>{e.getTransaction(this.signature).then(a=>{if(a&&a.meta&&a.meta.logMessages){const l=a.meta.logMessages;this.transactionLogs=l,r(l)}else s(new Error("Log messages not found"))}).catch(s)})),await this.transactionLogs}}class qe extends Error{constructor({code:e,message:r,data:s},a){super(a!=null?`${a}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=s,this.name="SolanaJSONRPCError"}}function Oo(n){return new Promise(e=>setTimeout(e,n))}const hN=ie.nu64("lamportsPerSignature"),i2=ie.struct([ie.u32("version"),ie.u32("state"),vt("authorizedPubkey"),vt("nonce"),ie.struct([hN],"feeCalculator")]);i2.span;class Xm{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=i2.decode(Vo(e),0);return new Xm({authorizedPubkey:new Ve(r.authorizedPubkey),nonce:new Ve(r.nonce).toString(),feeCalculator:r.feeCalculator})}}function Ko(n){const e=ie.blob(8,n),r=e.decode.bind(e),s=e.encode.bind(e),a=e,l=eT();return a.decode=(u,h)=>{const f=r(u,h);return l.decode(f)},a.encode=(u,h,f)=>{const m=l.encode(u);return s(m,h,f)},a}Object.freeze({Create:{index:0,layout:ie.struct([ie.u32("instruction"),ie.ns64("lamports"),ie.ns64("space"),vt("programId")])},Assign:{index:1,layout:ie.struct([ie.u32("instruction"),vt("programId")])},Transfer:{index:2,layout:ie.struct([ie.u32("instruction"),Ko("lamports")])},CreateWithSeed:{index:3,layout:ie.struct([ie.u32("instruction"),vt("base"),Lo("seed"),ie.ns64("lamports"),ie.ns64("space"),vt("programId")])},AdvanceNonceAccount:{index:4,layout:ie.struct([ie.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ie.struct([ie.u32("instruction"),ie.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ie.struct([ie.u32("instruction"),vt("authorized")])},AuthorizeNonceAccount:{index:7,layout:ie.struct([ie.u32("instruction"),vt("authorized")])},Allocate:{index:8,layout:ie.struct([ie.u32("instruction"),ie.ns64("space")])},AllocateWithSeed:{index:9,layout:ie.struct([ie.u32("instruction"),vt("base"),Lo("seed"),ie.ns64("space"),vt("programId")])},AssignWithSeed:{index:10,layout:ie.struct([ie.u32("instruction"),vt("base"),Lo("seed"),vt("programId")])},TransferWithSeed:{index:11,layout:ie.struct([ie.u32("instruction"),Ko("lamports"),Lo("seed"),vt("programId")])},UpgradeNonceAccount:{index:12,layout:ie.struct([ie.u32("instruction")])}});new Ve("11111111111111111111111111111111");new Ve("BPFLoader2111111111111111111111111111111111");function dN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var z0,wv;function mN(){if(wv)return z0;wv=1;var n=Object.prototype.toString,e=Object.keys||function(s){var a=[];for(var l in s)a.push(l);return a};function r(s,a){var l,u,h,f,m,g,S;if(s===!0)return"true";if(s===!1)return"false";switch(typeof s){case"object":if(s===null)return null;if(s.toJSON&&typeof s.toJSON=="function")return r(s.toJSON(),a);if(S=n.call(s),S==="[object Array]"){for(h="[",u=s.length-1,l=0;l<u;l++)h+=r(s[l],!0)+",";return u>-1&&(h+=r(s[l],!0)),h+"]"}else if(S==="[object Object]"){for(f=e(s).sort(),u=f.length,h="",l=0;l<u;)m=f[l],g=r(s[m],!1),g!==void 0&&(h&&(h+=","),h+=JSON.stringify(m)+":"+g),l++;return"{"+h+"}"}else return JSON.stringify(s);case"function":case"undefined":return a?null:void 0;case"string":return JSON.stringify(s);default:return isFinite(s)?s:null}}return z0=function(s){var a=r(s,!1);if(a!==void 0)return""+a},z0}var pN=mN(),xv=dN(pN);const Jl=32;function q0(n){let e=0;for(;n>1;)n/=2,e++;return e}function gN(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class yN{constructor(e,r,s,a,l){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=s,this.firstNormalEpoch=a,this.firstNormalSlot=l}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=q0(gN(e+Jl+1))-q0(Jl)-1,s=this.getSlotsInEpoch(r),a=e-(s-Jl);return[r,a]}else{const r=e-this.firstNormalSlot,s=Math.floor(r/this.slotsPerEpoch),a=this.firstNormalEpoch+s,l=r%this.slotsPerEpoch;return[a,l]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Jl:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+q0(Jl)):this.slotsPerEpoch}}var bN=globalThis.fetch;class vN extends IT{constructor(e,r,s){const a=l=>{const u=UT(l,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in u?this.underlyingSocket=u.socket:this.underlyingSocket=u,u};super(a,e,r,s),this.underlyingSocket=void 0}call(...e){const r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){const r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function wN(n,e){let r;try{r=n.layout.decode(e)}catch(s){throw new Error("invalid instruction; "+s)}if(r.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${n.index}`);return r}const _v=56;class Sv{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=wN(xN,e),s=e.length-_v;An(s>=0,"lookup table is invalid"),An(s%32===0,"lookup table is invalid");const a=s/32,{addresses:l}=ie.struct([ie.seq(vt(),a,"addresses")]).decode(e.slice(_v));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new Ve(r.authority[0]):void 0,addresses:l.map(u=>new Ve(u))}}}const xN={index:1,layout:ie.struct([ie.u32("typeIndex"),Ko("deactivationSlot"),ie.nu64("lastExtendedSlot"),ie.u8("lastExtendedStartIndex"),ie.u8(),ie.seq(vt(),ie.offset(ie.u8(),-1),"authority")])},_N=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function SN(n){const e=n.match(_N);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[r,s,a,l]=e,u=n.startsWith("https:")?"wss:":"ws:",h=a==null?null:parseInt(a.slice(1),10),f=h==null?"":`:${h+1}`;return`${u}//${s}${f}${l}`}const an=Rc(Ym(Ve),Be(),n=>new Ve(n)),s2=Wm([Be(),rn("base64")]),Jm=Rc(Ym(dt),s2,n=>dt.from(n[0],"base64")),EN=30*1e3;function AN(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Yt(n){let e,r;if(typeof n=="string")e=n;else if(n){const{commitment:s,...a}=n;e=s,r=a}return{commitment:e,config:r}}function Ev(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function a2(n){return nr([Ne({jsonrpc:rn("2.0"),id:Be(),result:n}),Ne({jsonrpc:rn("2.0"),id:Be(),error:Ne({code:el(),message:Be(),data:Fe(oT())})})])}const RN=a2(el());function ft(n){return Rc(a2(n),RN,e=>"error"in e?e:{...e,result:Ce(e.result,n)})}function bn(n){return ft(Ne({context:Ne({slot:ge()}),value:n}))}function Ff(n){return Ne({context:Ne({slot:ge()}),value:n})}function $0(n,e){return n===0?new Tf({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new Ve(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Vn.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Gs(e)}const kN=Ne({foundation:ge(),foundationTerm:ge(),initial:ge(),taper:ge(),terminal:ge()}),TN=ft(Oe(je(Ne({epoch:ge(),effectiveSlot:ge(),amount:ge(),postBalance:ge(),commission:Fe(je(ge()))})))),NN=Oe(Ne({slot:ge(),prioritizationFee:ge()})),BN=Ne({total:ge(),validator:ge(),foundation:ge(),epoch:ge()}),CN=Ne({epoch:ge(),slotIndex:ge(),slotsInEpoch:ge(),absoluteSlot:ge(),blockHeight:Fe(ge()),transactionCount:Fe(ge())}),ON=Ne({slotsPerEpoch:ge(),leaderScheduleSlotOffset:ge(),warmup:yi(),firstNormalEpoch:ge(),firstNormalSlot:ge()}),jN=qx(Be(),Oe(ge())),Na=je(nr([Ne({}),Be()])),MN=Ne({err:Na}),UN=rn("receivedSignature"),LN=Ne({"solana-core":Be(),"feature-set":Fe(ge())}),IN=Ne({program:Be(),programId:an,parsed:el()}),DN=Ne({programId:an,accounts:Oe(an),data:Be()}),Av=bn(Ne({err:je(nr([Ne({}),Be()])),logs:je(Oe(Be())),accounts:Fe(je(Oe(je(Ne({executable:yi(),owner:Be(),lamports:ge(),data:Oe(Be()),rentEpoch:Fe(ge())}))))),unitsConsumed:Fe(ge()),returnData:Fe(je(Ne({programId:Be(),data:Wm([Be(),rn("base64")])}))),innerInstructions:Fe(je(Oe(Ne({index:ge(),instructions:Oe(nr([IN,DN]))}))))})),zN=bn(Ne({byIdentity:qx(Be(),Oe(ge())),range:Ne({firstSlot:ge(),lastSlot:ge()})}));function qN(n,e,r,s,a,l){const u=r||bN;let h;l!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let f;return s&&(f=async(g,S)=>{const k=await new Promise((j,z)=>{try{s(g,S,($,H)=>j([$,H]))}catch($){z($)}});return await u(...k)}),new CT(async(g,S)=>{const k={method:"POST",body:g,agent:h,headers:Object.assign({"Content-Type":"application/json"},e||{},q8)};try{let j=5,z,$=500;for(;f?z=await f(n,k):z=await u(n,k),!(z.status!==429||a===!0||(j-=1,j===0));)console.error(`Server responded with ${z.status} ${z.statusText}.  Retrying after ${$}ms delay...`),await Oo($),$*=2;const H=await z.text();z.ok?S(null,H):S(new Error(`${z.status} ${z.statusText}: ${H}`))}catch(j){j instanceof Error&&S(j)}},{})}function $N(n){return(e,r)=>new Promise((s,a)=>{n.request(e,r,(l,u)=>{if(l){a(l);return}s(u)})})}function HN(n){return e=>new Promise((r,s)=>{e.length===0&&r([]);const a=e.map(l=>n.request(l.methodName,l.args));n.request(a,(l,u)=>{if(l){s(l);return}r(u)})})}const PN=ft(kN),FN=ft(BN),GN=ft(NN),VN=ft(CN),KN=ft(ON),YN=ft(jN),WN=ft(ge()),ZN=bn(Ne({total:ge(),circulating:ge(),nonCirculating:ge(),nonCirculatingAccounts:Oe(an)})),xm=Ne({amount:Be(),uiAmount:je(ge()),decimals:ge(),uiAmountString:Fe(Be())}),XN=bn(Oe(Ne({address:an,amount:Be(),uiAmount:je(ge()),decimals:ge(),uiAmountString:Fe(Be())}))),JN=bn(Oe(Ne({pubkey:an,account:Ne({executable:yi(),owner:an,lamports:ge(),data:Jm,rentEpoch:ge()})}))),_m=Ne({program:Be(),parsed:el(),space:ge()}),QN=bn(Oe(Ne({pubkey:an,account:Ne({executable:yi(),owner:an,lamports:ge(),data:_m,rentEpoch:ge()})}))),e8=bn(Oe(Ne({lamports:ge(),address:an}))),dc=Ne({executable:yi(),owner:an,lamports:ge(),data:Jm,rentEpoch:ge()}),t8=Ne({pubkey:an,account:dc}),n8=Rc(nr([Ym(dt),_m]),nr([s2,_m]),n=>Array.isArray(n)?Ce(n,Jm):n),Sm=Ne({executable:yi(),owner:an,lamports:ge(),data:n8,rentEpoch:ge()}),r8=Ne({pubkey:an,account:Sm}),i8=Ne({state:nr([rn("active"),rn("inactive"),rn("activating"),rn("deactivating")]),active:ge(),inactive:ge()}),s8=ft(Oe(Ne({signature:Be(),slot:ge(),err:Na,memo:je(Be()),blockTime:Fe(je(ge()))}))),a8=ft(Oe(Ne({signature:Be(),slot:ge(),err:Na,memo:je(Be()),blockTime:Fe(je(ge()))}))),o8=Ne({subscription:ge(),result:Ff(dc)}),l8=Ne({pubkey:an,account:dc}),c8=Ne({subscription:ge(),result:Ff(l8)}),u8=Ne({parent:ge(),slot:ge(),root:ge()}),f8=Ne({subscription:ge(),result:u8}),h8=nr([Ne({type:nr([rn("firstShredReceived"),rn("completed"),rn("optimisticConfirmation"),rn("root")]),slot:ge(),timestamp:ge()}),Ne({type:rn("createdBank"),parent:ge(),slot:ge(),timestamp:ge()}),Ne({type:rn("frozen"),slot:ge(),timestamp:ge(),stats:Ne({numTransactionEntries:ge(),numSuccessfulTransactions:ge(),numFailedTransactions:ge(),maxTransactionsPerEntry:ge()})}),Ne({type:rn("dead"),slot:ge(),timestamp:ge(),err:Be()})]),d8=Ne({subscription:ge(),result:h8}),m8=Ne({subscription:ge(),result:Ff(nr([MN,UN]))}),p8=Ne({subscription:ge(),result:ge()}),g8=Ne({pubkey:Be(),gossip:je(Be()),tpu:je(Be()),rpc:je(Be()),version:je(Be())}),Rv=Ne({votePubkey:Be(),nodePubkey:Be(),activatedStake:ge(),epochVoteAccount:yi(),epochCredits:Oe(Wm([ge(),ge(),ge()])),commission:ge(),lastVote:ge(),rootSlot:je(ge())}),y8=ft(Ne({current:Oe(Rv),delinquent:Oe(Rv)})),b8=nr([rn("processed"),rn("confirmed"),rn("finalized")]),v8=Ne({slot:ge(),confirmations:je(ge()),err:Na,confirmationStatus:Fe(b8)}),w8=bn(Oe(je(v8))),x8=ft(ge()),o2=Ne({accountKey:an,writableIndexes:Oe(ge()),readonlyIndexes:Oe(ge())}),Qm=Ne({signatures:Oe(Be()),message:Ne({accountKeys:Oe(Be()),header:Ne({numRequiredSignatures:ge(),numReadonlySignedAccounts:ge(),numReadonlyUnsignedAccounts:ge()}),instructions:Oe(Ne({accounts:Oe(ge()),data:Be(),programIdIndex:ge()})),recentBlockhash:Be(),addressTableLookups:Fe(Oe(o2))})}),l2=Ne({pubkey:an,signer:yi(),writable:yi(),source:Fe(nr([rn("transaction"),rn("lookupTable")]))}),c2=Ne({accountKeys:Oe(l2),signatures:Oe(Be())}),u2=Ne({parsed:el(),program:Be(),programId:an}),f2=Ne({accounts:Oe(an),data:Be(),programId:an}),_8=nr([f2,u2]),S8=nr([Ne({parsed:el(),program:Be(),programId:Be()}),Ne({accounts:Oe(Be()),data:Be(),programId:Be()})]),h2=Rc(_8,S8,n=>"accounts"in n?Ce(n,f2):Ce(n,u2)),d2=Ne({signatures:Oe(Be()),message:Ne({accountKeys:Oe(l2),instructions:Oe(h2),recentBlockhash:Be(),addressTableLookups:Fe(je(Oe(o2)))})}),Nf=Ne({accountIndex:ge(),mint:Be(),owner:Fe(Be()),programId:Fe(Be()),uiTokenAmount:xm}),m2=Ne({writable:Oe(an),readonly:Oe(an)}),Gf=Ne({err:Na,fee:ge(),innerInstructions:Fe(je(Oe(Ne({index:ge(),instructions:Oe(Ne({accounts:Oe(ge()),data:Be(),programIdIndex:ge()}))})))),preBalances:Oe(ge()),postBalances:Oe(ge()),logMessages:Fe(je(Oe(Be()))),preTokenBalances:Fe(je(Oe(Nf))),postTokenBalances:Fe(je(Oe(Nf))),loadedAddresses:Fe(m2),computeUnitsConsumed:Fe(ge()),costUnits:Fe(ge())}),ep=Ne({err:Na,fee:ge(),innerInstructions:Fe(je(Oe(Ne({index:ge(),instructions:Oe(h2)})))),preBalances:Oe(ge()),postBalances:Oe(ge()),logMessages:Fe(je(Oe(Be()))),preTokenBalances:Fe(je(Oe(Nf))),postTokenBalances:Fe(je(Oe(Nf))),loadedAddresses:Fe(m2),computeUnitsConsumed:Fe(ge()),costUnits:Fe(ge())}),tl=nr([rn(0),rn("legacy")]),Ba=Ne({pubkey:Be(),lamports:ge(),postBalance:je(ge()),rewardType:je(Be()),commission:Fe(je(ge()))}),E8=ft(je(Ne({blockhash:Be(),previousBlockhash:Be(),parentSlot:ge(),transactions:Oe(Ne({transaction:Qm,meta:je(Gf),version:Fe(tl)})),rewards:Fe(Oe(Ba)),blockTime:je(ge()),blockHeight:je(ge())}))),A8=ft(je(Ne({blockhash:Be(),previousBlockhash:Be(),parentSlot:ge(),rewards:Fe(Oe(Ba)),blockTime:je(ge()),blockHeight:je(ge())}))),R8=ft(je(Ne({blockhash:Be(),previousBlockhash:Be(),parentSlot:ge(),transactions:Oe(Ne({transaction:c2,meta:je(Gf),version:Fe(tl)})),rewards:Fe(Oe(Ba)),blockTime:je(ge()),blockHeight:je(ge())}))),k8=ft(je(Ne({blockhash:Be(),previousBlockhash:Be(),parentSlot:ge(),transactions:Oe(Ne({transaction:d2,meta:je(ep),version:Fe(tl)})),rewards:Fe(Oe(Ba)),blockTime:je(ge()),blockHeight:je(ge())}))),T8=ft(je(Ne({blockhash:Be(),previousBlockhash:Be(),parentSlot:ge(),transactions:Oe(Ne({transaction:c2,meta:je(ep),version:Fe(tl)})),rewards:Fe(Oe(Ba)),blockTime:je(ge()),blockHeight:je(ge())}))),N8=ft(je(Ne({blockhash:Be(),previousBlockhash:Be(),parentSlot:ge(),rewards:Fe(Oe(Ba)),blockTime:je(ge()),blockHeight:je(ge())}))),B8=ft(je(Ne({blockhash:Be(),previousBlockhash:Be(),parentSlot:ge(),transactions:Oe(Ne({transaction:Qm,meta:je(Gf)})),rewards:Fe(Oe(Ba)),blockTime:je(ge())}))),kv=ft(je(Ne({blockhash:Be(),previousBlockhash:Be(),parentSlot:ge(),signatures:Oe(Be()),blockTime:je(ge())}))),H0=ft(je(Ne({slot:ge(),meta:je(Gf),blockTime:Fe(je(ge())),transaction:Qm,version:Fe(tl)}))),ef=ft(je(Ne({slot:ge(),transaction:d2,meta:je(ep),blockTime:Fe(je(ge())),version:Fe(tl)}))),C8=bn(Ne({blockhash:Be(),lastValidBlockHeight:ge()})),O8=bn(yi()),j8=Ne({slot:ge(),numTransactions:ge(),numSlots:ge(),samplePeriodSecs:ge()}),M8=ft(Oe(j8)),U8=bn(je(Ne({feeCalculator:Ne({lamportsPerSignature:ge()})}))),L8=ft(Be()),I8=ft(Be()),D8=Ne({err:Na,logs:Oe(Be()),signature:Be()}),z8=Ne({result:Ff(D8),subscription:ge()}),q8={"solana-client":"js/1.0.0-maintenance"};class $8{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const m={};return async g=>{const{commitment:S,config:k}=Yt(g),j=this._buildArgs([],S,void 0,k),z=xv(j);return m[z]=m[z]??(async()=>{try{const $=await this._rpcRequest("getBlockHeight",j),H=Ce($,ft(ge()));if("error"in H)throw new qe(H.error,"failed to get block height information");return H.result}finally{delete m[z]}})(),await m[z]}})();let s,a,l,u,h,f;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,s=r.wsEndpoint,a=r.httpHeaders,l=r.fetch,u=r.fetchMiddleware,h=r.disableRetryOnRateLimit,f=r.httpAgent),this._rpcEndpoint=AN(e),this._rpcWsEndpoint=s||SN(e),this._rpcClient=qN(e,a,l,u,h,f),this._rpcRequest=$N(this._rpcClient),this._rpcBatchRequest=HN(this._rpcClient),this._rpcWebSocket=new vN(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:s,config:a}=Yt(r),l=this._buildArgs([e.toBase58()],s,void 0,a),u=await this._rpcRequest("getBalance",l),h=Ce(u,bn(ge()));if("error"in h)throw new qe(h.error,`failed to get balance for ${e.toBase58()}`);return h.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(s=>s.value).catch(s=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+s)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),s=Ce(r,ft(je(ge())));if("error"in s)throw new qe(s.error,`failed to get block time for slot ${e}`);return s.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=Ce(e,ft(ge()));if("error"in r)throw new qe(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=Ce(e,WN);if("error"in r)throw new qe(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const s=await this._rpcRequest("getSupply",[r]),a=Ce(s,ZN);if("error"in a)throw new qe(a.error,"failed to get supply");return a.result}async getTokenSupply(e,r){const s=this._buildArgs([e.toBase58()],r),a=await this._rpcRequest("getTokenSupply",s),l=Ce(a,bn(xm));if("error"in l)throw new qe(l.error,"failed to get token supply");return l.result}async getTokenAccountBalance(e,r){const s=this._buildArgs([e.toBase58()],r),a=await this._rpcRequest("getTokenAccountBalance",s),l=Ce(a,bn(xm));if("error"in l)throw new qe(l.error,"failed to get token account balance");return l.result}async getTokenAccountsByOwner(e,r,s){const{commitment:a,config:l}=Yt(s);let u=[e.toBase58()];"mint"in r?u.push({mint:r.mint.toBase58()}):u.push({programId:r.programId.toBase58()});const h=this._buildArgs(u,a,"base64",l),f=await this._rpcRequest("getTokenAccountsByOwner",h),m=Ce(f,JN);if("error"in m)throw new qe(m.error,`failed to get token accounts owned by account ${e.toBase58()}`);return m.result}async getParsedTokenAccountsByOwner(e,r,s){let a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});const l=this._buildArgs(a,s,"jsonParsed"),u=await this._rpcRequest("getTokenAccountsByOwner",l),h=Ce(u,QN);if("error"in h)throw new qe(h.error,`failed to get token accounts owned by account ${e.toBase58()}`);return h.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},s=r.filter||r.commitment?[r]:[],a=await this._rpcRequest("getLargestAccounts",s),l=Ce(a,e8);if("error"in l)throw new qe(l.error,"failed to get largest accounts");return l.result}async getTokenLargestAccounts(e,r){const s=this._buildArgs([e.toBase58()],r),a=await this._rpcRequest("getTokenLargestAccounts",s),l=Ce(a,XN);if("error"in l)throw new qe(l.error,"failed to get token largest accounts");return l.result}async getAccountInfoAndContext(e,r){const{commitment:s,config:a}=Yt(r),l=this._buildArgs([e.toBase58()],s,"base64",a),u=await this._rpcRequest("getAccountInfo",l),h=Ce(u,bn(je(dc)));if("error"in h)throw new qe(h.error,`failed to get info about account ${e.toBase58()}`);return h.result}async getParsedAccountInfo(e,r){const{commitment:s,config:a}=Yt(r),l=this._buildArgs([e.toBase58()],s,"jsonParsed",a),u=await this._rpcRequest("getAccountInfo",l),h=Ce(u,bn(je(Sm)));if("error"in h)throw new qe(h.error,`failed to get info about account ${e.toBase58()}`);return h.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(s){throw new Error("failed to get info about account "+e.toBase58()+": "+s)}}async getMultipleParsedAccounts(e,r){const{commitment:s,config:a}=Yt(r),l=e.map(m=>m.toBase58()),u=this._buildArgs([l],s,"jsonParsed",a),h=await this._rpcRequest("getMultipleAccounts",u),f=Ce(h,bn(Oe(je(Sm))));if("error"in f)throw new qe(f.error,`failed to get info for accounts ${l}`);return f.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:s,config:a}=Yt(r),l=e.map(m=>m.toBase58()),u=this._buildArgs([l],s,"base64",a),h=await this._rpcRequest("getMultipleAccounts",u),f=Ce(h,bn(Oe(je(dc))));if("error"in f)throw new qe(f.error,`failed to get info for accounts ${l}`);return f.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,s){const{commitment:a,config:l}=Yt(r),u=this._buildArgs([e.toBase58()],a,void 0,{...l,epoch:s??l?.epoch}),h=await this._rpcRequest("getStakeActivation",u),f=Ce(h,ft(i8));if("error"in f)throw new qe(f.error,`failed to get Stake Activation ${e.toBase58()}`);return f.result}async getProgramAccounts(e,r){const{commitment:s,config:a}=Yt(r),{encoding:l,...u}=a||{},h=this._buildArgs([e.toBase58()],s,l||"base64",{...u,...u.filters?{filters:Ev(u.filters)}:null}),f=await this._rpcRequest("getProgramAccounts",h),m=Oe(t8),g=u.withContext===!0?Ce(f,bn(m)):Ce(f,ft(m));if("error"in g)throw new qe(g.error,`failed to get accounts owned by program ${e.toBase58()}`);return g.result}async getParsedProgramAccounts(e,r){const{commitment:s,config:a}=Yt(r),l=this._buildArgs([e.toBase58()],s,"jsonParsed",a),u=await this._rpcRequest("getProgramAccounts",l),h=Ce(u,ft(Oe(r8)));if("error"in h)throw new qe(h.error,`failed to get accounts owned by program ${e.toBase58()}`);return h.result}async confirmTransaction(e,r){let s;if(typeof e=="string")s=e;else{const l=e;if(l.abortSignal?.aborted)return Promise.reject(l.abortSignal.reason);s=l.signature}let a;try{a=Vn.decode(s)}catch{throw new Error("signature must be base58 encoded: "+s)}return An(a.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:s}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,s)=>{e!=null&&(e.aborted?s(e.reason):e.addEventListener("abort",()=>{s(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let s,a,l=!1;const u=new Promise((f,m)=>{try{s=this.onSignature(r,(S,k)=>{s=void 0;const j={context:k,value:S};f({__type:Us.PROCESSED,response:j})},e);const g=new Promise(S=>{s==null?S():a=this._onSubscriptionStateChange(s,k=>{k==="subscribed"&&S()})});(async()=>{if(await g,l)return;const S=await this.getSignatureStatus(r);if(l||S==null)return;const{context:k,value:j}=S;if(j!=null)if(j?.err)m(j.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(j.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(j.confirmationStatus==="processed"||j.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}l=!0,f({__type:Us.PROCESSED,response:{context:k,value:j}})}})()}catch(g){m(g)}});return{abortConfirmation:()=>{a&&(a(),a=void 0),s!=null&&(this.removeSignatureListener(s),s=void 0)},confirmationPromise:u}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:s,signature:a}}){let l=!1;const u=new Promise(S=>{const k=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let j=await k();if(!l){for(;j<=s;)if(await Oo(1e3),l||(j=await k(),l))return;S({__type:Us.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:h,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),m=this.getCancellationPromise(r);let g;try{const S=await Promise.race([m,f,u]);if(S.__type===Us.PROCESSED)g=S.response;else throw new t2(a)}finally{l=!0,h()}return g}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:s,nonceAccountPubkey:a,nonceValue:l,signature:u}}){let h=!1;const f=new Promise(j=>{let z=l,$=null;const H=async()=>{try{const{context:X,value:P}=await this.getNonceAndContext(a,{commitment:e,minContextSlot:s});return $=X.slot,P?.nonce}catch{return z}};(async()=>{if(z=await H(),!h)for(;;){if(l!==z){j({__type:Us.NONCE_INVALID,slotInWhichNonceDidAdvance:$});return}if(await Oo(2e3),h||(z=await H(),h))return}})()}),{abortConfirmation:m,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:e,signature:u}),S=this.getCancellationPromise(r);let k;try{const j=await Promise.race([S,g,f]);if(j.__type===Us.PROCESSED)k=j.response;else{let z;for(;;){const $=await this.getSignatureStatus(u);if($==null)break;if($.context.slot<(j.slotInWhichNonceDidAdvance??s)){await Oo(400);continue}z=$;break}if(z?.value){const $=e||"finalized",{confirmationStatus:H}=z.value;switch($){case"processed":case"recent":if(H!=="processed"&&H!=="confirmed"&&H!=="finalized")throw new ec(u);break;case"confirmed":case"single":case"singleGossip":if(H!=="confirmed"&&H!=="finalized")throw new ec(u);break;case"finalized":case"max":case"root":if(H!=="finalized")throw new ec(u);break;default:}k={context:z.context,value:{err:z.value.err}}}else throw new ec(u)}}finally{h=!0,m()}return k}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let s;const a=new Promise(f=>{let m=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{m=this._confirmTransactionInitialTimeout||3e4;break}}s=setTimeout(()=>f({__type:Us.TIMED_OUT,timeoutMs:m}),m)}),{abortConfirmation:l,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let h;try{const f=await Promise.race([u,a]);if(f.__type===Us.PROCESSED)h=f.response;else throw new n2(r,f.timeoutMs/1e3)}finally{clearTimeout(s),l()}return h}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=Ce(e,ft(Oe(g8)));if("error"in r)throw new qe(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),s=await this._rpcRequest("getVoteAccounts",r),a=Ce(s,y8);if("error"in a)throw new qe(a.error,"failed to get vote accounts");return a.result}async getSlot(e){const{commitment:r,config:s}=Yt(e),a=this._buildArgs([],r,void 0,s),l=await this._rpcRequest("getSlot",a),u=Ce(l,ft(ge()));if("error"in u)throw new qe(u.error,"failed to get slot");return u.result}async getSlotLeader(e){const{commitment:r,config:s}=Yt(e),a=this._buildArgs([],r,void 0,s),l=await this._rpcRequest("getSlotLeader",a),u=Ce(l,ft(Be()));if("error"in u)throw new qe(u.error,"failed to get slot leader");return u.result}async getSlotLeaders(e,r){const s=[e,r],a=await this._rpcRequest("getSlotLeaders",s),l=Ce(a,ft(Oe(an)));if("error"in l)throw new qe(l.error,"failed to get slot leaders");return l.result}async getSignatureStatus(e,r){const{context:s,value:a}=await this.getSignatureStatuses([e],r);An(a.length===1);const l=a[0];return{context:s,value:l}}async getSignatureStatuses(e,r){const s=[e];r&&s.push(r);const a=await this._rpcRequest("getSignatureStatuses",s),l=Ce(a,w8);if("error"in l)throw new qe(l.error,"failed to get signature status");return l.result}async getTransactionCount(e){const{commitment:r,config:s}=Yt(e),a=this._buildArgs([],r,void 0,s),l=await this._rpcRequest("getTransactionCount",a),u=Ce(l,ft(ge()));if("error"in u)throw new qe(u.error,"failed to get transaction count");return u.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),s=await this._rpcRequest("getInflationGovernor",r),a=Ce(s,PN);if("error"in a)throw new qe(a.error,"failed to get inflation");return a.result}async getInflationReward(e,r,s){const{commitment:a,config:l}=Yt(s),u=this._buildArgs([e.map(m=>m.toBase58())],a,void 0,{...l,epoch:r??l?.epoch}),h=await this._rpcRequest("getInflationReward",u),f=Ce(h,TN);if("error"in f)throw new qe(f.error,"failed to get inflation reward");return f.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=Ce(e,FN);if("error"in r)throw new qe(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:s}=Yt(e),a=this._buildArgs([],r,void 0,s),l=await this._rpcRequest("getEpochInfo",a),u=Ce(l,VN);if("error"in u)throw new qe(u.error,"failed to get epoch info");return u.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=Ce(e,KN);if("error"in r)throw new qe(r.error,"failed to get epoch schedule");const s=r.result;return new yN(s.slotsPerEpoch,s.leaderScheduleSlotOffset,s.warmup,s.firstNormalEpoch,s.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=Ce(e,YN);if("error"in r)throw new qe(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const s=this._buildArgs([e],r),a=await this._rpcRequest("getMinimumBalanceForRentExemption",s),l=Ce(a,x8);return"error"in l?(console.warn("Unable to fetch minimum balance for rent exemption"),0):l.result}async getRecentBlockhashAndContext(e){const{context:r,value:{blockhash:s}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:s,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),s=Ce(r,M8);if("error"in s)throw new qe(s.error,"failed to get recent performance samples");return s.result}async getFeeCalculatorForBlockhash(e,r){const s=this._buildArgs([e],r),a=await this._rpcRequest("getFeeCalculatorForBlockhash",s),l=Ce(a,U8);if("error"in l)throw new qe(l.error,"failed to get fee calculator");const{context:u,value:h}=l.result;return{context:u,value:h!==null?h.feeCalculator:null}}async getFeeForMessage(e,r){const s=Vo(e.serialize()).toString("base64"),a=this._buildArgs([s],r),l=await this._rpcRequest("getFeeForMessage",a),u=Ce(l,bn(je(ge())));if("error"in u)throw new qe(u.error,"failed to get fee for message");if(u.result===null)throw new Error("invalid blockhash");return u.result}async getRecentPrioritizationFees(e){const r=e?.lockedWritableAccounts?.map(u=>u.toBase58()),s=r?.length?[r]:[],a=await this._rpcRequest("getRecentPrioritizationFees",s),l=Ce(a,GN);if("error"in l)throw new qe(l.error,"failed to get recent prioritization fees");return l.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:s}=Yt(e),a=this._buildArgs([],r,void 0,s),l=await this._rpcRequest("getLatestBlockhash",a),u=Ce(l,C8);if("error"in u)throw new qe(u.error,"failed to get latest blockhash");return u.result}async isBlockhashValid(e,r){const{commitment:s,config:a}=Yt(r),l=this._buildArgs([e],s,void 0,a),u=await this._rpcRequest("isBlockhashValid",l),h=Ce(u,O8);if("error"in h)throw new qe(h.error,"failed to determine if the blockhash `"+e+"`is valid");return h.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=Ce(e,ft(LN));if("error"in r)throw new qe(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=Ce(e,ft(Be()));if("error"in r)throw new qe(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:s,config:a}=Yt(r),l=this._buildArgsAtLeastConfirmed([e],s,void 0,a),u=await this._rpcRequest("getBlock",l);try{switch(a?.transactionDetails){case"accounts":{const h=Ce(u,R8);if("error"in h)throw h.error;return h.result}case"none":{const h=Ce(u,A8);if("error"in h)throw h.error;return h.result}default:{const h=Ce(u,E8);if("error"in h)throw h.error;const{result:f}=h;return f?{...f,transactions:f.transactions.map(({transaction:m,meta:g,version:S})=>({meta:g,transaction:{...m,message:$0(S,m.message)},version:S}))}:null}}}catch(h){throw new qe(h,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:s,config:a}=Yt(r),l=this._buildArgsAtLeastConfirmed([e],s,"jsonParsed",a),u=await this._rpcRequest("getBlock",l);try{switch(a?.transactionDetails){case"accounts":{const h=Ce(u,T8);if("error"in h)throw h.error;return h.result}case"none":{const h=Ce(u,N8);if("error"in h)throw h.error;return h.result}default:{const h=Ce(u,k8);if("error"in h)throw h.error;return h.result}}}catch(h){throw new qe(h,"failed to get block")}}async getBlockProduction(e){let r,s;if(typeof e=="string")s=e;else if(e){const{commitment:h,...f}=e;s=h,r=f}const a=this._buildArgs([],s,"base64",r),l=await this._rpcRequest("getBlockProduction",a),u=Ce(l,zN);if("error"in u)throw new qe(u.error,"failed to get block production information");return u.result}async getTransaction(e,r){const{commitment:s,config:a}=Yt(r),l=this._buildArgsAtLeastConfirmed([e],s,void 0,a),u=await this._rpcRequest("getTransaction",l),h=Ce(u,H0);if("error"in h)throw new qe(h.error,"failed to get transaction");const f=h.result;return f&&{...f,transaction:{...f.transaction,message:$0(f.version,f.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:s,config:a}=Yt(r),l=this._buildArgsAtLeastConfirmed([e],s,"jsonParsed",a),u=await this._rpcRequest("getTransaction",l),h=Ce(u,ef);if("error"in h)throw new qe(h.error,"failed to get transaction");return h.result}async getParsedTransactions(e,r){const{commitment:s,config:a}=Yt(r),l=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],s,"jsonParsed",a)}));return(await this._rpcBatchRequest(l)).map(f=>{const m=Ce(f,ef);if("error"in m)throw new qe(m.error,"failed to get transactions");return m.result})}async getTransactions(e,r){const{commitment:s,config:a}=Yt(r),l=e.map(f=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([f],s,void 0,a)}));return(await this._rpcBatchRequest(l)).map(f=>{const m=Ce(f,H0);if("error"in m)throw new qe(m.error,"failed to get transactions");const g=m.result;return g&&{...g,transaction:{...g.transaction,message:$0(g.version,g.transaction.message)}}})}async getConfirmedBlock(e,r){const s=this._buildArgsAtLeastConfirmed([e],r),a=await this._rpcRequest("getBlock",s),l=Ce(a,B8);if("error"in l)throw new qe(l.error,"failed to get confirmed block");const u=l.result;if(!u)throw new Error("Confirmed block "+e+" not found");const h={...u,transactions:u.transactions.map(({transaction:f,meta:m})=>{const g=new Gs(f.message);return{meta:m,transaction:{...f,message:g}}})};return{...h,transactions:h.transactions.map(({transaction:f,meta:m})=>({meta:m,transaction:$s.populate(f.message,f.signatures)}))}}async getBlocks(e,r,s){const a=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],s),l=await this._rpcRequest("getBlocks",a),u=Ce(l,ft(Oe(ge())));if("error"in u)throw new qe(u.error,"failed to get blocks");return u.result}async getBlockSignatures(e,r){const s=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),a=await this._rpcRequest("getBlock",s),l=Ce(a,kv);if("error"in l)throw new qe(l.error,"failed to get block");const u=l.result;if(!u)throw new Error("Block "+e+" not found");return u}async getConfirmedBlockSignatures(e,r){const s=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),a=await this._rpcRequest("getBlock",s),l=Ce(a,kv);if("error"in l)throw new qe(l.error,"failed to get confirmed block");const u=l.result;if(!u)throw new Error("Confirmed block "+e+" not found");return u}async getConfirmedTransaction(e,r){const s=this._buildArgsAtLeastConfirmed([e],r),a=await this._rpcRequest("getTransaction",s),l=Ce(a,H0);if("error"in l)throw new qe(l.error,"failed to get transaction");const u=l.result;if(!u)return u;const h=new Gs(u.transaction.message),f=u.transaction.signatures;return{...u,transaction:$s.populate(h,f)}}async getParsedConfirmedTransaction(e,r){const s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),a=await this._rpcRequest("getTransaction",s),l=Ce(a,ef);if("error"in l)throw new qe(l.error,"failed to get confirmed transaction");return l.result}async getParsedConfirmedTransactions(e,r){const s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,"jsonParsed")}));return(await this._rpcBatchRequest(s)).map(u=>{const h=Ce(u,ef);if("error"in h)throw new qe(h.error,"failed to get confirmed transactions");return h.result})}async getConfirmedSignaturesForAddress(e,r,s){let a={},l=await this.getFirstAvailableBlock();for(;!("until"in a)&&(r--,!(r<=0||r<l));)try{const f=await this.getConfirmedBlockSignatures(r,"finalized");f.signatures.length>0&&(a.until=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}let u=await this.getSlot("finalized");for(;!("before"in a)&&(s++,!(s>u));)try{const f=await this.getConfirmedBlockSignatures(s);f.signatures.length>0&&(a.before=f.signatures[f.signatures.length-1].toString())}catch(f){if(f instanceof Error&&f.message.includes("skipped"))continue;throw f}return(await this.getConfirmedSignaturesForAddress2(e,a)).map(f=>f.signature)}async getConfirmedSignaturesForAddress2(e,r,s){const a=this._buildArgsAtLeastConfirmed([e.toBase58()],s,void 0,r),l=await this._rpcRequest("getConfirmedSignaturesForAddress2",a),u=Ce(l,s8);if("error"in u)throw new qe(u.error,"failed to get confirmed signatures for address");return u.result}async getSignaturesForAddress(e,r,s){const a=this._buildArgsAtLeastConfirmed([e.toBase58()],s,void 0,r),l=await this._rpcRequest("getSignaturesForAddress",a),u=Ce(l,a8);if("error"in u)throw new qe(u.error,"failed to get signatures for address");return u.result}async getAddressLookupTable(e,r){const{context:s,value:a}=await this.getAccountInfoAndContext(e,r);let l=null;return a!==null&&(l=new Sv({key:e,state:Sv.deserialize(a.data)})),{context:s,value:l}}async getNonceAndContext(e,r){const{context:s,value:a}=await this.getAccountInfoAndContext(e,r);let l=null;return a!==null&&(l=Xm.fromAccountData(a.data)),{context:s,value:l}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(s=>s.value).catch(s=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+s)})}async requestAirdrop(e,r){const s=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),a=Ce(s,L8);if("error"in a)throw new qe(a.error,`airdrop to ${e.toBase58()} failed`);return a.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Oo(100);const s=Date.now()-this._blockhashInfo.lastFetch>=EN;if(this._blockhashInfo.latestBlockhash!==null&&!s)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,s=r?r.blockhash:null;for(let a=0;a<50;a++){const l=await this.getLatestBlockhash("finalized");if(s!==l.blockhash)return this._blockhashInfo={latestBlockhash:l,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},l;await Oo(fN/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:s}=Yt(e),a=this._buildArgs([],r,"base64",s),l=await this._rpcRequest("getStakeMinimumDelegation",a),u=Ce(l,bn(ge()));if("error"in u)throw new qe(u.error,"failed to get stake minimum delegation");return u.result}async simulateTransaction(e,r,s){if("message"in e){const $=e.serialize(),H=dt.from($).toString("base64");if(Array.isArray(r)||s!==void 0)throw new Error("Invalid arguments");const X=r||{};X.encoding="base64","commitment"in X||(X.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(X.innerInstructions=r.innerInstructions);const P=[H,X],F=await this._rpcRequest("simulateTransaction",P),ne=Ce(F,Av);if("error"in ne)throw new Error("failed to simulate transaction: "+ne.error.message);return ne.result}let a;if(e instanceof $s){let z=e;a=new $s,a.feePayer=z.feePayer,a.instructions=e.instructions,a.nonceInfo=z.nonceInfo,a.signatures=z.signatures}else a=$s.populate(e),a._message=a._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const l=r;if(a.nonceInfo&&l)a.sign(...l);else{let z=this._disableBlockhashCaching;for(;;){const $=await this._blockhashWithExpiryBlockHeight(z);if(a.lastValidBlockHeight=$.lastValidBlockHeight,a.recentBlockhash=$.blockhash,!l)break;if(a.sign(...l),!a.signature)throw new Error("!signature");const H=a.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(H)&&!this._blockhashInfo.transactionSignatures.includes(H)){this._blockhashInfo.simulatedSignatures.push(H);break}else z=!0}}const u=a._compile(),h=u.serialize(),m=a._serialize(h).toString("base64"),g={encoding:"base64",commitment:this.commitment};if(s){const z=(Array.isArray(s)?s:u.nonProgramIds()).map($=>$.toBase58());g.accounts={encoding:"base64",addresses:z}}l&&(g.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(g.innerInstructions=r.innerInstructions);const S=[m,g],k=await this._rpcRequest("simulateTransaction",S),j=Ce(k,Av);if("error"in j){let z;if("data"in j.error&&(z=j.error.data.logs,z&&Array.isArray(z))){const $=`
    `,H=$+z.join($);console.error(j.error.message,H)}throw new vv({action:"simulate",signature:"",transactionMessage:j.error.message,logs:z})}return j.result}async sendTransaction(e,r,s){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const u=e.serialize();return await this.sendRawTransaction(u,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const a=r;if(e.nonceInfo)e.sign(...a);else{let u=this._disableBlockhashCaching;for(;;){const h=await this._blockhashWithExpiryBlockHeight(u);if(e.lastValidBlockHeight=h.lastValidBlockHeight,e.recentBlockhash=h.blockhash,e.sign(...a),!e.signature)throw new Error("!signature");const f=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(f))u=!0;else{this._blockhashInfo.transactionSignatures.push(f);break}}}const l=e.serialize();return await this.sendRawTransaction(l,s)}async sendRawTransaction(e,r){const s=Vo(e).toString("base64");return await this.sendEncodedTransaction(s,r)}async sendEncodedTransaction(e,r){const s={encoding:"base64"},a=r&&r.skipPreflight,l=a===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(s.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(s.minContextSlot=r.minContextSlot),a&&(s.skipPreflight=a),l&&(s.preflightCommitment=l);const u=[e,s],h=await this._rpcRequest("sendTransaction",u),f=Ce(h,I8);if("error"in f){let m;throw"data"in f.error&&(m=f.error.data.logs),new vv({action:a?"send":"simulate",signature:"",transactionMessage:f.error.message,logs:m})}return f.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,s])=>{this._setSubscription(r,{...s,state:"pending"})})}_setSubscription(e,r){const s=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,s!==r.state){const a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach(l=>{try{l(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){const s=this._subscriptionHashByClientSubscriptionId[e];if(s==null)return()=>{};const a=this._subscriptionStateChangeCallbacksByHash[s]||=new Set;return a.add(r),()=>{a.delete(r),a.size===0&&delete this._subscriptionStateChangeCallbacksByHash[s]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(s){s instanceof Error&&console.log(`Error when closing socket connection: ${s.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async s=>{const a=this._subscriptionsByHash[s];if(a!==void 0)switch(a.state){case"pending":case"unsubscribed":if(a.callbacks.size===0){delete this._subscriptionsByHash[s],a.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[a.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:l,method:u}=a;try{this._setSubscription(s,{...a,state:"subscribing"});const h=await this._rpcWebSocket.call(u,l);this._setSubscription(s,{...a,serverSubscriptionId:h,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[h]=a.callbacks,await this._updateSubscriptions()}catch(h){if(console.error(`Received ${h instanceof Error?"":"JSON-RPC "}error calling \`${u}\``,{args:l,error:h}),!r())return;this._setSubscription(s,{...a,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":a.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:l,unsubscribeMethod:u}=a;if(this._subscriptionsAutoDisposedByRpc.has(l))this._subscriptionsAutoDisposedByRpc.delete(l);else{this._setSubscription(s,{...a,state:"unsubscribing"}),this._setSubscription(s,{...a,state:"unsubscribing"});try{await this._rpcWebSocket.call(u,[l])}catch(h){if(h instanceof Error&&console.error(`${u} error:`,h.message),!r())return;this._setSubscription(s,{...a,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(s,{...a,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const s=this._subscriptionCallbacksByServerSubscriptionId[e];s!==void 0&&s.forEach(a=>{try{a(...r)}catch(l){console.error(l)}})}_wsOnAccountNotification(e){const{result:r,subscription:s}=Ce(e,o8);this._handleServerNotification(s,[r.value,r.context])}_makeSubscription(e,r){const s=this._nextClientSubscriptionId++,a=xv([e.method,r]),l=this._subscriptionsByHash[a];return l===void 0?this._subscriptionsByHash[a]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:l.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[s]=a,this._subscriptionDisposeFunctionsByClientSubscriptionId[s]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[s],delete this._subscriptionHashByClientSubscriptionId[s];const u=this._subscriptionsByHash[a];An(u!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${s}`),u.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),s}onAccountChange(e,r,s){const{commitment:a,config:l}=Yt(s),u=this._buildArgs([e.toBase58()],a||this._commitment||"finalized","base64",l);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},u)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:s}=Ce(e,c8);this._handleServerNotification(s,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,s,a){const{commitment:l,config:u}=Yt(s),h=this._buildArgs([e.toBase58()],l||this._commitment||"finalized","base64",u||(a?{filters:Ev(a)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},h)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,s){const a=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],s||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},a)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:s}=Ce(e,z8);this._handleServerNotification(s,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:s}=Ce(e,f8);this._handleServerNotification(s,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:s}=Ce(e,d8);this._handleServerNotification(s,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const s=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];s?await s():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,s,a){const l=r||this._commitment;if(l||s||a){let u={};s&&(u.encoding=s),l&&(u.commitment=l),a&&(u=Object.assign(u,a)),e.push(u)}return e}_buildArgsAtLeastConfirmed(e,r,s,a){const l=r||this._commitment;if(l&&!["confirmed","finalized"].includes(l))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,s,a)}_wsOnSignatureNotification(e){const{result:r,subscription:s}=Ce(e,m8);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(s),this._handleServerNotification(s,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,s){const a=this._buildArgs([e],s||this._commitment||"finalized"),l=this._makeSubscription({callback:(u,h)=>{if(u.type==="status"){r(u.result,h);try{this.removeSignatureListener(l)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return l}onSignatureWithOptions(e,r,s){const{commitment:a,...l}={...s,commitment:s&&s.commitment||this._commitment||"finalized"},u=this._buildArgs([e],a,void 0,l),h=this._makeSubscription({callback:(f,m)=>{r(f,m);try{this.removeSignatureListener(h)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return h}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:s}=Ce(e,p8);this._handleServerNotification(s,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class rc{constructor(e){this._keypair=void 0,this._keypair=e??pv()}static generate(){return new rc(pv())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const s=e.slice(32,64);if(!r||!r.skipValidation){const a=e.slice(0,32),l=wm(a);for(let u=0;u<32;u++)if(s[u]!==l[u])throw new Error("provided secretKey is invalid")}return new rc({publicKey:s,secretKey:e})}static fromSeed(e){const r=wm(e),s=new Uint8Array(64);return s.set(e),s.set(r,32),new rc({publicKey:r,secretKey:s})}get publicKey(){return new Ve(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:ie.struct([ie.u32("instruction"),Ko("recentSlot"),ie.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ie.struct([ie.u32("instruction")])},ExtendLookupTable:{index:2,layout:ie.struct([ie.u32("instruction"),Ko(),ie.seq(vt(),ie.offset(ie.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ie.struct([ie.u32("instruction")])},CloseLookupTable:{index:4,layout:ie.struct([ie.u32("instruction")])}});new Ve("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ie.struct([ie.u8("instruction"),ie.u32("units"),ie.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:ie.struct([ie.u8("instruction"),ie.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:ie.struct([ie.u8("instruction"),ie.u32("units")])},SetComputeUnitPrice:{index:3,layout:ie.struct([ie.u8("instruction"),Ko("microLamports")])}});new Ve("ComputeBudget111111111111111111111111111111");ie.struct([ie.u8("numSignatures"),ie.u8("padding"),ie.u16("signatureOffset"),ie.u16("signatureInstructionIndex"),ie.u16("publicKeyOffset"),ie.u16("publicKeyInstructionIndex"),ie.u16("messageDataOffset"),ie.u16("messageDataSize"),ie.u16("messageInstructionIndex")]);new Ve("Ed25519SigVerify111111111111111111111111111");XT.utils.isValidPrivateKey;ie.struct([ie.u8("numSignatures"),ie.u16("signatureOffset"),ie.u8("signatureInstructionIndex"),ie.u16("ethAddressOffset"),ie.u8("ethAddressInstructionIndex"),ie.u16("messageDataOffset"),ie.u16("messageDataSize"),ie.u8("messageInstructionIndex"),ie.blob(20,"ethAddress"),ie.blob(64,"signature"),ie.u8("recoveryId")]);new Ve("KeccakSecp256k11111111111111111111111111111");var p2;new Ve("StakeConfig11111111111111111111111111111111");class g2{constructor(e,r,s){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=s}}p2=g2;g2.default=new p2(0,0,Ve.default);Object.freeze({Initialize:{index:0,layout:ie.struct([ie.u32("instruction"),rN(),iN()])},Authorize:{index:1,layout:ie.struct([ie.u32("instruction"),vt("newAuthorized"),ie.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:ie.struct([ie.u32("instruction")])},Split:{index:3,layout:ie.struct([ie.u32("instruction"),ie.ns64("lamports")])},Withdraw:{index:4,layout:ie.struct([ie.u32("instruction"),ie.ns64("lamports")])},Deactivate:{index:5,layout:ie.struct([ie.u32("instruction")])},Merge:{index:7,layout:ie.struct([ie.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:ie.struct([ie.u32("instruction"),vt("newAuthorized"),ie.u32("stakeAuthorizationType"),Lo("authoritySeed"),vt("authorityOwner")])}});new Ve("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ie.struct([ie.u32("instruction"),sN()])},Authorize:{index:1,layout:ie.struct([ie.u32("instruction"),vt("newAuthorized"),ie.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:ie.struct([ie.u32("instruction"),ie.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:ie.struct([ie.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:ie.struct([ie.u32("instruction"),aN()])}});new Ve("Vote111111111111111111111111111111111111111");new Ve("Va1idator1nfo111111111111111111111111111111");Ne({name:Be(),website:Fe(Be()),details:Fe(Be()),iconUrl:Fe(Be()),keybaseUsername:Fe(Be())});new Ve("Vote111111111111111111111111111111111111111");ie.struct([vt("nodePubkey"),vt("authorizedWithdrawer"),ie.u8("commission"),ie.nu64(),ie.seq(ie.struct([ie.nu64("slot"),ie.u32("confirmationCount")]),ie.offset(ie.u32(),-8),"votes"),ie.u8("rootSlotValid"),ie.nu64("rootSlot"),ie.nu64(),ie.seq(ie.struct([ie.nu64("epoch"),vt("authorizedVoter")]),ie.offset(ie.u32(),-8),"authorizedVoters"),ie.struct([ie.seq(ie.struct([vt("authorizedPubkey"),ie.nu64("epochOfLastAuthorizedSwitch"),ie.nu64("targetEpoch")]),32,"buf"),ie.nu64("idx"),ie.u8("isEmpty")],"priorVoters"),ie.nu64(),ie.seq(ie.struct([ie.nu64("epoch"),ie.nu64("credits"),ie.nu64("prevCredits")]),ie.offset(ie.u32(),-8),"epochCredits"),ie.struct([ie.nu64("slot"),ie.nu64("timestamp")],"lastTimestamp")]);var H8=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,P0=Math.ceil,jr=Math.floor,cr="[BigNumber Error] ",Tv=cr+"Number primitive has more than 15 significant digits: ",Vr=1e14,at=14,F0=9007199254740991,G0=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ls=1e7,Mn=1e9;function y2(n){var e,r,s,a=P.prototype={constructor:P,toString:null,valueOf:null},l=new P(1),u=20,h=4,f=-7,m=21,g=-1e7,S=1e7,k=!1,j=1,z=0,$={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",X=!0;function P(D,M){var q,W,I,E,p,v,_,N,B=this;if(!(B instanceof P))return new P(D,M);if(M==null){if(D&&D._isBigNumber===!0){B.s=D.s,!D.c||D.e>S?B.c=B.e=null:D.e<g?B.c=[B.e=0]:(B.e=D.e,B.c=D.c.slice());return}if((v=typeof D=="number")&&D*0==0){if(B.s=1/D<0?(D=-D,-1):1,D===~~D){for(E=0,p=D;p>=10;p/=10,E++);E>S?B.c=B.e=null:(B.e=E,B.c=[D]);return}N=String(D)}else{if(!H8.test(N=String(D)))return s(B,N,v);B.s=N.charCodeAt(0)==45?(N=N.slice(1),-1):1}(E=N.indexOf("."))>-1&&(N=N.replace(".","")),(p=N.search(/e/i))>0?(E<0&&(E=p),E+=+N.slice(p+1),N=N.substring(0,p)):E<0&&(E=N.length)}else{if(nn(M,2,H.length,"Base"),M==10&&X)return B=new P(D),fe(B,u+B.e+1,h);if(N=String(D),v=typeof D=="number"){if(D*0!=0)return s(B,N,v,M);if(B.s=1/D<0?(N=N.slice(1),-1):1,P.DEBUG&&N.replace(/^0\.0*|\./,"").length>15)throw Error(Tv+D)}else B.s=N.charCodeAt(0)===45?(N=N.slice(1),-1):1;for(q=H.slice(0,M),E=p=0,_=N.length;p<_;p++)if(q.indexOf(W=N.charAt(p))<0){if(W=="."){if(p>E){E=_;continue}}else if(!I&&(N==N.toUpperCase()&&(N=N.toLowerCase())||N==N.toLowerCase()&&(N=N.toUpperCase()))){I=!0,p=-1,E=0;continue}return s(B,String(D),v,M)}v=!1,N=r(N,M,10,B.s),(E=N.indexOf("."))>-1?N=N.replace(".",""):E=N.length}for(p=0;N.charCodeAt(p)===48;p++);for(_=N.length;N.charCodeAt(--_)===48;);if(N=N.slice(p,++_)){if(_-=p,v&&P.DEBUG&&_>15&&(D>F0||D!==jr(D)))throw Error(Tv+B.s*D);if((E=E-p-1)>S)B.c=B.e=null;else if(E<g)B.c=[B.e=0];else{if(B.e=E,B.c=[],p=(E+1)%at,E<0&&(p+=at),p<_){for(p&&B.c.push(+N.slice(0,p)),_-=at;p<_;)B.c.push(+N.slice(p,p+=at));p=at-(N=N.slice(p)).length}else p-=_;for(;p--;N+="0");B.c.push(+N)}}else B.c=[B.e=0]}P.clone=y2,P.ROUND_UP=0,P.ROUND_DOWN=1,P.ROUND_CEIL=2,P.ROUND_FLOOR=3,P.ROUND_HALF_UP=4,P.ROUND_HALF_DOWN=5,P.ROUND_HALF_EVEN=6,P.ROUND_HALF_CEIL=7,P.ROUND_HALF_FLOOR=8,P.EUCLID=9,P.config=P.set=function(D){var M,q;if(D!=null)if(typeof D=="object"){if(D.hasOwnProperty(M="DECIMAL_PLACES")&&(q=D[M],nn(q,0,Mn,M),u=q),D.hasOwnProperty(M="ROUNDING_MODE")&&(q=D[M],nn(q,0,8,M),h=q),D.hasOwnProperty(M="EXPONENTIAL_AT")&&(q=D[M],q&&q.pop?(nn(q[0],-Mn,0,M),nn(q[1],0,Mn,M),f=q[0],m=q[1]):(nn(q,-Mn,Mn,M),f=-(m=q<0?-q:q))),D.hasOwnProperty(M="RANGE"))if(q=D[M],q&&q.pop)nn(q[0],-Mn,-1,M),nn(q[1],1,Mn,M),g=q[0],S=q[1];else if(nn(q,-Mn,Mn,M),q)g=-(S=q<0?-q:q);else throw Error(cr+M+" cannot be zero: "+q);if(D.hasOwnProperty(M="CRYPTO"))if(q=D[M],q===!!q)if(q)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))k=q;else throw k=!q,Error(cr+"crypto unavailable");else k=q;else throw Error(cr+M+" not true or false: "+q);if(D.hasOwnProperty(M="MODULO_MODE")&&(q=D[M],nn(q,0,9,M),j=q),D.hasOwnProperty(M="POW_PRECISION")&&(q=D[M],nn(q,0,Mn,M),z=q),D.hasOwnProperty(M="FORMAT"))if(q=D[M],typeof q=="object")$=q;else throw Error(cr+M+" not an object: "+q);if(D.hasOwnProperty(M="ALPHABET"))if(q=D[M],typeof q=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(q))X=q.slice(0,10)=="0123456789",H=q;else throw Error(cr+M+" invalid: "+q)}else throw Error(cr+"Object expected: "+D);return{DECIMAL_PLACES:u,ROUNDING_MODE:h,EXPONENTIAL_AT:[f,m],RANGE:[g,S],CRYPTO:k,MODULO_MODE:j,POW_PRECISION:z,FORMAT:$,ALPHABET:H}},P.isBigNumber=function(D){if(!D||D._isBigNumber!==!0)return!1;if(!P.DEBUG)return!0;var M,q,W=D.c,I=D.e,E=D.s;e:if({}.toString.call(W)=="[object Array]"){if((E===1||E===-1)&&I>=-Mn&&I<=Mn&&I===jr(I)){if(W[0]===0){if(I===0&&W.length===1)return!0;break e}if(M=(I+1)%at,M<1&&(M+=at),String(W[0]).length==M){for(M=0;M<W.length;M++)if(q=W[M],q<0||q>=Vr||q!==jr(q))break e;if(q!==0)return!0}}}else if(W===null&&I===null&&(E===null||E===1||E===-1))return!0;throw Error(cr+"Invalid BigNumber: "+D)},P.maximum=P.max=function(){return ne(arguments,-1)},P.minimum=P.min=function(){return ne(arguments,1)},P.random=(function(){var D=9007199254740992,M=Math.random()*D&2097151?function(){return jr(Math.random()*D)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(q){var W,I,E,p,v,_=0,N=[],B=new P(l);if(q==null?q=u:nn(q,0,Mn),p=P0(q/at),k)if(crypto.getRandomValues){for(W=crypto.getRandomValues(new Uint32Array(p*=2));_<p;)v=W[_]*131072+(W[_+1]>>>11),v>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),W[_]=I[0],W[_+1]=I[1]):(N.push(v%1e14),_+=2);_=p/2}else if(crypto.randomBytes){for(W=crypto.randomBytes(p*=7);_<p;)v=(W[_]&31)*281474976710656+W[_+1]*1099511627776+W[_+2]*4294967296+W[_+3]*16777216+(W[_+4]<<16)+(W[_+5]<<8)+W[_+6],v>=9e15?crypto.randomBytes(7).copy(W,_):(N.push(v%1e14),_+=7);_=p/7}else throw k=!1,Error(cr+"crypto unavailable");if(!k)for(;_<p;)v=M(),v<9e15&&(N[_++]=v%1e14);for(p=N[--_],q%=at,p&&q&&(v=G0[at-q],N[_]=jr(p/v)*v);N[_]===0;N.pop(),_--);if(_<0)N=[E=0];else{for(E=-1;N[0]===0;N.splice(0,1),E-=at);for(_=1,v=N[0];v>=10;v/=10,_++);_<at&&(E-=at-_)}return B.e=E,B.c=N,B}})(),P.sum=function(){for(var D=1,M=arguments,q=new P(M[0]);D<M.length;)q=q.plus(M[D++]);return q},r=(function(){var D="0123456789";function M(q,W,I,E){for(var p,v=[0],_,N=0,B=q.length;N<B;){for(_=v.length;_--;v[_]*=W);for(v[0]+=E.indexOf(q.charAt(N++)),p=0;p<v.length;p++)v[p]>I-1&&(v[p+1]==null&&(v[p+1]=0),v[p+1]+=v[p]/I|0,v[p]%=I)}return v.reverse()}return function(q,W,I,E,p){var v,_,N,B,G,J,T,b,x=q.indexOf("."),L=u,V=h;for(x>=0&&(B=z,z=0,q=q.replace(".",""),b=new P(W),J=b.pow(q.length-x),z=B,b.c=M(Fi(Or(J.c),J.e,"0"),10,I,D),b.e=b.c.length),T=M(q,W,I,p?(v=H,D):(v=D,H)),N=B=T.length;T[--B]==0;T.pop());if(!T[0])return v.charAt(0);if(x<0?--N:(J.c=T,J.e=N,J.s=E,J=e(J,b,L,V,I),T=J.c,G=J.r,N=J.e),_=N+L+1,x=T[_],B=I/2,G=G||_<0||T[_+1]!=null,G=V<4?(x!=null||G)&&(V==0||V==(J.s<0?3:2)):x>B||x==B&&(V==4||G||V==6&&T[_-1]&1||V==(J.s<0?8:7)),_<1||!T[0])q=G?Fi(v.charAt(1),-L,v.charAt(0)):v.charAt(0);else{if(T.length=_,G)for(--I;++T[--_]>I;)T[_]=0,_||(++N,T=[1].concat(T));for(B=T.length;!T[--B];);for(x=0,q="";x<=B;q+=v.charAt(T[x++]));q=Fi(q,N,v.charAt(0))}return q}})(),e=(function(){function D(W,I,E){var p,v,_,N,B=0,G=W.length,J=I%Ls,T=I/Ls|0;for(W=W.slice();G--;)_=W[G]%Ls,N=W[G]/Ls|0,p=T*_+N*J,v=J*_+p%Ls*Ls+B,B=(v/E|0)+(p/Ls|0)+T*N,W[G]=v%E;return B&&(W=[B].concat(W)),W}function M(W,I,E,p){var v,_;if(E!=p)_=E>p?1:-1;else for(v=_=0;v<E;v++)if(W[v]!=I[v]){_=W[v]>I[v]?1:-1;break}return _}function q(W,I,E,p){for(var v=0;E--;)W[E]-=v,v=W[E]<I[E]?1:0,W[E]=v*p+W[E]-I[E];for(;!W[0]&&W.length>1;W.splice(0,1));}return function(W,I,E,p,v){var _,N,B,G,J,T,b,x,L,V,te,ae,Te,ke,Je,$e,nt,Kt=W.s==I.s?1:-1,Qe=W.c,Ge=I.c;if(!Qe||!Qe[0]||!Ge||!Ge[0])return new P(!W.s||!I.s||(Qe?Ge&&Qe[0]==Ge[0]:!Ge)?NaN:Qe&&Qe[0]==0||!Ge?Kt*0:Kt/0);for(x=new P(Kt),L=x.c=[],N=W.e-I.e,Kt=E+N+1,v||(v=Vr,N=Mr(W.e/at)-Mr(I.e/at),Kt=Kt/at|0),B=0;Ge[B]==(Qe[B]||0);B++);if(Ge[B]>(Qe[B]||0)&&N--,Kt<0)L.push(1),G=!0;else{for(ke=Qe.length,$e=Ge.length,B=0,Kt+=2,J=jr(v/(Ge[0]+1)),J>1&&(Ge=D(Ge,J,v),Qe=D(Qe,J,v),$e=Ge.length,ke=Qe.length),Te=$e,V=Qe.slice(0,$e),te=V.length;te<$e;V[te++]=0);nt=Ge.slice(),nt=[0].concat(nt),Je=Ge[0],Ge[1]>=v/2&&Je++;do{if(J=0,_=M(Ge,V,$e,te),_<0){if(ae=V[0],$e!=te&&(ae=ae*v+(V[1]||0)),J=jr(ae/Je),J>1)for(J>=v&&(J=v-1),T=D(Ge,J,v),b=T.length,te=V.length;M(T,V,b,te)==1;)J--,q(T,$e<b?nt:Ge,b,v),b=T.length,_=1;else J==0&&(_=J=1),T=Ge.slice(),b=T.length;if(b<te&&(T=[0].concat(T)),q(V,T,te,v),te=V.length,_==-1)for(;M(Ge,V,$e,te)<1;)J++,q(V,$e<te?nt:Ge,te,v),te=V.length}else _===0&&(J++,V=[0]);L[B++]=J,V[0]?V[te++]=Qe[Te]||0:(V=[Qe[Te]],te=1)}while((Te++<ke||V[0]!=null)&&Kt--);G=V[0]!=null,L[0]||L.splice(0,1)}if(v==Vr){for(B=1,Kt=L[0];Kt>=10;Kt/=10,B++);fe(x,E+(x.e=B+N*at-1)+1,p,G)}else x.e=N,x.r=+G;return x}})();function F(D,M,q,W){var I,E,p,v,_;if(q==null?q=h:nn(q,0,8),!D.c)return D.toString();if(I=D.c[0],p=D.e,M==null)_=Or(D.c),_=W==1||W==2&&(p<=f||p>=m)?nf(_,p):Fi(_,p,"0");else if(D=fe(new P(D),M,q),E=D.e,_=Or(D.c),v=_.length,W==1||W==2&&(M<=E||E<=f)){for(;v<M;_+="0",v++);_=nf(_,E)}else if(M-=p+(W===2&&E>p),_=Fi(_,E,"0"),E+1>v){if(--M>0)for(_+=".";M--;_+="0");}else if(M+=E-v,M>0)for(E+1==v&&(_+=".");M--;_+="0");return D.s<0&&I?"-"+_:_}function ne(D,M){for(var q,W,I=1,E=new P(D[0]);I<D.length;I++)W=new P(D[I]),(!W.s||(q=da(E,W))===M||q===0&&E.s===M)&&(E=W);return E}function he(D,M,q){for(var W=1,I=M.length;!M[--I];M.pop());for(I=M[0];I>=10;I/=10,W++);return(q=W+q*at-1)>S?D.c=D.e=null:q<g?D.c=[D.e=0]:(D.e=q,D.c=M),D}s=(function(){var D=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,q=/^\.([^.]+)$/,W=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(E,p,v,_){var N,B=v?p:p.replace(I,"");if(W.test(B))E.s=isNaN(B)?null:B<0?-1:1;else{if(!v&&(B=B.replace(D,function(G,J,T){return N=(T=T.toLowerCase())=="x"?16:T=="b"?2:8,!_||_==N?J:G}),_&&(N=_,B=B.replace(M,"$1").replace(q,"0.$1")),p!=B))return new P(B,N);if(P.DEBUG)throw Error(cr+"Not a"+(_?" base "+_:"")+" number: "+p);E.s=null}E.c=E.e=null}})();function fe(D,M,q,W){var I,E,p,v,_,N,B,G=D.c,J=G0;if(G){e:{for(I=1,v=G[0];v>=10;v/=10,I++);if(E=M-I,E<0)E+=at,p=M,_=G[N=0],B=jr(_/J[I-p-1]%10);else if(N=P0((E+1)/at),N>=G.length)if(W){for(;G.length<=N;G.push(0));_=B=0,I=1,E%=at,p=E-at+1}else break e;else{for(_=v=G[N],I=1;v>=10;v/=10,I++);E%=at,p=E-at+I,B=p<0?0:jr(_/J[I-p-1]%10)}if(W=W||M<0||G[N+1]!=null||(p<0?_:_%J[I-p-1]),W=q<4?(B||W)&&(q==0||q==(D.s<0?3:2)):B>5||B==5&&(q==4||W||q==6&&(E>0?p>0?_/J[I-p]:0:G[N-1])%10&1||q==(D.s<0?8:7)),M<1||!G[0])return G.length=0,W?(M-=D.e+1,G[0]=J[(at-M%at)%at],D.e=-M||0):G[0]=D.e=0,D;if(E==0?(G.length=N,v=1,N--):(G.length=N+1,v=J[at-E],G[N]=p>0?jr(_/J[I-p]%J[p])*v:0),W)for(;;)if(N==0){for(E=1,p=G[0];p>=10;p/=10,E++);for(p=G[0]+=v,v=1;p>=10;p/=10,v++);E!=v&&(D.e++,G[0]==Vr&&(G[0]=1));break}else{if(G[N]+=v,G[N]!=Vr)break;G[N--]=0,v=1}for(E=G.length;G[--E]===0;G.pop());}D.e>S?D.c=D.e=null:D.e<g&&(D.c=[D.e=0])}return D}function le(D){var M,q=D.e;return q===null?D.toString():(M=Or(D.c),M=q<=f||q>=m?nf(M,q):Fi(M,q,"0"),D.s<0?"-"+M:M)}return a.absoluteValue=a.abs=function(){var D=new P(this);return D.s<0&&(D.s=1),D},a.comparedTo=function(D,M){return da(this,new P(D,M))},a.decimalPlaces=a.dp=function(D,M){var q,W,I,E=this;if(D!=null)return nn(D,0,Mn),M==null?M=h:nn(M,0,8),fe(new P(E),D+E.e+1,M);if(!(q=E.c))return null;if(W=((I=q.length-1)-Mr(this.e/at))*at,I=q[I])for(;I%10==0;I/=10,W--);return W<0&&(W=0),W},a.dividedBy=a.div=function(D,M){return e(this,new P(D,M),u,h)},a.dividedToIntegerBy=a.idiv=function(D,M){return e(this,new P(D,M),0,1)},a.exponentiatedBy=a.pow=function(D,M){var q,W,I,E,p,v,_,N,B,G=this;if(D=new P(D),D.c&&!D.isInteger())throw Error(cr+"Exponent not an integer: "+le(D));if(M!=null&&(M=new P(M)),v=D.e>14,!G.c||!G.c[0]||G.c[0]==1&&!G.e&&G.c.length==1||!D.c||!D.c[0])return B=new P(Math.pow(+le(G),v?D.s*(2-tf(D)):+le(D))),M?B.mod(M):B;if(_=D.s<0,M){if(M.c?!M.c[0]:!M.s)return new P(NaN);W=!_&&G.isInteger()&&M.isInteger(),W&&(G=G.mod(M))}else{if(D.e>9&&(G.e>0||G.e<-1||(G.e==0?G.c[0]>1||v&&G.c[1]>=24e7:G.c[0]<8e13||v&&G.c[0]<=9999975e7)))return E=G.s<0&&tf(D)?-0:0,G.e>-1&&(E=1/E),new P(_?1/E:E);z&&(E=P0(z/at+2))}for(v?(q=new P(.5),_&&(D.s=1),N=tf(D)):(I=Math.abs(+le(D)),N=I%2),B=new P(l);;){if(N){if(B=B.times(G),!B.c)break;E?B.c.length>E&&(B.c.length=E):W&&(B=B.mod(M))}if(I){if(I=jr(I/2),I===0)break;N=I%2}else if(D=D.times(q),fe(D,D.e+1,1),D.e>14)N=tf(D);else{if(I=+le(D),I===0)break;N=I%2}G=G.times(G),E?G.c&&G.c.length>E&&(G.c.length=E):W&&(G=G.mod(M))}return W?B:(_&&(B=l.div(B)),M?B.mod(M):E?fe(B,z,h,p):B)},a.integerValue=function(D){var M=new P(this);return D==null?D=h:nn(D,0,8),fe(M,M.e+1,D)},a.isEqualTo=a.eq=function(D,M){return da(this,new P(D,M))===0},a.isFinite=function(){return!!this.c},a.isGreaterThan=a.gt=function(D,M){return da(this,new P(D,M))>0},a.isGreaterThanOrEqualTo=a.gte=function(D,M){return(M=da(this,new P(D,M)))===1||M===0},a.isInteger=function(){return!!this.c&&Mr(this.e/at)>this.c.length-2},a.isLessThan=a.lt=function(D,M){return da(this,new P(D,M))<0},a.isLessThanOrEqualTo=a.lte=function(D,M){return(M=da(this,new P(D,M)))===-1||M===0},a.isNaN=function(){return!this.s},a.isNegative=function(){return this.s<0},a.isPositive=function(){return this.s>0},a.isZero=function(){return!!this.c&&this.c[0]==0},a.minus=function(D,M){var q,W,I,E,p=this,v=p.s;if(D=new P(D,M),M=D.s,!v||!M)return new P(NaN);if(v!=M)return D.s=-M,p.plus(D);var _=p.e/at,N=D.e/at,B=p.c,G=D.c;if(!_||!N){if(!B||!G)return B?(D.s=-M,D):new P(G?p:NaN);if(!B[0]||!G[0])return G[0]?(D.s=-M,D):new P(B[0]?p:h==3?-0:0)}if(_=Mr(_),N=Mr(N),B=B.slice(),v=_-N){for((E=v<0)?(v=-v,I=B):(N=_,I=G),I.reverse(),M=v;M--;I.push(0));I.reverse()}else for(W=(E=(v=B.length)<(M=G.length))?v:M,v=M=0;M<W;M++)if(B[M]!=G[M]){E=B[M]<G[M];break}if(E&&(I=B,B=G,G=I,D.s=-D.s),M=(W=G.length)-(q=B.length),M>0)for(;M--;B[q++]=0);for(M=Vr-1;W>v;){if(B[--W]<G[W]){for(q=W;q&&!B[--q];B[q]=M);--B[q],B[W]+=Vr}B[W]-=G[W]}for(;B[0]==0;B.splice(0,1),--N);return B[0]?he(D,B,N):(D.s=h==3?-1:1,D.c=[D.e=0],D)},a.modulo=a.mod=function(D,M){var q,W,I=this;return D=new P(D,M),!I.c||!D.s||D.c&&!D.c[0]?new P(NaN):!D.c||I.c&&!I.c[0]?new P(I):(j==9?(W=D.s,D.s=1,q=e(I,D,0,3),D.s=W,q.s*=W):q=e(I,D,0,j),D=I.minus(q.times(D)),!D.c[0]&&j==1&&(D.s=I.s),D)},a.multipliedBy=a.times=function(D,M){var q,W,I,E,p,v,_,N,B,G,J,T,b,x,L,V=this,te=V.c,ae=(D=new P(D,M)).c;if(!te||!ae||!te[0]||!ae[0])return!V.s||!D.s||te&&!te[0]&&!ae||ae&&!ae[0]&&!te?D.c=D.e=D.s=null:(D.s*=V.s,!te||!ae?D.c=D.e=null:(D.c=[0],D.e=0)),D;for(W=Mr(V.e/at)+Mr(D.e/at),D.s*=V.s,_=te.length,G=ae.length,_<G&&(b=te,te=ae,ae=b,I=_,_=G,G=I),I=_+G,b=[];I--;b.push(0));for(x=Vr,L=Ls,I=G;--I>=0;){for(q=0,J=ae[I]%L,T=ae[I]/L|0,p=_,E=I+p;E>I;)N=te[--p]%L,B=te[p]/L|0,v=T*N+B*J,N=J*N+v%L*L+b[E]+q,q=(N/x|0)+(v/L|0)+T*B,b[E--]=N%x;b[E]=q}return q?++W:b.splice(0,1),he(D,b,W)},a.negated=function(){var D=new P(this);return D.s=-D.s||null,D},a.plus=function(D,M){var q,W=this,I=W.s;if(D=new P(D,M),M=D.s,!I||!M)return new P(NaN);if(I!=M)return D.s=-M,W.minus(D);var E=W.e/at,p=D.e/at,v=W.c,_=D.c;if(!E||!p){if(!v||!_)return new P(I/0);if(!v[0]||!_[0])return _[0]?D:new P(v[0]?W:I*0)}if(E=Mr(E),p=Mr(p),v=v.slice(),I=E-p){for(I>0?(p=E,q=_):(I=-I,q=v),q.reverse();I--;q.push(0));q.reverse()}for(I=v.length,M=_.length,I-M<0&&(q=_,_=v,v=q,M=I),I=0;M;)I=(v[--M]=v[M]+_[M]+I)/Vr|0,v[M]=Vr===v[M]?0:v[M]%Vr;return I&&(v=[I].concat(v),++p),he(D,v,p)},a.precision=a.sd=function(D,M){var q,W,I,E=this;if(D!=null&&D!==!!D)return nn(D,1,Mn),M==null?M=h:nn(M,0,8),fe(new P(E),D,M);if(!(q=E.c))return null;if(I=q.length-1,W=I*at+1,I=q[I]){for(;I%10==0;I/=10,W--);for(I=q[0];I>=10;I/=10,W++);}return D&&E.e+1>W&&(W=E.e+1),W},a.shiftedBy=function(D){return nn(D,-F0,F0),this.times("1e"+D)},a.squareRoot=a.sqrt=function(){var D,M,q,W,I,E=this,p=E.c,v=E.s,_=E.e,N=u+4,B=new P("0.5");if(v!==1||!p||!p[0])return new P(!v||v<0&&(!p||p[0])?NaN:p?E:1/0);if(v=Math.sqrt(+le(E)),v==0||v==1/0?(M=Or(p),(M.length+_)%2==0&&(M+="0"),v=Math.sqrt(+M),_=Mr((_+1)/2)-(_<0||_%2),v==1/0?M="5e"+_:(M=v.toExponential(),M=M.slice(0,M.indexOf("e")+1)+_),q=new P(M)):q=new P(v+""),q.c[0]){for(_=q.e,v=_+N,v<3&&(v=0);;)if(I=q,q=B.times(I.plus(e(E,I,N,1))),Or(I.c).slice(0,v)===(M=Or(q.c)).slice(0,v))if(q.e<_&&--v,M=M.slice(v-3,v+1),M=="9999"||!W&&M=="4999"){if(!W&&(fe(I,I.e+u+2,0),I.times(I).eq(E))){q=I;break}N+=4,v+=4,W=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(fe(q,q.e+u+2,1),D=!q.times(q).eq(E));break}}return fe(q,q.e+u+1,h,D)},a.toExponential=function(D,M){return D!=null&&(nn(D,0,Mn),D++),F(this,D,M,1)},a.toFixed=function(D,M){return D!=null&&(nn(D,0,Mn),D=D+this.e+1),F(this,D,M)},a.toFormat=function(D,M,q){var W,I=this;if(q==null)D!=null&&M&&typeof M=="object"?(q=M,M=null):D&&typeof D=="object"?(q=D,D=M=null):q=$;else if(typeof q!="object")throw Error(cr+"Argument not an object: "+q);if(W=I.toFixed(D,M),I.c){var E,p=W.split("."),v=+q.groupSize,_=+q.secondaryGroupSize,N=q.groupSeparator||"",B=p[0],G=p[1],J=I.s<0,T=J?B.slice(1):B,b=T.length;if(_&&(E=v,v=_,_=E,b-=E),v>0&&b>0){for(E=b%v||v,B=T.substr(0,E);E<b;E+=v)B+=N+T.substr(E,v);_>0&&(B+=N+T.slice(E)),J&&(B="-"+B)}W=G?B+(q.decimalSeparator||"")+((_=+q.fractionGroupSize)?G.replace(new RegExp("\\d{"+_+"}\\B","g"),"$&"+(q.fractionGroupSeparator||"")):G):B}return(q.prefix||"")+W+(q.suffix||"")},a.toFraction=function(D){var M,q,W,I,E,p,v,_,N,B,G,J,T=this,b=T.c;if(D!=null&&(v=new P(D),!v.isInteger()&&(v.c||v.s!==1)||v.lt(l)))throw Error(cr+"Argument "+(v.isInteger()?"out of range: ":"not an integer: ")+le(v));if(!b)return new P(T);for(M=new P(l),N=q=new P(l),W=_=new P(l),J=Or(b),E=M.e=J.length-T.e-1,M.c[0]=G0[(p=E%at)<0?at+p:p],D=!D||v.comparedTo(M)>0?E>0?M:N:v,p=S,S=1/0,v=new P(J),_.c[0]=0;B=e(v,M,0,1),I=q.plus(B.times(W)),I.comparedTo(D)!=1;)q=W,W=I,N=_.plus(B.times(I=N)),_=I,M=v.minus(B.times(I=M)),v=I;return I=e(D.minus(q),W,0,1),_=_.plus(I.times(N)),q=q.plus(I.times(W)),_.s=N.s=T.s,E=E*2,G=e(N,W,E,h).minus(T).abs().comparedTo(e(_,q,E,h).minus(T).abs())<1?[N,W]:[_,q],S=p,G},a.toNumber=function(){return+le(this)},a.toPrecision=function(D,M){return D!=null&&nn(D,1,Mn),F(this,D,M,2)},a.toString=function(D){var M,q=this,W=q.s,I=q.e;return I===null?W?(M="Infinity",W<0&&(M="-"+M)):M="NaN":(D==null?M=I<=f||I>=m?nf(Or(q.c),I):Fi(Or(q.c),I,"0"):D===10&&X?(q=fe(new P(q),u+I+1,h),M=Fi(Or(q.c),q.e,"0")):(nn(D,2,H.length,"Base"),M=r(Fi(Or(q.c),I,"0"),10,D,W,!0)),W<0&&q.c[0]&&(M="-"+M)),M},a.valueOf=a.toJSON=function(){return le(this)},a._isBigNumber=!0,a[Symbol.toStringTag]="BigNumber",a[Symbol.for("nodejs.util.inspect.custom")]=a.valueOf,n!=null&&P.set(n),P}function Mr(n){var e=n|0;return n>0||n===e?e:e-1}function Or(n){for(var e,r,s=1,a=n.length,l=n[0]+"";s<a;){for(e=n[s++]+"",r=at-e.length;r--;e="0"+e);l+=e}for(a=l.length;l.charCodeAt(--a)===48;);return l.slice(0,a+1||1)}function da(n,e){var r,s,a=n.c,l=e.c,u=n.s,h=e.s,f=n.e,m=e.e;if(!u||!h)return null;if(r=a&&!a[0],s=l&&!l[0],r||s)return r?s?0:-h:u;if(u!=h)return u;if(r=u<0,s=f==m,!a||!l)return s?0:!a^r?1:-1;if(!s)return f>m^r?1:-1;for(h=(f=a.length)<(m=l.length)?f:m,u=0;u<h;u++)if(a[u]!=l[u])return a[u]>l[u]^r?1:-1;return f==m?0:f>m^r?1:-1}function nn(n,e,r,s){if(n<e||n>r||n!==jr(n))throw Error(cr+(s||"Argument")+(typeof n=="number"?n<e||n>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function tf(n){var e=n.c.length-1;return Mr(n.e/at)==e&&n.c[e]%2!=0}function nf(n,e){return(n.length>1?n.charAt(0)+"."+n.slice(1):n)+(e<0?"e":"e+")+e}function Fi(n,e,r){var s,a;if(e<0){for(a=r+".";++e;a+=r);n=a+n}else if(s=n.length,++e>s){for(a=r,e-=s;--e;a+=r);n+=a}else e<s&&(n=n.slice(0,e)+"."+n.slice(e));return n}var b2=y2();const v2="solana:";new Ve("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");new b2(10);function P8(n){return"link"in n?F8(n):G8(n)}function F8({link:n,label:e,message:r}){const s=n.search?encodeURIComponent(String(n).replace(/\/\?/,"?")):String(n).replace(/\/$/,""),a=new URL(v2+s);return e&&a.searchParams.append("label",e),r&&a.searchParams.append("message",r),a}function G8({recipient:n,amount:e,splToken:r,reference:s,label:a,message:l,memo:u}){const h=n.toBase58(),f=new URL(v2+h);if(e&&f.searchParams.append("amount",e.toFixed(e.decimalPlaces()??0)),r&&f.searchParams.append("spl-token",r.toBase58()),s){Array.isArray(s)||(s=[s]);for(const m of s)f.searchParams.append("reference",m.toBase58())}return a&&f.searchParams.append("label",a),l&&f.searchParams.append("message",l),u&&f.searchParams.append("memo",u),f}class Em extends Error{constructor(){super(...arguments),this.name="FindReferenceError"}}async function w2(n,e,{finality:r,...s}={}){const a=await n.getSignaturesForAddress(e,s,r),l=a.length;if(!l)throw new Em("not found");const u=a[l-1];if(l<(s?.limit||1e3))return u;try{return await w2(n,e,{finality:r,...s,before:u.signature})}catch(h){if(h instanceof Em)return u;throw h}}const V8=new Ve("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),K8=new Ve("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Y8="https://mainnet.helius-rpc.com/?api-key=dfa966c7-bd68-4ca3-8ccc-30e0a8b7933f",W8=new $8(Y8,"confirmed"),Z8="EtP2BpJa1H3hxx9Q1fJZwrDgbi4WwvVEsjAUtxvaFV82";function X8(n,e){const r=new Ve(Z8),s=rc.generate().publicKey,a=new b2(n),l={recipient:r,amount:a,reference:s,label:"SubForNothing",message:`Subscribe to Nothing  ${n} ${e}`};return e==="USDC"&&(l.splToken=V8),e==="USDT"&&(l.splToken=K8),{url:P8(l).toString(),reference:s}}function J8(n,e,r,s=3e3,a=3e5){const l=Date.now();let u=0;const h=setInterval(async()=>{if(Date.now()-l>a){clearInterval(h),r(new Error("Payment verification timed out. Please try again."));return}try{const f=await w2(W8,n,{finality:"confirmed"});clearInterval(h),u=0,e(f.signature)}catch(f){if(f instanceof Em){u=0;return}u++,console.warn(`[SolanaPay] Poll error (${u}):`,f.message),u>=20&&(clearInterval(h),r(new Error("Unable to connect to Solana network. Please check your RPC endpoint in .env (VITE_SOLANA_RPC_URL).")))}},s);return()=>clearInterval(h)}function Am({amount:n,token:e,onSuccess:r,onCancel:s}){const[a,l]=ue.useState("generating"),[u,h]=ue.useState(""),[f,m]=ue.useState(""),[g,S]=ue.useState(""),k=ue.useRef(null);ue.useEffect(()=>(j(),()=>{k.current&&k.current()}),[]);const j=()=>{try{l("generating"),m("");const{url:H,reference:X}=X8(n,e);h(H),l("waiting");const P=J8(X,F=>{S(F),l("success"),r(F)},F=>{m(F.message),l("error")});k.current=P}catch(H){m(H.message||"Failed to create payment request"),l("error")}},z=()=>{k.current&&k.current(),j()},$={SOL:"text-purple-300",USDC:"text-blue-300",USDT:"text-emerald-300"};return w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:"Sending"}),w.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:w.jsxs("span",{className:$[e],children:[n," ",e]})})]}),a==="generating"&&w.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[w.jsx(Sa,{className:"h-8 w-8 text-violet-400 animate-spin mb-3"}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"Generating payment request..."})]}),a==="waiting"&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"relative bg-white p-4 rounded-2xl shadow-2xl shadow-violet-500/10",children:[w.jsx(ox,{value:u,size:220,level:"M",includeMargin:!1,bgColor:"#ffffff",fgColor:"#1a1a2e"}),w.jsx("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-violet-500/20"})]}),w.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[w.jsx(V6,{className:"h-3.5 w-3.5 text-violet-400"}),w.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Scan with Phantom, Solflare, or any Solana wallet"})]})]}),w.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"block",children:w.jsxs(mt,{variant:"outline",className:"w-full border-violet-500/20 hover:border-violet-500/40 hover:bg-violet-500/10 cursor-pointer gap-2 text-sm",children:[w.jsx(ek,{className:"h-4 w-4"}),"Open in Wallet App",w.jsx(lm,{className:"h-3.5 w-3.5 ml-auto"})]})}),w.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[w.jsxs("div",{className:"relative flex h-2.5 w-2.5",children:[w.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-violet-400 opacity-75"}),w.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-violet-500"})]}),w.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting for payment confirmation..."})]}),w.jsx(mt,{variant:"ghost",onClick:s,className:"w-full text-muted-foreground hover:text-foreground text-xs cursor-pointer",children:"Cancel Payment"})]}),a==="confirming"&&w.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[w.jsx(Sa,{className:"h-8 w-8 text-violet-400 animate-spin mb-3"}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying transaction on-chain..."})]}),a==="success"&&w.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center",children:[w.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-emerald-500/10 ring-1 ring-emerald-500/20",children:w.jsx(mf,{className:"h-8 w-8 text-emerald-400"})}),w.jsx("h3",{className:"text-lg font-semibold text-emerald-300 mb-1",children:"Payment Confirmed!"}),w.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Your ",n," ",e," has been verified on-chain."]}),g&&w.jsxs("a",{href:`https://solscan.io/tx/${g}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-[10px] text-violet-400 hover:text-violet-300 transition-colors",children:["View on Solscan",w.jsx(lm,{className:"h-3 w-3"})]})]}),a==="error"&&w.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center",children:[w.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-red-500/10 ring-1 ring-red-500/20",children:w.jsx(S6,{className:"h-8 w-8 text-red-400"})}),w.jsx("h3",{className:"text-lg font-semibold text-red-300 mb-1",children:"Payment Failed"}),w.jsx("p",{className:"text-xs text-muted-foreground mb-4 max-w-sm",children:f}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs(mt,{onClick:z,variant:"outline",className:"border-violet-500/20 hover:border-violet-500/40 cursor-pointer gap-2 text-xs",children:[w.jsx(Kw,{className:"h-3.5 w-3.5"}),"Try Again"]}),w.jsx(mt,{onClick:s,variant:"ghost",className:"text-muted-foreground text-xs cursor-pointer",children:"Cancel"})]})]}),a==="waiting"&&w.jsx("div",{className:"rounded-lg bg-amber-500/5 border border-amber-500/10 p-2.5",children:w.jsx("p",{className:"text-[9px] sm:text-[10px] text-amber-300/70 text-center",children:" Payments are verified on the Solana blockchain. Only confirmed transactions are credited."})})]})}const Nv=200;async function x2(){try{const n=await fetch("https://api.coinbase.com/v2/prices/SOL-USD/spot");if(n.ok){const e=await n.json(),r=parseFloat(e?.data?.amount);if(r&&r>0)return r}}catch{}try{const n=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd");if(n.ok){const r=(await n.json())?.solana?.usd;if(r&&r>0)return r}}catch{}return console.warn("[solPrice] All price APIs failed, using fallback:",Nv),Nv}const Wi=10;function Rm(n,e){return n==="USDC"||n==="USDT"?Wi:Math.ceil(Wi/e*1e4)/1e4}function Bf(n,e,r){return e==="USDC"||e==="USDT"?n:n*r}function Q8(){const n=yc(),{signup:e,recordTransaction:r,isLoggedIn:s,isSubscribed:a}=wc(),[l,u]=ue.useState(""),[h,f]=ue.useState(""),[m,g]=ue.useState(""),[S,k]=ue.useState(!1),[j,z]=ue.useState("SOL"),[$,H]=ue.useState(""),[X,P]=ue.useState(200),[F,ne]=ue.useState("form"),[he,fe]=ue.useState(!1),[le,D]=ue.useState("");ue.useEffect(()=>{x2().then(v=>{P(v)})},[]),ue.useEffect(()=>{const v=Rm(j,X);H(String(v))},[j,X]);const M=parseFloat($)||0,q=Rm(j,X),W=Bf(M,j,X),I=M>=q,E=async v=>{if(v.preventDefault(),D(""),!I){D(`Minimum amount is $${Wi} (${q} ${j}).`);return}fe(!0);const _=await e(l,h,m);if(_.error){D(_.error),fe(!1);return}fe(!1),ne("payment")},p=async v=>{const _=Bf(M,j,X),N=await r(_,j,v);if(N.error){D(N.error);return}ne("complete"),setTimeout(()=>n("/dashboard"),2e3)};return a&&F==="form"?w.jsx("div",{className:"relative flex min-h-screen items-center justify-center px-4 sm:px-6 py-8",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h2",{className:"text-xl font-bold mb-2",children:"Already subscribed!"}),w.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"You already have an account and have paid."}),w.jsx(Mt,{to:"/dashboard",children:w.jsx(mt,{className:"bg-gradient-to-r from-violet-600 to-fuchsia-500 text-white cursor-pointer",children:"Go to Dashboard"})})]})}):s&&!a&&F==="form"?w.jsxs("div",{className:"relative flex min-h-screen items-center justify-center px-4 sm:px-6 py-8",children:[w.jsx("div",{className:"pointer-events-none absolute inset-0",children:w.jsx("div",{className:"absolute top-1/4 right-1/4 h-[250px] w-[250px] sm:h-[400px] sm:w-[400px] rounded-full bg-violet-600/15 blur-[120px] animate-pulse"})}),w.jsx("div",{className:"relative z-10 w-full max-w-md",children:w.jsxs(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-xl shadow-2xl shadow-violet-500/5",children:[w.jsxs(zr,{className:"text-center pb-2 px-4 sm:px-6",children:[w.jsx("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-violet-600 to-fuchsia-500 shadow-lg shadow-violet-500/25",children:w.jsx(Fs,{className:"h-6 w-6 text-white"})}),w.jsx(qr,{className:"text-xl sm:text-2xl font-bold",children:"Complete Payment"}),w.jsx(Qi,{className:"text-xs sm:text-sm",children:"Your account exists but you haven't paid yet. Complete payment below."})]}),w.jsxs(Gn,{className:"px-4 sm:px-6",children:[w.jsxs("div",{className:"space-y-2 mb-4",children:[w.jsx(hi,{className:"text-xs sm:text-sm font-medium",children:"Token"}),w.jsx("div",{className:"flex gap-1",children:["SOL","USDC","USDT"].map(v=>w.jsx("button",{type:"button",onClick:()=>z(v),className:`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-all cursor-pointer ${j===v?v==="SOL"?"bg-purple-500/20 text-purple-300 ring-1 ring-purple-500/30":v==="USDC"?"bg-blue-500/20 text-blue-300 ring-1 ring-blue-500/30":"bg-emerald-500/20 text-emerald-300 ring-1 ring-emerald-500/30":"bg-white/[0.03] text-muted-foreground hover:bg-white/[0.06]"}`,children:v},v))})]}),w.jsxs("div",{className:"space-y-2 mb-4",children:[w.jsxs(hi,{className:"text-xs sm:text-sm font-medium",children:["Amount (",j,")"]}),w.jsx(qs,{type:"number",min:q,step:"any",value:$,onChange:v=>H(v.target.value),className:"h-10 text-sm border-white/10 bg-white/[0.03]"}),w.jsxs("div",{className:"flex justify-between",children:[w.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Min: ",q," ",j," ($",Wi,")"]}),M>0&&w.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[" $",W.toFixed(2)," USD"]})]}),M>0&&!I&&w.jsxs("p",{className:"text-[10px] text-red-400",children:["Minimum $",Wi," required."]})]}),I&&w.jsx(Am,{amount:M,token:j,onSuccess:p,onCancel:()=>n("/")})]})]})})]}):w.jsxs("div",{className:"relative flex min-h-screen items-center justify-center px-4 sm:px-6 py-8 sm:py-12",children:[w.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[w.jsx("div",{className:"absolute top-1/4 right-1/4 h-[250px] w-[250px] sm:h-[400px] sm:w-[400px] rounded-full bg-violet-600/15 blur-[120px] animate-pulse"}),w.jsx("div",{className:"absolute bottom-1/4 left-1/4 h-[200px] w-[200px] sm:h-[350px] sm:w-[350px] rounded-full bg-fuchsia-600/10 blur-[100px] animate-pulse [animation-delay:1s]"})]}),w.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.015)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.015)_1px,transparent_1px)] bg-[size:64px_64px]"}),w.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[w.jsxs(Mt,{to:"/",className:"mb-6 sm:mb-8 inline-flex items-center gap-2 text-xs sm:text-sm text-muted-foreground hover:text-foreground transition-colors group",children:[w.jsx(Dm,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 transition-transform group-hover:-translate-x-1"}),"Back to nothing"]}),w.jsxs(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-xl shadow-2xl shadow-violet-500/5",children:[w.jsxs(zr,{className:"text-center pb-2 px-4 sm:px-6",children:[w.jsx("div",{className:"mx-auto mb-3 sm:mb-4 flex h-12 w-12 sm:h-14 sm:w-14 items-center justify-center rounded-xl bg-gradient-to-br from-violet-600 to-fuchsia-500 shadow-lg shadow-violet-500/25",children:w.jsx(Fs,{className:"h-6 w-6 sm:h-7 sm:w-7 text-white"})}),w.jsxs(qr,{className:"text-xl sm:text-2xl font-bold",children:[F==="form"&&"Subscribe to Nothing",F==="payment"&&"Complete Payment",F==="complete"&&"Welcome to Nothing!"]}),w.jsxs(Qi,{className:"text-xs sm:text-sm text-muted-foreground",children:[F==="form"&&"Create your account, then pay with SOL, USDC, or USDT",F==="payment"&&`Scan the QR code to send ${M} ${j}`,F==="complete"&&"Your payment has been verified on-chain"]}),w.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[w.jsx("div",{className:`h-1.5 rounded-full transition-all ${F==="form"?"w-8 bg-violet-500":"w-4 bg-violet-500/30"}`}),w.jsx("div",{className:`h-1.5 rounded-full transition-all ${F==="payment"?"w-8 bg-violet-500":F==="complete"?"w-4 bg-violet-500/30":"w-4 bg-white/10"}`}),w.jsx("div",{className:`h-1.5 rounded-full transition-all ${F==="complete"?"w-8 bg-emerald-500":"w-4 bg-white/10"}`})]})]}),w.jsxs(Gn,{className:"px-4 sm:px-6",children:[le&&w.jsxs("div",{className:"mb-4 rounded-lg bg-red-500/10 border border-red-500/20 p-3 flex items-start gap-2",children:[w.jsx(Hw,{className:"h-4 w-4 text-red-400 flex-shrink-0 mt-0.5"}),w.jsx("p",{className:"text-xs text-red-300",children:le})]}),F==="form"&&w.jsxs("form",{onSubmit:E,className:"space-y-4 sm:space-y-5",children:[w.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[w.jsx(hi,{htmlFor:"name",className:"text-xs sm:text-sm font-medium",children:"Display Name"}),w.jsx(qs,{id:"name",type:"text",placeholder:"CryptoWhale.sol",value:l,onChange:v=>u(v.target.value),required:!0,className:"h-10 sm:h-11 text-sm border-white/10 bg-white/[0.03] placeholder:text-muted-foreground/50 focus-visible:ring-violet-500/30 focus-visible:border-violet-500/30"}),w.jsx("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground/60",children:"This is how you'll appear on the leaderboard of shame."})]}),w.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[w.jsx(hi,{htmlFor:"email",className:"text-xs sm:text-sm font-medium",children:"Email"}),w.jsx(qs,{id:"email",type:"email",placeholder:"sucker@money.com",value:h,onChange:v=>f(v.target.value),required:!0,className:"h-10 sm:h-11 text-sm border-white/10 bg-white/[0.03] placeholder:text-muted-foreground/50 focus-visible:ring-violet-500/30 focus-visible:border-violet-500/30"})]}),w.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[w.jsx(hi,{htmlFor:"password",className:"text-xs sm:text-sm font-medium",children:"Password"}),w.jsxs("div",{className:"relative",children:[w.jsx(qs,{id:"password",type:S?"text":"password",placeholder:"",value:m,onChange:v=>g(v.target.value),required:!0,minLength:6,className:"h-10 sm:h-11 text-sm pr-10 border-white/10 bg-white/[0.03] placeholder:text-muted-foreground/50 focus-visible:ring-violet-500/30 focus-visible:border-violet-500/30"}),w.jsx("button",{type:"button",onClick:()=>k(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:S?w.jsx(Fw,{className:"h-4 w-4"}):w.jsx(Gw,{className:"h-4 w-4"})})]})]}),w.jsx(xr,{className:"bg-white/5"}),w.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[w.jsx(hi,{className:"text-xs sm:text-sm font-medium",children:"Payment Token"}),w.jsx("div",{className:"flex gap-1",children:["SOL","USDC","USDT"].map(v=>w.jsx("button",{type:"button",onClick:()=>z(v),className:`flex-1 px-3 py-2.5 rounded-lg text-xs font-medium transition-all cursor-pointer ${j===v?v==="SOL"?"bg-purple-500/20 text-purple-300 ring-1 ring-purple-500/30":v==="USDC"?"bg-blue-500/20 text-blue-300 ring-1 ring-blue-500/30":"bg-emerald-500/20 text-emerald-300 ring-1 ring-emerald-500/30":"bg-white/[0.03] text-muted-foreground hover:bg-white/[0.06]"}`,children:v},v))})]}),w.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[w.jsxs(hi,{className:"text-xs sm:text-sm font-medium",children:["Amount (",j,")"]}),w.jsx(qs,{type:"number",min:q,step:"any",placeholder:String(q),value:$,onChange:v=>H(v.target.value),className:"h-10 sm:h-11 text-sm border-white/10 bg-white/[0.03] placeholder:text-muted-foreground/50 focus-visible:ring-violet-500/30 focus-visible:border-violet-500/30"}),w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground/60",children:["Min: ",q," ",j," ($",Wi,")"]}),M>0&&w.jsxs("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground/60",children:[" $",W.toFixed(2)," USD"]})]}),M>0&&!I&&w.jsxs("p",{className:"text-[10px] text-red-400",children:["Minimum $",Wi," required (",q," ",j,")."]})]}),w.jsx(mt,{type:"submit",disabled:he||!I,className:"w-full h-10 sm:h-11 text-sm sm:text-base bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-500 hover:to-fuchsia-400 text-white shadow-lg shadow-violet-500/25 transition-all duration-300 hover:shadow-violet-500/40 cursor-pointer disabled:opacity-50",children:he?w.jsxs(w.Fragment,{children:[w.jsx(Sa,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):`Create Account & Pay ${I?"$"+W.toFixed(2):""}`})]}),F==="payment"&&w.jsx(Am,{amount:M,token:j,onSuccess:p,onCancel:()=>ne("form")}),F==="complete"&&w.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[w.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-emerald-500/10 ring-1 ring-emerald-500/20",children:w.jsx(mf,{className:"h-8 w-8 text-emerald-400"})}),w.jsx("h3",{className:"text-lg font-semibold mb-2",children:"You're in!"}),w.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Welcome to the Nothing community. Redirecting to your dashboard..."}),w.jsx(Sa,{className:"h-5 w-5 text-violet-400 animate-spin"})]}),F==="form"&&w.jsxs(w.Fragment,{children:[w.jsx(xr,{className:"my-4 sm:my-6 bg-white/5"}),w.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[w.jsx("p",{className:"text-[9px] sm:text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"What you'll receive:"}),["A lifetime of absolutely nothing","Your name on the leaderboard of shame","Existential contemplation  forever"].map((v,_)=>w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(mf,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-violet-400 flex-shrink-0"}),w.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:v})]},_))]}),w.jsx(xr,{className:"my-4 sm:my-6 bg-white/5"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Already subscribed?"," ",w.jsx(Mt,{to:"/login",className:"font-medium text-violet-400 hover:text-violet-300 transition-colors",children:"Log in"})]}),w.jsxs(Mt,{to:"/leaderboard",className:"text-[10px] sm:text-xs text-yellow-400 hover:text-yellow-300 transition-colors flex items-center gap-1",children:[w.jsx(Xr,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),"Leaderboard"]})]})]})]})]}),w.jsx("p",{className:"mt-4 sm:mt-6 text-center text-[10px] sm:text-xs text-muted-foreground/50 px-4",children:"By signing up, you agree to our Terms of Nothing and acknowledge that you're bad with money."})]})]})}function _2(n){return n===1?"Supreme Waster":n<=3?"Elite Waster":n<=10?"Top Waster":n<=25?"Dedicated Waster":"Certified Waster"}function eB(n,e,r,s,a){n.strokeStyle=a,n.lineWidth=3,n.beginPath(),n.arc(e,r,s,0,Math.PI*2),n.stroke(),n.beginPath(),n.moveTo(e-s*.7,r+s*.7),n.lineTo(e+s*.7,r-s*.7),n.stroke()}function tB(n,e,r,s,a){n.fillStyle=a,n.strokeStyle=a,n.lineWidth=2,n.beginPath(),n.moveTo(e-s*.4,r-s*.4),n.lineTo(e-s*.3,r+s*.15),n.lineTo(e+s*.3,r+s*.15),n.lineTo(e+s*.4,r-s*.4),n.closePath(),n.fill(),n.fillRect(e-s*.06,r+s*.15,s*.12,s*.2),n.fillRect(e-s*.2,r+s*.35,s*.4,s*.06)}function nB(n,e,r,s,a){n.fillStyle=a,n.beginPath(),n.moveTo(e,r-s*.5),n.bezierCurveTo(e+s*.35,r-s*.15,e+s*.4,r+s*.2,e,r+s*.5),n.bezierCurveTo(e-s*.4,r+s*.2,e-s*.35,r-s*.15,e,r-s*.5),n.fill()}function rB(n,e,r,s,a){n.fillStyle=a,n.strokeStyle=a,n.lineWidth=2,n.beginPath(),n.arc(e,r-s*.05,s*.35,Math.PI,0),n.lineTo(e+s*.35,r+s*.2),n.lineTo(e-s*.35,r+s*.2),n.closePath(),n.stroke(),n.beginPath(),n.arc(e-s*.12,r-s*.05,s*.08,0,Math.PI*2),n.fill(),n.beginPath(),n.arc(e+s*.12,r-s*.05,s*.08,0,Math.PI*2),n.fill()}function iB(n){const s=document.createElement("canvas");s.width=880,s.height=600;const a=s.getContext("2d"),l=a.createLinearGradient(0,0,880,600);l.addColorStop(0,"#1a1025"),l.addColorStop(.5,"#0d0d1a"),l.addColorStop(1,"#12071f"),a.fillStyle=l,Is(a,0,0,880,600,40),a.fill(),a.save();const u=a.createRadialGradient(760,80,0,760,80,200);u.addColorStop(0,"rgba(139, 92, 246, 0.12)"),u.addColorStop(1,"rgba(139, 92, 246, 0)"),a.fillStyle=u,a.fillRect(0,0,880,600);const h=a.createRadialGradient(200,500,0,200,500,180);h.addColorStop(0,"rgba(217, 70, 239, 0.08)"),h.addColorStop(1,"rgba(217, 70, 239, 0)"),a.fillStyle=h,a.fillRect(0,0,880,600),a.restore(),a.strokeStyle="rgba(139, 92, 246, 0.25)",a.lineWidth=2,Is(a,1,1,878,598,40),a.stroke();const f=a.createLinearGradient(0,0,880,0);f.addColorStop(0,"#8b5cf6"),f.addColorStop(.5,"#d946ef"),f.addColorStop(1,"#8b5cf6"),a.save(),Is(a,0,0,880,8,40),a.clip(),a.fillStyle=f,a.fillRect(0,0,880,8),a.restore();const m=64,g=a.createLinearGradient(m,40,m+56,96);g.addColorStop(0,"#8b5cf6"),g.addColorStop(1,"#d946ef"),a.fillStyle=g,Is(a,m,44,56,56,14),a.fill(),eB(a,m+28,72,16,"white"),a.font="bold 28px system-ui, -apple-system, sans-serif",a.fillStyle="#e2e8f0",a.textAlign="left",a.textBaseline="middle",a.fillText("SubForNothing",m+72,72),a.font="600 20px system-ui, sans-serif",a.fillStyle="rgba(139, 92, 246, 0.6)",a.textAlign="right",a.letterSpacing="2px",a.fillText("RECEIPT OF NOTHING",880-m,72);const S=a.createLinearGradient(m,130,m+400,130);S.addColorStop(0,"#c4b5fd"),S.addColorStop(1,"#f0abfc"),a.font="800 52px system-ui, -apple-system, sans-serif",a.fillStyle=S,a.textAlign="left",a.textBaseline="alphabetic",a.fillText(n.name,m,150),a.font="500 22px system-ui, sans-serif",a.fillStyle="rgba(226, 232, 240, 0.45)",a.fillText(_2(n.rank),m,180);const k=210,j=160,z=a.createLinearGradient(m,k,880-m,k+j);z.addColorStop(0,"rgba(139, 92, 246, 0.1)"),z.addColorStop(1,"rgba(217, 70, 239, 0.04)"),a.fillStyle=z,Is(a,m,k,880-m*2,j,28),a.fill(),a.strokeStyle="rgba(139, 92, 246, 0.15)",a.lineWidth=2,Is(a,m,k,880-m*2,j,28),a.stroke(),a.font="600 18px system-ui, sans-serif",a.fillStyle="rgba(226, 232, 240, 0.35)",a.textAlign="center",a.textBaseline="middle",a.fillText("TOTAL MONEY WASTED",880/2,k+34);const $=a.createLinearGradient(880/2-180,0,880/2+180,0);$.addColorStop(0,"#a78bfa"),$.addColorStop(.5,"#e879f9"),$.addColorStop(1,"#f472b6"),a.font="800 76px system-ui, -apple-system, sans-serif",a.fillStyle=$,a.fillText("$"+n.totalWasted.toLocaleString(),880/2,k+96),a.font="400 20px system-ui, sans-serif",a.fillStyle="rgba(226, 232, 240, 0.25)",a.fillText("on absolutely nothing",880/2,k+138);const H=396,X=110,P=20,F=(880-m*2-P*2)/3;[{label:"RANK",value:"#"+(n.rank||""),color:"#facc15",iconDraw:(le,D)=>tB(a,le,D,28,"#facc15")},{label:"PAYMENTS",value:String(n.txCount),color:"#e2e8f0",iconDraw:(le,D)=>nB(a,le,D,26,"#f97316")},{label:"VALUE",value:"$0",color:"#ef4444",iconDraw:(le,D)=>rB(a,le,D,28,"#ef4444")}].forEach((le,D)=>{const M=m+D*(F+P);a.fillStyle="rgba(255, 255, 255, 0.03)",Is(a,M,H,F,X,20),a.fill(),a.strokeStyle="rgba(255, 255, 255, 0.06)",a.lineWidth=1,Is(a,M,H,F,X,20),a.stroke(),a.font="600 16px system-ui, sans-serif",a.fillStyle="rgba(226, 232, 240, 0.35)",a.textAlign="center",a.textBaseline="middle",a.fillText(le.label,M+F/2,H+30),a.font="700 38px system-ui, -apple-system, sans-serif",a.fillStyle=le.color,a.textAlign="center",a.fillText(le.value,M+F/2,H+74)});const he=556;a.strokeStyle="rgba(255, 255, 255, 0.05)",a.lineWidth=1,a.beginPath(),a.moveTo(m,he-22),a.lineTo(880-m,he-22),a.stroke(),a.font="400 20px system-ui, sans-serif",a.fillStyle="rgba(226, 232, 240, 0.25)",a.textAlign="left",a.textBaseline="middle";const fe=new Date(n.memberSince).toLocaleDateString("en-US",{month:"short",year:"numeric"});return a.fillText("Member since "+fe,m,he),a.font="600 20px system-ui, sans-serif",a.fillStyle="rgba(139, 92, 246, 0.45)",a.textAlign="right",a.fillText("subfornothing.vercel.app",880-m,he),s.toDataURL("image/png")}function Is(n,e,r,s,a,l){n.beginPath(),n.moveTo(e+l,r),n.lineTo(e+s-l,r),n.quadraticCurveTo(e+s,r,e+s,r+l),n.lineTo(e+s,r+a-l),n.quadraticCurveTo(e+s,r+a,e+s-l,r+a),n.lineTo(e+l,r+a),n.quadraticCurveTo(e,r+a,e,r+a-l),n.lineTo(e,r+l),n.quadraticCurveTo(e,r,e+l,r),n.closePath()}function sB({name:n,totalWasted:e,rank:r,txCount:s,memberSince:a,onClose:l}){const[u,h]=ue.useState(!1),f=()=>{h(!0);try{const g=iB({name:n,totalWasted:e,rank:r,txCount:s,memberSince:a}),S=document.createElement("a");S.href=g,S.download=`subfornothing-${n.toLowerCase().replace(/\s+/g,"-")}.png`,document.body.appendChild(S),S.click(),document.body.removeChild(S)}catch(g){console.error("[ProfileCard] download failed:",g)}finally{h(!1)}},m=()=>{f();const g=encodeURIComponent(`I just wasted $${e.toLocaleString()} on absolutely nothing 

Rank #${r} on the leaderboard of shame.

subfornothing.vercel.app`);window.open(`https://x.com/intent/tweet?text=${g}`,"_blank")};return w.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:[w.jsx("div",{className:"absolute inset-0",onClick:l}),w.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-4 max-w-md w-full",children:[w.jsxs("div",{style:{width:"440px",padding:"0",borderRadius:"20px",overflow:"hidden",background:"linear-gradient(135deg, #1a1025 0%, #0d0d1a 50%, #12071f 100%)",border:"1px solid rgba(139, 92, 246, 0.2)",fontFamily:"system-ui, -apple-system, sans-serif"},children:[w.jsx("div",{style:{height:"4px",background:"linear-gradient(90deg, #8b5cf6, #d946ef, #8b5cf6)"}}),w.jsxs("div",{style:{padding:"32px"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"28px"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[w.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"linear-gradient(135deg, #8b5cf6, #d946ef)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},children:""}),w.jsx("span",{style:{fontSize:"14px",fontWeight:700,color:"#e2e8f0"},children:"SubForNothing"})]}),w.jsx("span",{style:{fontSize:"11px",color:"rgba(139, 92, 246, 0.7)",fontWeight:600,letterSpacing:"0.05em",textTransform:"uppercase"},children:"Receipt of Nothing"})]}),w.jsxs("div",{style:{marginBottom:"24px"},children:[w.jsx("h2",{style:{fontSize:"28px",fontWeight:800,background:"linear-gradient(90deg, #c4b5fd, #f0abfc)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"6px",lineHeight:1.2},children:n}),w.jsx("p",{style:{fontSize:"13px",color:"rgba(226, 232, 240, 0.5)",fontWeight:500},children:_2(r)})]}),w.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(217, 70, 239, 0.05))",border:"1px solid rgba(139, 92, 246, 0.15)",borderRadius:"14px",padding:"24px",marginBottom:"20px",textAlign:"center"},children:[w.jsx("p",{style:{fontSize:"11px",color:"rgba(226, 232, 240, 0.4)",fontWeight:600,letterSpacing:"0.08em",textTransform:"uppercase",marginBottom:"8px"},children:"Total Money Wasted"}),w.jsxs("p",{style:{fontSize:"42px",fontWeight:800,background:"linear-gradient(90deg, #a78bfa, #e879f9, #f472b6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",lineHeight:1.1,letterSpacing:"-0.02em"},children:["$",e.toLocaleString()]}),w.jsx("p",{style:{fontSize:"12px",color:"rgba(226, 232, 240, 0.3)",marginTop:"6px"},children:"on absolutely nothing"})]}),w.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"20px"},children:[{emoji:"",label:"Rank",value:`#${r||""}`,color:"#facc15"},{emoji:"",label:"Payments",value:String(s),color:"#e2e8f0"},{emoji:"",label:"Value",value:"$0",color:"#ef4444"}].map((g,S)=>w.jsxs("div",{style:{flex:1,background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.05)",borderRadius:"10px",padding:"14px",textAlign:"center"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",marginBottom:"4px"},children:[w.jsx("span",{style:{fontSize:"12px"},children:g.emoji}),w.jsx("span",{style:{fontSize:"10px",color:"rgba(226, 232, 240, 0.4)",fontWeight:600,textTransform:"uppercase"},children:g.label})]}),w.jsx("p",{style:{fontSize:"20px",fontWeight:700,color:g.color},children:g.value})]},S))}),w.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"16px",borderTop:"1px solid rgba(255, 255, 255, 0.05)"},children:[w.jsxs("span",{style:{fontSize:"11px",color:"rgba(226, 232, 240, 0.3)"},children:["Member since ",new Date(a).toLocaleDateString("en-US",{month:"short",year:"numeric"})]}),w.jsx("span",{style:{fontSize:"11px",color:"rgba(139, 92, 246, 0.5)",fontWeight:600},children:"subfornothing.vercel.app"})]})]})]}),w.jsxs("div",{className:"flex gap-3 w-full max-w-[440px]",children:[w.jsxs(mt,{onClick:f,disabled:u,variant:"outline",className:"flex-1 border-violet-500/20 hover:border-violet-500/40 hover:bg-violet-500/10 cursor-pointer gap-2",children:[w.jsx(N6,{className:"h-4 w-4"}),u?"Capturing...":"Save Image"]}),w.jsxs(mt,{onClick:m,disabled:u,className:"flex-1 bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-500 hover:to-fuchsia-400 text-white cursor-pointer gap-2",children:[w.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Share on X"]})]}),w.jsx(mt,{onClick:l,variant:"ghost",className:"text-muted-foreground hover:text-foreground text-xs cursor-pointer",children:"Close"})]})]})}const aB=[{time:"Just now",event:"You opened the dashboard",detail:"Nothing happened."},{time:"2 min ago",event:"System check completed",detail:"Everything is still nothing."},{time:"1 hour ago",event:"Feature update deployed",detail:"No features were added."},{time:"3 days ago",event:"New roadmap published",detail:"It was blank."},{time:"Last week",event:"Server maintenance",detail:"We turned nothing off and back on."}];function oB(){const n=yc(),{profile:e,isLoggedIn:r,isSubscribed:s,isLoading:a,logout:l,recordTransaction:u,fetchTransactions:h,fetchLeaderboard:f}=wc(),[m,g]=ue.useState(new Date),[S,k]=ue.useState(!0),[j,z]=ue.useState(!1),[$,H]=ue.useState(""),[X,P]=ue.useState("SOL"),[F,ne]=ue.useState(!1),[he,fe]=ue.useState(200),[le,D]=ue.useState([]),[M,q]=ue.useState(0),[W,I]=ue.useState(!1),E=e?.total_sent||0,p=e?.name||"Subscriber";ue.useEffect(()=>{!a&&!r?n("/login"):!a&&r&&!s&&n("/signup")},[a,r,s,n]),ue.useEffect(()=>{r&&v()},[r,e?.total_sent]);const v=async()=>{const[L,V]=await Promise.all([h(),f()]);if(D(L),e){const te=V.findIndex(ae=>ae.id===e.id);q(te>=0?te+1:V.length+1)}};ue.useEffect(()=>{const L=setInterval(()=>g(new Date),1e3);return()=>clearInterval(L)},[]),ue.useEffect(()=>{const L=setTimeout(()=>k(!1),4e3);return()=>clearTimeout(L)},[]);const _=async L=>{const V=parseFloat($),te=Bf(V,X,he);(await u(te,X,L)).error||(H(""),ne(!1),await v())};ue.useEffect(()=>{x2().then(fe)},[]);const N=Rm(X,he),B=parseFloat($)||0,G=Bf(B,X,he),J=B>=N,T=[...le.slice(0,3).map(L=>({time:new Date(L.created_at).toLocaleDateString(),event:`Sent ${L.amount} ${L.token}`,detail:`Tx: ${L.tx_signature.slice(0,8)}...${L.tx_signature.slice(-6)}`,link:`https://solscan.io/tx/${L.tx_signature}`})),...aB.map(L=>({...L,link:""}))],b=[{label:"Features Used",value:"0",icon:v6,change:"0% from last lifetime"},{label:"Total Wasted",value:E>0?`$${E.toLocaleString()}`:"$0",icon:fm,change:E>0?"Gone forever":"Nothing yet"},{label:"Support Tickets",value:"0",icon:ak,change:"Can't file what doesn't exist"},{label:"Leaderboard Rank",value:M>0?`#${M}`:"",icon:Xr,change:M>0&&M<=10?"Top 10! Incredible waste":"Send more to climb"}];if(a)return w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:w.jsx(Sa,{className:"h-8 w-8 text-violet-400 animate-spin"})});const x=async()=>{await l(),n("/")};return w.jsxs("div",{className:"min-h-screen",children:[w.jsxs("nav",{className:"sticky top-0 z-50 border-b border-white/5 bg-background/80 backdrop-blur-xl",children:[w.jsxs("div",{className:"mx-auto flex h-14 sm:h-16 items-center justify-between px-4 sm:px-6",children:[w.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[w.jsx("div",{className:"flex h-8 w-8 sm:h-9 sm:w-9 items-center justify-center rounded-lg bg-gradient-to-br from-violet-600 to-fuchsia-500 shadow-lg shadow-violet-500/25 flex-shrink-0",children:w.jsx(Fs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),w.jsxs("div",{children:[w.jsxs("span",{className:"text-xs sm:text-sm font-bold tracking-tight",children:["Sub",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:"ForNothing"})]}),w.jsx("p",{className:"text-[8px] sm:text-[10px] text-muted-foreground -mt-0.5",children:"Dashboard"})]})]}),w.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[w.jsx(Mt,{to:"/leaderboard",children:w.jsxs(mt,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-yellow-400 cursor-pointer gap-1.5",children:[w.jsx(Xr,{className:"h-3.5 w-3.5"}),"Leaderboard"]})}),w.jsxs(mt,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-foreground cursor-pointer",children:[w.jsx(Ib,{className:"h-4 w-4"}),w.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-3.5 w-3.5 flex items-center justify-center rounded-full bg-violet-500 text-[8px] text-white font-bold",children:"0"})]}),w.jsx(mt,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground cursor-pointer",children:w.jsx(zb,{className:"h-4 w-4"})}),w.jsx(xr,{orientation:"vertical",className:"h-6 bg-white/10 mx-1"}),w.jsxs(mt,{onClick:x,variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground gap-2 cursor-pointer",children:[w.jsx(pf,{className:"h-4 w-4"}),"Log Out"]})]}),w.jsx("button",{onClick:()=>z(!j),className:"sm:hidden flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground hover:text-foreground hover:bg-white/5 transition-all cursor-pointer",children:j?w.jsx(Yw,{className:"h-5 w-5"}):w.jsx(Vw,{className:"h-5 w-5"})})]}),j&&w.jsx("div",{className:"sm:hidden border-t border-white/5 bg-background/95 backdrop-blur-xl animate-fade-in",children:w.jsxs("div",{className:"flex flex-col gap-1 p-3",children:[w.jsx(Mt,{to:"/leaderboard",onClick:()=>z(!1),children:w.jsxs(mt,{variant:"ghost",className:"w-full justify-start gap-2 cursor-pointer text-muted-foreground hover:text-yellow-400",children:[w.jsx(Xr,{className:"h-4 w-4"}),"Leaderboard"]})}),w.jsxs(mt,{variant:"ghost",className:"w-full justify-start gap-2 cursor-pointer text-muted-foreground",children:[w.jsx(Ib,{className:"h-4 w-4"}),"Notifications (0)"]}),w.jsxs(mt,{variant:"ghost",className:"w-full justify-start gap-2 cursor-pointer text-muted-foreground",children:[w.jsx(zb,{className:"h-4 w-4"}),"Settings"]}),w.jsx(xr,{className:"bg-white/5 my-1"}),w.jsxs(mt,{onClick:()=>{x(),z(!1)},variant:"ghost",className:"w-full justify-start gap-2 cursor-pointer text-muted-foreground hover:text-red-400",children:[w.jsx(pf,{className:"h-4 w-4"}),"Log Out"]})]})})]}),w.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 py-6 sm:py-10",children:[w.jsxs("div",{className:"relative mb-6 sm:mb-10 overflow-hidden rounded-xl sm:rounded-2xl border border-white/5 bg-gradient-to-br from-violet-600/10 via-fuchsia-600/5 to-transparent p-5 sm:p-8",children:[w.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[w.jsx("div",{className:"absolute top-0 right-0 h-[150px] w-[150px] sm:h-[200px] sm:w-[200px] rounded-full bg-violet-600/20 blur-[80px]"}),w.jsx("div",{className:"absolute bottom-0 left-1/3 h-[100px] w-[100px] sm:h-[150px] sm:w-[150px] rounded-full bg-fuchsia-600/15 blur-[60px]"})]}),w.jsxs("div",{className:"relative z-10 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between sm:gap-6",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[S&&w.jsx(F6,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-400 animate-bounce"}),w.jsxs("h1",{className:"text-xl sm:text-3xl font-bold tracking-tight",children:["Hey ",p,","," ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:"welcome back!"})]})]}),w.jsx("p",{className:"text-xs sm:text-base text-muted-foreground max-w-lg leading-relaxed",children:E>0?`You've wasted $${E.toLocaleString()} so far. ${M>0?`You're rank #${M} on the leaderboard.`:""} Keep sending to climb higher!`:"Your lifetime subscription is active! Send some funds to get on the leaderboard."})]}),w.jsxs(pi,{className:"flex-shrink-0 bg-emerald-500/10 text-emerald-400 border-emerald-500/20 px-3 py-1.5 sm:px-4 sm:py-2 w-fit text-xs",children:[w.jsxs("span",{className:"relative flex h-2 w-2 mr-2",children:[w.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),w.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),"Lifetime Active"]}),w.jsxs(mt,{onClick:()=>I(!0),variant:"outline",className:"flex-shrink-0 border-violet-500/20 hover:border-violet-500/40 hover:bg-violet-500/10 cursor-pointer gap-2 text-xs px-3 py-1.5 sm:px-4 sm:py-2 w-fit",children:[w.jsx(Z6,{className:"h-3.5 w-3.5"}),"Share Card"]})]})]}),w.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 lg:grid-cols-4 mb-6 sm:mb-8",children:b.map((L,V)=>w.jsx(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-sm transition-all duration-300 hover:border-violet-500/10 hover:bg-white/[0.04]",children:w.jsxs(Gn,{className:"p-3 sm:p-5",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[w.jsx("p",{className:"text-[9px] sm:text-xs font-medium text-muted-foreground uppercase tracking-wider",children:L.label}),w.jsx(L.icon,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-muted-foreground/50"})]}),w.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-0.5 sm:mb-1",children:L.value}),w.jsx("p",{className:"text-[9px] sm:text-xs text-muted-foreground",children:L.change})]})},V))}),w.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[w.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[w.jsxs(Fn,{className:"border-violet-500/20 bg-gradient-to-br from-violet-600/5 to-fuchsia-600/5 backdrop-blur-sm overflow-hidden",children:[w.jsx("div",{className:"h-1 bg-gradient-to-r from-violet-500 via-fuchsia-500 to-violet-500"}),w.jsxs(zr,{className:"pb-2 sm:pb-3",children:[w.jsxs(qr,{className:"text-base sm:text-lg flex items-center gap-2",children:[w.jsx(hm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400"}),"Send More Funds"]}),w.jsxs(Qi,{className:"text-xs sm:text-sm",children:["Pay with Solana Pay  scan the QR code with Phantom or any Solana wallet.",M>0&&` You're currently rank #${M}.`]})]}),w.jsx(Gn,{className:"space-y-4",children:F?w.jsx(Am,{amount:B,token:X,onSuccess:_,onCancel:()=>ne(!1)}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(hi,{className:"text-xs sm:text-sm",children:"Amount to send"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(qs,{type:"number",min:N,step:"any",placeholder:String(N),value:$,onChange:L=>H(L.target.value),className:"h-10 sm:h-11 text-sm border-white/10 bg-white/[0.03] placeholder:text-muted-foreground/50 focus-visible:ring-violet-500/30 focus-visible:border-violet-500/30 transition-all flex-1 min-w-0"}),w.jsx("div",{className:"flex gap-1 flex-shrink-0",children:["SOL","USDC","USDT"].map(L=>w.jsx("button",{type:"button",onClick:()=>{P(L),H("")},className:`px-2 sm:px-3 py-2 rounded-lg text-[10px] sm:text-xs font-medium transition-all cursor-pointer ${X===L?L==="SOL"?"bg-purple-500/20 text-purple-300 ring-1 ring-purple-500/30":L==="USDC"?"bg-blue-500/20 text-blue-300 ring-1 ring-blue-500/30":"bg-emerald-500/20 text-emerald-300 ring-1 ring-emerald-500/30":"bg-white/[0.03] text-muted-foreground hover:bg-white/[0.06]"}`,children:L},L))})]}),w.jsxs("div",{className:"flex justify-between",children:[w.jsxs("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground/60",children:["Min: ",N," ",X," ($",Wi,")"]}),B>0&&w.jsxs("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground/60",children:[" $",G.toFixed(2)," USD"]})]}),B>0&&!J&&w.jsxs("p",{className:"text-[10px] text-red-400",children:["Minimum $",Wi," required (",N," ",X,")."]})]}),w.jsxs(mt,{onClick:()=>ne(!0),disabled:!$||!J,className:"w-full h-10 sm:h-11 bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-500 hover:to-fuchsia-400 text-white shadow-lg shadow-violet-500/25 transition-all duration-300 hover:shadow-violet-500/40 cursor-pointer disabled:opacity-50 text-sm",children:[w.jsx(hm,{className:"mr-2 h-4 w-4"}),"Generate Payment QR"]}),w.jsx("p",{className:"text-[9px] sm:text-[10px] text-center text-muted-foreground",children:"Payments are verified on the Solana blockchain. Only confirmed transactions are credited."})]})})]}),w.jsxs(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-sm",children:[w.jsxs(zr,{className:"pb-2 sm:pb-4",children:[w.jsxs(qr,{className:"text-base sm:text-lg flex items-center gap-2",children:[w.jsx(cm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-violet-400"}),"Your Content"]}),w.jsx(Qi,{className:"text-xs sm:text-sm",children:"Everything you've unlocked with your lifetime subscription"})]}),w.jsx(Gn,{children:w.jsxs("div",{className:"flex flex-col items-center justify-center py-10 sm:py-16 text-center",children:[w.jsx("div",{className:"mb-4 sm:mb-6 flex h-16 w-16 sm:h-20 sm:w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-violet-600/10 to-fuchsia-600/10 ring-1 ring-violet-500/10",children:w.jsx(cm,{className:"h-8 w-8 sm:h-10 sm:w-10 text-violet-400/50"})}),w.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:"It's beautifully empty"}),w.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground max-w-sm mb-4 sm:mb-6 leading-relaxed px-4",children:"This is where your features would be. If we had any. Which we don't. And probably won't. But hey, the dashboard looks nice!"}),w.jsxs(pi,{variant:"outline",className:"border-violet-500/20 text-violet-300 bg-violet-500/5 text-[10px] sm:text-xs px-2",children:[w.jsx(um,{className:"mr-1 sm:mr-1.5 h-2.5 w-2.5 sm:h-3 sm:w-3"}),"Features may be implemented. But probably mostly nothing."]})]})})]}),w.jsxs(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-sm",children:[w.jsxs(zr,{className:"pb-2 sm:pb-4",children:[w.jsxs(qr,{className:"text-base sm:text-lg flex items-center gap-2",children:[w.jsx(om,{className:"h-4 w-4 sm:h-5 sm:w-5 text-violet-400"}),"Activity Log"]}),w.jsx(Qi,{className:"text-xs sm:text-sm",children:"A detailed record of all the nothing that's happened"})]}),w.jsx(Gn,{children:w.jsx("div",{className:"space-y-3 sm:space-y-4",children:T.slice(0,8).map((L,V)=>w.jsxs("div",{className:"flex gap-3 sm:gap-4 pb-3 sm:pb-4 border-b border-white/5 last:border-0 last:pb-0",children:[w.jsx("div",{className:"flex-shrink-0 mt-1.5",children:w.jsx("div",{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full bg-violet-400/50"})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"flex items-start justify-between gap-2 mb-0.5",children:[w.jsx("p",{className:"text-xs sm:text-sm font-medium",children:L.event}),w.jsx("span",{className:"text-[9px] sm:text-[10px] text-muted-foreground flex-shrink-0",children:L.time})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:L.detail}),L.link&&w.jsx("a",{href:L.link,target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 hover:text-violet-300",children:w.jsx(lm,{className:"h-2.5 w-2.5"})})]})]})]},V))})})]})]}),w.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[w.jsxs(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-sm",children:[w.jsx(zr,{className:"pb-2 sm:pb-3",children:w.jsxs(qr,{className:"text-base sm:text-lg flex items-center gap-2",children:[w.jsx(R6,{className:"h-4 w-4 sm:h-5 sm:w-5 text-violet-400"}),"Subscription"]})}),w.jsxs(Gn,{className:"space-y-3 sm:space-y-4",children:[w.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-violet-600/10 to-fuchsia-600/10 ring-1 ring-violet-500/10 p-3 sm:p-4",children:[w.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[w.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"The Nothing Plan"}),w.jsx(pi,{className:`${e?.has_paid?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-red-500/10 text-red-400 border-red-500/20"} text-[9px] sm:text-[10px]`,children:e?.has_paid?"Lifetime":"Unpaid"})]}),w.jsxs("div",{className:"flex items-baseline gap-1 mt-2",children:[w.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:["$",E.toLocaleString()]}),w.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"USD total sent"})]}),w.jsxs("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground mt-1",children:[le.length," verified transaction",le.length!==1?"s":""," on-chain"]})]}),w.jsx(xr,{className:"bg-white/5"}),w.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[w.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[w.jsx("span",{className:"text-muted-foreground",children:"Status"}),w.jsx("span",{className:`${e?.has_paid?"text-emerald-400":"text-red-400"} font-medium`,children:e?.has_paid?"Lifetime Active":"Not Active"})]}),w.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[w.jsx("span",{className:"text-muted-foreground",children:"Value received"}),w.jsx("span",{children:"$0.00"})]}),w.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[w.jsx("span",{className:"text-muted-foreground",children:"Money wasted"}),w.jsxs("span",{className:"text-red-400 font-medium",children:["$",E.toLocaleString()]})]}),w.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[w.jsx("span",{className:"text-muted-foreground",children:"ROI"}),w.jsx("span",{className:"text-red-400 font-medium",children:E>0?"-100%":"0%"})]}),w.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[w.jsx("span",{className:"text-muted-foreground",children:"Leaderboard rank"}),w.jsxs(Mt,{to:"/leaderboard",className:"text-yellow-400 hover:text-yellow-300 font-medium flex items-center gap-1 transition-colors",children:[M>0?`#${M}`:""," ",w.jsx(Xr,{className:"h-3 w-3"})]})]})]}),w.jsx(xr,{className:"bg-white/5"}),w.jsx("div",{className:"rounded-lg bg-amber-500/5 border border-amber-500/10 p-2.5 sm:p-3",children:w.jsxs("div",{className:"flex gap-2",children:[w.jsx(Kw,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-amber-400 flex-shrink-0 mt-0.5"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-amber-300",children:"Don't forget!"}),w.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-0.5",children:"Don't forget to resubscribe every lifetime. The nothing isn't going to pay for itself."})]})]})}),w.jsx("div",{className:"rounded-lg bg-violet-500/5 border border-violet-500/10 p-2.5 sm:p-3",children:w.jsxs("div",{className:"flex gap-2",children:[w.jsx(fm,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-violet-400 flex-shrink-0 mt-0.5"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-violet-300",children:"Climb the ranks!"}),w.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-0.5",children:["Send more SOL, USDC, or USDT to climb the leaderboard.",M>0?` You're currently #${M}.`:""," ",M>10?"Embarrassing.":M>0?"Impressive waste!":""]})]})]})}),w.jsx(mt,{variant:"outline",className:"w-full border-white/10 hover:border-red-500/30 hover:bg-red-500/5 hover:text-red-400 transition-all cursor-pointer text-xs sm:text-sm",children:"Cancel Subscription (Why would you?)"})]})]}),w.jsxs(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-sm",children:[w.jsx(zr,{className:"pb-2 sm:pb-3",children:w.jsxs(qr,{className:"text-xs sm:text-sm flex items-center gap-2",children:[w.jsx(om,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-violet-400"}),"Time Wasted Today"]})}),w.jsx(Gn,{children:w.jsxs("div",{className:"text-center py-3 sm:py-4",children:[w.jsx("p",{className:"text-2xl sm:text-3xl font-mono font-bold text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:m.toLocaleTimeString()}),w.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-2",children:"Every second on this page is a second you'll never get back"})]})})]}),w.jsxs(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-sm",children:[w.jsx(zr,{className:"pb-2 sm:pb-3",children:w.jsxs(qr,{className:"text-xs sm:text-sm flex items-center gap-2",children:[w.jsx(um,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-violet-400"}),"Upcoming Features"]})}),w.jsx(Gn,{children:w.jsx("div",{className:"space-y-2 sm:space-y-3",children:[{feature:"More nothing",eta:"Q1 2027"},{feature:"Advanced nothing",eta:"Q3 2027"},{feature:"Nothing 2.0",eta:"Eventually"},{feature:"Something (jk)",eta:"Never"}].map((L,V)=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:L.feature}),w.jsx(pi,{variant:"outline",className:"text-[8px] sm:text-[10px] border-white/10 text-muted-foreground",children:L.eta})]},V))})})]})]})]})]}),W&&w.jsx(sB,{name:p,totalWasted:E,rank:M,txCount:le.length,memberSince:e?.created_at||new Date().toISOString(),onClose:()=>I(!1)})]})}function Bv(n){return n===1?w.jsx(Pw,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400"}):n===2?w.jsx(gf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-300"}):n===3?w.jsx(gf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-amber-600"}):w.jsxs("span",{className:"text-xs sm:text-sm font-mono text-muted-foreground",children:["#",n]})}function Cv(n,e){return e?"bg-gradient-to-r from-violet-500/15 to-fuchsia-500/10 border-violet-500/30":n===1?"bg-gradient-to-r from-yellow-500/10 to-amber-500/5 border-yellow-500/20":n===2?"bg-gradient-to-r from-gray-400/10 to-gray-500/5 border-gray-400/20":n===3?"bg-gradient-to-r from-amber-600/10 to-orange-600/5 border-amber-600/20":"border-white/5 hover:border-violet-500/10"}function lB(){const[n,e]=ue.useState(!0),[r,s]=ue.useState([]),{profile:a,fetchLeaderboard:l}=wc();ue.useEffect(()=>{u()},[]);const u=async()=>{e(!0);const m=(await l()).map((g,S)=>({...g,rank:S+1,isUser:a?g.id===a.id:!1}));s(m),e(!1)},h=r.reduce((f,m)=>f+Number(m.total_sent),0);return w.jsxs("div",{className:"min-h-screen",children:[w.jsx(Ww,{}),w.jsxs("div",{className:"mx-auto max-w-5xl px-4 sm:px-6 pt-24 sm:pt-28 pb-16 sm:pb-20",children:[w.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[w.jsxs(Mt,{to:"/",className:"mb-4 sm:mb-6 inline-flex items-center gap-2 text-xs sm:text-sm text-muted-foreground hover:text-foreground transition-colors group",children:[w.jsx(Dm,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 transition-transform group-hover:-translate-x-1"}),"Back to nothing"]}),w.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:w.jsx("div",{className:"flex h-12 w-12 sm:h-14 sm:w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-yellow-500/20 to-amber-500/20 ring-1 ring-yellow-500/20",children:w.jsx(Xr,{className:"h-6 w-6 sm:h-7 sm:w-7 text-yellow-400"})})}),w.jsxs("h1",{className:"text-2xl sm:text-4xl lg:text-5xl font-extrabold tracking-tight mb-3 sm:mb-4",children:["Hall of"," ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-amber-400 to-orange-400",children:"Wasted Funds"})]}),w.jsx("p",{className:"text-muted-foreground text-sm sm:text-lg max-w-2xl mx-auto mb-6 sm:mb-8 px-2",children:"The top 50 legends who have thrown away the most money on absolutely nothing. Climb the ranks by sending more. Your parents would be so proud."}),w.jsxs("div",{className:"flex items-center justify-center gap-4 sm:gap-8 mb-6 sm:mb-8",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-lg sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400",children:h>0?"$"+h.toLocaleString():"$0"}),w.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Total Wasted"})]}),w.jsx(xr,{orientation:"vertical",className:"h-8 sm:h-10 bg-white/10"}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:r.length}),w.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Wasters"})]}),w.jsx(xr,{orientation:"vertical",className:"h-8 sm:h-10 bg-white/10"}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-lg sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-amber-400",children:r[0]?.total_sent?"$"+Number(r[0].total_sent).toLocaleString():"$0"}),w.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"#1 Biggest Waster"})]})]})]}),n&&w.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[w.jsx(Sa,{className:"h-8 w-8 text-violet-400 animate-spin mb-4"}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading the hall of shame..."})]}),!n&&r.length===0&&w.jsxs("div",{className:"text-center py-20",children:[w.jsx(Xr,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),w.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No wasters yet!"}),w.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Be the first to subscribe to nothing."}),w.jsx(Mt,{to:"/signup",children:w.jsx(mt,{className:"bg-gradient-to-r from-violet-600 to-fuchsia-500 text-white cursor-pointer",children:"Be #1 on the Leaderboard"})})]}),!n&&r.length>=3&&w.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 mb-6 sm:mb-8 max-w-2xl mx-auto",children:[w.jsx("div",{className:"mt-6 sm:mt-8",children:w.jsxs(Fn,{className:`${r[1]?.isUser?"border-violet-500/30 ring-1 ring-violet-500/20":"border-gray-400/20"} bg-gradient-to-b from-gray-400/10 to-transparent backdrop-blur-sm text-center overflow-hidden`,children:[w.jsx("div",{className:"h-0.5 sm:h-1 bg-gradient-to-r from-gray-300 to-gray-500"}),w.jsxs(Gn,{className:"p-2 sm:p-4 pt-3 sm:pt-5",children:[r[1]?.isUser?w.jsx(Xl,{className:"h-6 w-6 sm:h-8 sm:w-8 text-violet-400 mx-auto mb-1 sm:mb-2"}):w.jsx(gf,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-300 mx-auto mb-1 sm:mb-2"}),w.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mb-0.5 sm:mb-1",children:"#2"}),w.jsxs("p",{className:`font-bold text-[10px] sm:text-sm truncate mb-0.5 sm:mb-1 ${r[1]?.isUser?"text-violet-300":""}`,children:[r[1]?.isUser?" ":"",r[1]?.name]}),w.jsxs("p",{className:"text-sm sm:text-lg font-bold text-gray-300",children:["$",Number(r[1]?.total_sent).toLocaleString()]})]})]})}),w.jsx("div",{children:w.jsxs(Fn,{className:`${r[0]?.isUser?"border-violet-500/30 ring-1 ring-violet-500/20":"border-yellow-500/20"} bg-gradient-to-b from-yellow-500/15 to-transparent backdrop-blur-sm text-center overflow-hidden relative`,children:[w.jsx("div",{className:"h-1 sm:h-1.5 bg-gradient-to-r from-yellow-400 via-amber-400 to-yellow-500"}),w.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-yellow-500/5 to-transparent pointer-events-none"}),w.jsxs(Gn,{className:"p-2 sm:p-4 pt-3 sm:pt-5 relative",children:[r[0]?.isUser?w.jsx(Xl,{className:"h-7 w-7 sm:h-10 sm:w-10 text-violet-400 mx-auto mb-1 sm:mb-2 drop-shadow-[0_0_8px_rgba(139,92,246,0.4)]"}):w.jsx(Pw,{className:"h-7 w-7 sm:h-10 sm:w-10 text-yellow-400 mx-auto mb-1 sm:mb-2 drop-shadow-[0_0_8px_rgba(250,204,21,0.4)]"}),w.jsx("p",{className:"text-[9px] sm:text-xs text-yellow-400 font-bold mb-0.5 sm:mb-1",children:"#1 CHAMPION"}),w.jsxs("p",{className:`font-bold text-[10px] sm:text-base truncate mb-0.5 sm:mb-1 ${r[0]?.isUser?"text-violet-300":""}`,children:[r[0]?.isUser?" ":"",r[0]?.name]}),w.jsxs("p",{className:"text-lg sm:text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-amber-400",children:["$",Number(r[0]?.total_sent).toLocaleString()]}),w.jsxs(pi,{className:"mt-1 sm:mt-2 bg-yellow-500/10 text-yellow-400 border-yellow-500/20 text-[8px] sm:text-[10px]",children:[w.jsx(M6,{className:"mr-1 h-2.5 w-2.5 sm:h-3 sm:w-3"}),"Top Waster"]})]})]})}),w.jsx("div",{className:"mt-6 sm:mt-8",children:w.jsxs(Fn,{className:`${r[2]?.isUser?"border-violet-500/30 ring-1 ring-violet-500/20":"border-amber-600/20"} bg-gradient-to-b from-amber-600/10 to-transparent backdrop-blur-sm text-center overflow-hidden`,children:[w.jsx("div",{className:"h-0.5 sm:h-1 bg-gradient-to-r from-amber-600 to-orange-600"}),w.jsxs(Gn,{className:"p-2 sm:p-4 pt-3 sm:pt-5",children:[r[2]?.isUser?w.jsx(Xl,{className:"h-6 w-6 sm:h-8 sm:w-8 text-violet-400 mx-auto mb-1 sm:mb-2"}):w.jsx(gf,{className:"h-6 w-6 sm:h-8 sm:w-8 text-amber-600 mx-auto mb-1 sm:mb-2"}),w.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mb-0.5 sm:mb-1",children:"#3"}),w.jsxs("p",{className:`font-bold text-[10px] sm:text-sm truncate mb-0.5 sm:mb-1 ${r[2]?.isUser?"text-violet-300":""}`,children:[r[2]?.isUser?" ":"",r[2]?.name]}),w.jsxs("p",{className:"text-sm sm:text-lg font-bold text-amber-500",children:["$",Number(r[2]?.total_sent).toLocaleString()]})]})]})})]}),!n&&r.length>0&&w.jsxs(Fn,{className:"border-white/5 bg-white/[0.02] backdrop-blur-sm overflow-hidden",children:[w.jsx(zr,{className:"pb-2 px-4 sm:px-6",children:w.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:w.jsxs("div",{children:[w.jsxs(qr,{className:"text-base sm:text-lg flex items-center gap-2",children:[w.jsx(fm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-violet-400"}),"All Subscribers"]}),w.jsx(Qi,{className:"text-xs sm:text-sm",children:"Ranked by total funds sent  verified on the Solana blockchain"})]})})}),w.jsxs(Gn,{className:"p-0",children:[w.jsxs("div",{className:"hidden md:grid grid-cols-[60px_1fr_120px_80px] gap-4 px-6 py-3 text-xs font-medium text-muted-foreground uppercase tracking-wider border-b border-white/5 bg-white/[0.02]",children:[w.jsx("span",{children:"Rank"}),w.jsx("span",{children:"Subscriber"}),w.jsx("span",{className:"text-right",children:"Total Wasted (USD)"}),w.jsx("span",{className:"text-right",children:"Details"})]}),w.jsx("div",{className:"divide-y divide-white/[0.03]",children:r.map(f=>w.jsxs("div",{children:[w.jsxs("div",{className:`hidden md:grid grid-cols-[60px_1fr_120px_80px] gap-4 px-6 py-3.5 items-center transition-all duration-200 hover:bg-white/[0.03] ${Cv(f.rank,!!f.isUser)}`,children:[w.jsx("div",{className:"flex items-center justify-center",children:Bv(f.rank)}),w.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[f.isUser&&w.jsx(Xl,{className:"h-3.5 w-3.5 text-violet-400 flex-shrink-0"}),w.jsxs("p",{className:`font-semibold text-sm truncate ${f.isUser?"text-violet-300":f.rank===1?"text-yellow-300":f.rank<=3?"text-foreground":""}`,children:[f.isUser?" ":"",f.name,f.isUser&&w.jsx("span",{className:"text-[10px] text-violet-400/60 ml-1",children:"(You)"})]})]}),w.jsx("div",{className:"text-right",children:w.jsxs("span",{className:`font-bold text-sm ${f.isUser?"text-violet-300":f.rank===1?"text-yellow-400":f.rank<=3?"text-violet-300":""}`,children:["$",Number(f.total_sent).toLocaleString()]})}),w.jsx("div",{className:"text-right",children:w.jsx(pi,{variant:"outline",className:"text-[10px] border-violet-500/20 text-violet-300 bg-violet-500/5",children:"Verified"})})]}),w.jsxs("div",{className:`md:hidden flex items-center gap-3 px-4 py-3 transition-all ${Cv(f.rank,!!f.isUser)}`,children:[w.jsx("div",{className:"flex items-center justify-center w-8 flex-shrink-0",children:Bv(f.rank)}),w.jsx("div",{className:"flex-1 min-w-0",children:w.jsxs("div",{className:"flex items-center gap-1",children:[f.isUser&&w.jsx(Xl,{className:"h-3 w-3 text-violet-400 flex-shrink-0"}),w.jsxs("p",{className:`font-semibold text-xs truncate ${f.isUser?"text-violet-300":f.rank===1?"text-yellow-300":""}`,children:[f.isUser?" ":"",f.name,f.isUser&&w.jsx("span",{className:"text-[9px] text-violet-400/60 ml-0.5",children:"(You)"})]})]})}),w.jsx("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:w.jsxs("span",{className:`font-bold text-xs ${f.isUser?"text-violet-300":f.rank===1?"text-yellow-400":f.rank<=3?"text-violet-300":""}`,children:["$",Number(f.total_sent).toLocaleString()]})})]})]},f.id))})]})]}),w.jsxs("div",{className:"text-center mt-8 sm:mt-12",children:[w.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"Not on the leaderboard yet? That's embarrassing."}),w.jsx(Mt,{to:"/signup",children:w.jsx(mt,{className:"bg-gradient-to-r from-violet-600 to-fuchsia-500 hover:from-violet-500 hover:to-fuchsia-400 text-white shadow-lg shadow-violet-500/25 transition-all duration-300 hover:shadow-violet-500/40 cursor-pointer",children:"Waste Money Now"})})]})]}),w.jsx("footer",{className:"border-t border-white/5 py-6 sm:py-8 px-4 sm:px-6",children:w.jsxs("div",{className:"mx-auto max-w-7xl flex flex-col items-center justify-between gap-3 sm:flex-row",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"flex h-7 w-7 items-center justify-center rounded-md bg-gradient-to-br from-violet-600 to-fuchsia-500",children:w.jsx(Fs,{className:"h-4 w-4 text-white"})}),w.jsx("span",{className:"text-sm font-semibold",children:"SubForNothing"})]}),w.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground text-center",children:[" ",new Date().getFullYear()," SubForNothing. No rights reserved because there is nothing to copyright."]})]})})]})}function cB(){return w.jsx(sR,{children:w.jsx("div",{className:"dark min-h-screen bg-background text-foreground",children:w.jsxs(zE,{children:[w.jsx(To,{path:"/",element:w.jsx(dk,{})}),w.jsx(To,{path:"/login",element:w.jsx(mk,{})}),w.jsx(To,{path:"/signup",element:w.jsx(Q8,{})}),w.jsx(To,{path:"/dashboard",element:w.jsx(oB,{})}),w.jsx(To,{path:"/leaderboard",element:w.jsx(lB,{})})]})})})}HS.createRoot(document.getElementById("root")).render(w.jsx(ue.StrictMode,{children:w.jsx(cA,{children:w.jsx(cB,{})})}));
